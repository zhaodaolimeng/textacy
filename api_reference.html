

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; textacy 0.6.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="textacy 0.6.0 documentation" href="index.html"/>
        <link rel="next" title="Changelog" href="changelog.html"/>
        <link rel="prev" title="Quickstart" href="getting_started/quickstart.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> textacy
          

          
          </a>

          
            
            
              <div class="version">
                0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.doc">Doc</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.corpus">Corpus</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.datasets.capitol_words">Datasets</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#capitol-words">Capitol Words</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supreme-court-decisions">Supreme Court Decisions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wikipedia">Wikipedia</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reddit-comments">Reddit Comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#oxford-text-archive">Oxford Text Archive</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.preprocess">Text Preprocessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.extract">Information Extraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.vsm.vectorizers">Vectorization &amp; Topic Modeling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vectorizers">Vectorizers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sparse-matrix-utils">Sparse Matrix Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="#topic-models">Topic Models</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.io.utils">IO</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#utils">Utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text">Text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#json">JSON</a></li>
<li class="toctree-l3"><a class="reference internal" href="#csv">CSV</a></li>
<li class="toctree-l3"><a class="reference internal" href="#matrix">Matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">spaCy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#http">HTTP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.viz.termite">Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.text_utils">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-textacy.network">Other Stuff!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#semantic-networks">Semantic Networks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#similarity">Similarity</a></li>
<li class="toctree-l3"><a class="reference internal" href="#text-statistics">Text Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cache">Cache</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lexicon-methods">Lexicon Methods</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">textacy</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api_reference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-reference">
<span id="ref-api-reference"></span><h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-textacy.doc">
<span id="doc"></span><h2>Doc<a class="headerlink" href="#module-textacy.doc" title="Permalink to this headline">¶</a></h2>
<p>Load, process, iterate, transform, and save text content paired with metadata
– a document.</p>
<dl class="class">
<dt id="textacy.doc.Doc">
<em class="property">class </em><code class="descclassname">textacy.doc.</code><code class="descname">Doc</code><span class="sig-paren">(</span><em>content</em>, <em>metadata=None</em>, <em>lang=&lt;function detect_language&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/doc.html#Doc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.doc.Doc" title="Permalink to this definition">¶</a></dt>
<dd><p>A text document parsed by spaCy and, optionally, paired with key metadata.
Transform <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> into an easily-customized list of terms, a bag-of-words
or (more general) bag-of-terms, or a semantic network; save and load parsed
content and metadata to and from disk; index, slice, and iterate through
tokens and sentences; and more.</p>
<p>Initialize from a text and (optional) metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">content</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">    The apparent symmetry between the quark and lepton families of</span>
<span class="gp">... </span><span class="s1">    the Standard Model (SM) are, at the very least, suggestive of</span>
<span class="gp">... </span><span class="s1">    a more fundamental relationship between them. In some Beyond the</span>
<span class="gp">... </span><span class="s1">    Standard Model theories, such interactions are mediated by</span>
<span class="gp">... </span><span class="s1">    leptoquarks (LQs): hypothetical color-triplet bosons with both</span>
<span class="gp">... </span><span class="s1">    lepton and baryon number and fractional electric charge.&#39;&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">metadata</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;A Search for 2nd-generation Leptoquarks at √s = 7 TeV&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;author&#39;</span><span class="p">:</span> <span class="s1">&#39;Burton DeWilde&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="s1">&#39;pub_date&#39;</span><span class="p">:</span> <span class="s1">&#39;2012-08-01&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Doc</span><span class="p">(</span><span class="n">content</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="n">metadata</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="go">Doc(71 tokens; &quot;The apparent symmetry between the quark and lep...&quot;)</span>
</pre></div>
</div>
<p>Transform into other, common formats:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span><span class="o">.</span><span class="n">to_bag_of_words</span><span class="p">(</span><span class="n">lemmatize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">as_strings</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="go">{205123: 1, 21382: 1, 17929: 1, 175499: 2, 396: 1, 29774: 1, 27472: 1,</span>
<span class="go"> 4498: 1, 1814: 1, 1176: 1, 49050: 1, 287836: 1, 1510365: 1, 6239: 2,</span>
<span class="go"> 3553: 1, 5607: 1, 4776: 1, 49580: 1, 6701: 1, 12078: 2, 63216: 1,</span>
<span class="go"> 6738: 1, 83061: 1, 5243: 1, 1599: 1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span><span class="o">.</span><span class="n">to_bag_of_terms</span><span class="p">(</span><span class="n">ngrams</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">named_entities</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">lemmatize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">{&#39;apparent symmetry&#39;: 1, &#39;baryon number&#39;: 1, &#39;electric charge&#39;: 1,</span>
<span class="go"> &#39;fractional electric&#39;: 1, &#39;fundamental relationship&#39;: 1,</span>
<span class="go"> &#39;hypothetical color&#39;: 1, &#39;lepton family&#39;: 1, &#39;model theory&#39;: 1,</span>
<span class="go"> &#39;standard model&#39;: 2, &#39;triplet boson&#39;: 1}</span>
</pre></div>
</div>
<p>Doc as sequence of tokens, emulating spaCy’s “sequence API”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span><span class="p">[</span><span class="mi">49</span><span class="p">]</span>  <span class="c1"># spacy.Token</span>
<span class="go">leptoquarks</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>  <span class="c1"># spacy.Span</span>
<span class="go">The apparent symmetry</span>
</pre></div>
</div>
<p>Save to and load from disk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;~/Desktop/leptoquarks.pkl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Doc</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;~/Desktop/leptoquarks.pkl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="go">Doc(71 tokens; &quot;The apparent symmetry between the quark and lep...&quot;)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>content</strong> (str or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – Document content as (unicode) text or an
already-parsed <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>. If str, content is processed by models
loaded with a <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> and assigned to <a class="reference internal" href="#textacy.doc.Doc.spacy_doc" title="textacy.doc.Doc.spacy_doc"><code class="xref py py-attr docutils literal notranslate"><span class="pre">spacy_doc</span></code></a>.</li>
<li><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Dictionary of relevant information about content. This
can be helpful when identifying and filtering documents, as well as
when engineering features for model inputs.</li>
<li><strong>lang</strong> (str or <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> or callable) – <p>Language of document content.
If known, pass a standard 2-letter language code (e.g. “en”), or the
name of a spacy model for the desired language (e.g. “en_core_web_md”),
or an already-instantiated <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> object. If not known,
pass a function/callable that takes unicode text as input and outputs
a standard 2-letter language code.</p>
<p>The given or detected language str is used to instantiate a corresponding
<code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> with all models loaded by default, and the appropriate
2-letter lang code is assigned to <a class="reference internal" href="#textacy.doc.Doc.lang" title="textacy.doc.Doc.lang"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Doc.lang</span></code></a>.</p>
<p><strong>Note:</strong> The <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> object parses <code class="docutils literal notranslate"><span class="pre">content</span></code>
(if str) and sets the <a class="reference internal" href="#textacy.doc.Doc.spacy_vocab" title="textacy.doc.Doc.spacy_vocab"><code class="xref py py-attr docutils literal notranslate"><span class="pre">spacy_vocab</span></code></a> and <a class="reference internal" href="#textacy.doc.Doc.spacy_stringstore" title="textacy.doc.Doc.spacy_stringstore"><code class="xref py py-attr docutils literal notranslate"><span class="pre">spacy_stringstore</span></code></a>
attributes. See <a class="reference external" href="https://spacy.io/usage/models#section-available">https://spacy.io/usage/models#section-available</a> for
available spacy models.</p>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.doc.Doc.lang">
<code class="descname">lang</code><a class="headerlink" href="#textacy.doc.Doc.lang" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – 2-letter code for language of <code class="docutils literal notranslate"><span class="pre">Doc</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.metadata">
<code class="descname">metadata</code><a class="headerlink" href="#textacy.doc.Doc.metadata" title="Permalink to this definition">¶</a></dt>
<dd><p><em>dict</em> – Dictionary of relevant information about content.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.spacy_doc">
<code class="descname">spacy_doc</code><a class="headerlink" href="#textacy.doc.Doc.spacy_doc" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code> – <a class="reference external" href="https://spacy.io/api/doc">https://spacy.io/api/doc</a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.spacy_vocab">
<code class="descname">spacy_vocab</code><a class="headerlink" href="#textacy.doc.Doc.spacy_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">spacy.Vocab</span></code> – <a class="reference external" href="https://spacy.io/api/vocab">https://spacy.io/api/vocab</a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.spacy_stringstore">
<code class="descname">spacy_stringstore</code><a class="headerlink" href="#textacy.doc.Doc.spacy_stringstore" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">spacy.StringStore</span></code> – <a class="reference external" href="https://spacy.io/api/stringstore">https://spacy.io/api/stringstore</a></p>
</dd></dl>

<dl class="method">
<dt id="textacy.doc.Doc.count">
<code class="descname">count</code><span class="sig-paren">(</span><em>term</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/doc.html#Doc.count"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.doc.Doc.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of occurrences (i.e. count) of <code class="docutils literal notranslate"><span class="pre">term</span></code> in <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>term</strong> (str or int or <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>) – The term to
be counted can be given as a string, a unique integer id, a
spacy token, or a spacy span. Counts for the same term given in
different forms are the same!</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Count of <code class="docutils literal notranslate"><span class="pre">term</span></code> in <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)">int</a></td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Counts are cached. The first time a single word’s count is
looked up, <em>all</em> words’ counts are saved, resulting in a slower
runtime the first time but orders of magnitude faster runtime for
subsequent calls for this or any other word. Similarly, if a
bigram’s count is looked up, all bigrams’ counts are stored — etc.
If spans are merged using <a class="reference internal" href="#textacy.doc.Doc.merge" title="textacy.doc.Doc.merge"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Doc.merge()</span></code></a>, all cached counts are
deleted, since merging spans will invalidate many counts. Better to
merge first, count second!</p>
</div>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">lang</code></dt>
<dd><p><a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> language, stored in <code class="docutils literal notranslate"><span class="pre">SpacyDoc.user_data</span></code>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="textacy.doc.Doc.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/doc.html#Doc.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.doc.Doc.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load pickled content and metadata from disk, and initialize a <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Full path to file on disk where document content and
metadata are saved.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.doc.Doc.save" title="textacy.doc.Doc.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Doc.save()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="textacy.doc.Doc.merge">
<code class="descname">merge</code><span class="sig-paren">(</span><em>spans</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/doc.html#Doc.merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.doc.Doc.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge spans <em>in-place</em> within <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> so that each takes up a single
token. Note: All cached counts on this doc are cleared after a merge.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>spans</strong> (Iterable[<code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>]) – for example, the results from
<a class="reference internal" href="#textacy.extract.named_entities" title="textacy.extract.named_entities"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract.named_entities()</span></code></a>
or <a class="reference internal" href="#textacy.extract.pos_regex_matches" title="textacy.extract.pos_regex_matches"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract.pos_regex_matches()</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">metadata</code></dt>
<dd><p><a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> metadata, stored in <code class="docutils literal notranslate"><span class="pre">SpacyDoc.user_data</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.n_sents">
<code class="descname">n_sents</code><a class="headerlink" href="#textacy.doc.Doc.n_sents" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of sentences in the document.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.n_tokens">
<code class="descname">n_tokens</code><a class="headerlink" href="#textacy.doc.Doc.n_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of tokens in the document – including punctuation.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.pos_tagged_text">
<code class="descname">pos_tagged_text</code><a class="headerlink" href="#textacy.doc.Doc.pos_tagged_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return text as an ordered, nested list of (token, POS) pairs per sentence.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.doc.Doc.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/doc.html#Doc.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.doc.Doc.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> content and metadata to disk, as a <code class="docutils literal notranslate"><span class="pre">pickle</span></code> file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Full path to file on disk where document content and
metadata are to be saved.</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.doc.Doc.load" title="textacy.doc.Doc.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Doc.load()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.sents">
<code class="descname">sents</code><a class="headerlink" href="#textacy.doc.Doc.sents" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield the document’s sentences, as segmented by spaCy.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.text">
<code class="descname">text</code><a class="headerlink" href="#textacy.doc.Doc.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the document’s raw text.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.doc.Doc.to_bag_of_terms">
<code class="descname">to_bag_of_terms</code><span class="sig-paren">(</span><em>ngrams=(1</em>, <em>2</em>, <em>3)</em>, <em>named_entities=True</em>, <em>normalize='lemma'</em>, <em>weighting='count'</em>, <em>as_strings=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/doc.html#Doc.to_bag_of_terms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.doc.Doc.to_bag_of_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> into a bag-of-terms: the set of unique terms in
<a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> mapped to their frequency of occurrence, where “terms”
includes ngrams and/or named entities.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ngrams</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – n of which n-grams to include; <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">3)</span></code>
(default) includes unigrams (words), bigrams, and trigrams; <cite>2</cite>
if only bigrams are wanted; falsy (e.g. False) to not include any</li>
<li><strong>named_entities</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True (default), include named entities;
note: if ngrams are also included, any ngrams that exactly
overlap with an entity are skipped to prevent double-counting</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>callable</em>) – if ‘lemma’, lemmatize terms; if ‘lower’,
lowercase terms; if false-y, use the form of terms as they appear
in doc; if a callable, must accept a <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>
and return a str, e.g. <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">textacy.spacy_utils.normalized_str()</span></code></a></li>
<li><strong>weighting</strong> (<em>{'count'</em><em>, </em><em>'freq'</em><em>, </em><em>'binary'}</em>) – Type of weight to assign to
terms. If ‘count’ (default), weights are the absolute number of
occurrences (count) of term in doc. If ‘binary’, all counts are
set equal to 1. If ‘freq’, term counts are normalized by the
total token count, giving their relative frequency of occurrence.</li>
<li><strong>as_strings</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, words are returned as strings; if False
(default), words are returned as their unique integer ids</li>
<li><strong>kwargs</strong> – <ul>
<li>filter_stops (bool)</li>
<li>filter_punct (bool)</li>
<li>filter_nums (bool)</li>
<li>include_pos (str or Set[str])</li>
<li>exclude_pos (str or Set[str])</li>
<li>min_freq (int)</li>
<li>include_types (str or Set[str])</li>
<li>exclude_types (str or Set[str]</li>
<li>drop_determiners (bool)</li>
</ul>
<p>See <a class="reference internal" href="#textacy.extract.words" title="textacy.extract.words"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract.words()</span></code></a>,
<a class="reference internal" href="#textacy.extract.ngrams" title="textacy.extract.ngrams"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract.ngrams()</span></code></a>,
and <a class="reference internal" href="#textacy.extract.named_entities" title="textacy.extract.named_entities"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract.named_entities()</span></code></a>
for more information on these parameters.</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">mapping of a unique term id or string (depending on the value
of <code class="docutils literal notranslate"><span class="pre">as_strings</span></code>) to its absolute, relative, or binary frequency
of occurrence (depending on the value of <code class="docutils literal notranslate"><span class="pre">weighting</span></code>).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.doc.Doc.to_terms_list" title="textacy.doc.Doc.to_terms_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Doc.to_terms_list()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="textacy.doc.Doc.to_bag_of_words">
<code class="descname">to_bag_of_words</code><span class="sig-paren">(</span><em>normalize='lemma'</em>, <em>weighting='count'</em>, <em>as_strings=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/doc.html#Doc.to_bag_of_words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.doc.Doc.to_bag_of_words" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> into a bag-of-words: the set of unique words in
<a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> mapped to their absolute, relative, or binary frequency of
occurrence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – if ‘lemma’, lemmatize words before counting; if
‘lower’, lowercase words before counting; otherwise, words are
counted using the form with which they they appear in doc</li>
<li><strong>weighting</strong> (<em>{'count'</em><em>, </em><em>'freq'</em><em>, </em><em>'binary'}</em>) – Type of weight to assign to
words. If ‘count’ (default), weights are the absolute number of
occurrences (count) of word in doc. If ‘binary’, all counts are
set equal to 1. If ‘freq’, word counts are normalized by the
total token count, giving their relative frequency of occurrence.
Note: The resulting set of frequencies won’t (necessarily) sum
to 1.0, since punctuation and stop words are filtered out after
counts are normalized.</li>
<li><strong>as_strings</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, words are returned as strings; if False
(default), words are returned as their unique integer ids</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">mapping of a unique word id or string (depending on the value
of <code class="docutils literal notranslate"><span class="pre">as_strings</span></code>) to its absolute, relative, or binary frequency
of occurrence (depending on the value of <code class="docutils literal notranslate"><span class="pre">weighting</span></code>).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.doc.Doc.to_semantic_network">
<code class="descname">to_semantic_network</code><span class="sig-paren">(</span><em>nodes='words'</em>, <em>normalize='lemma'</em>, <em>edge_weighting='default'</em>, <em>window_width=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/doc.html#Doc.to_semantic_network"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.doc.Doc.to_semantic_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> into a semantic network, where nodes are either
‘words’ or ‘sents’ and edges between nodes may be weighted in different ways.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>nodes</strong> (<em>{'words'</em><em>, </em><em>'sents'}</em>) – type of doc component to use as nodes
in the semantic network</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>callable</em>) – if ‘lemma’, lemmatize terms; if ‘lower’,
lowercase terms; if false-y, use the form of terms as they appear
in doc; if a callable, must accept a <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>
(if <code class="docutils literal notranslate"><span class="pre">nodes</span></code> = ‘words’ or ‘sents’, respectively) and return a
str, e.g. <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">textacy.spacy_utils.normalized_str()</span></code></a></li>
<li><strong>edge_weighting</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – type of weighting to apply to edges
between nodes; if <code class="docutils literal notranslate"><span class="pre">nodes</span> <span class="pre">==</span> <span class="pre">'words'</span></code>, options are {‘cooc_freq’, ‘binary’},
if <code class="docutils literal notranslate"><span class="pre">nodes</span> <span class="pre">==</span> <span class="pre">'sents'</span></code>, options are {‘cosine’, ‘jaccard’}; if
‘default’, ‘cooc_freq’ or ‘cosine’ will be automatically used</li>
<li><strong>window_width</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – size of sliding window over terms that
determines which are said to co-occur; only applicable if ‘words’</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">where nodes represent either terms or sentences
in doc; edges, the relationships between them.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">networkx.Graph</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">nodes</span></code> is neither ‘words’ nor ‘sents’.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#textacy.network.terms_to_semantic_network" title="textacy.network.terms_to_semantic_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">terms_to_semantic_network()</span></code></a></li>
<li><a class="reference internal" href="#textacy.network.sents_to_semantic_network" title="textacy.network.sents_to_semantic_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">sents_to_semantic_network()</span></code></a></li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="textacy.doc.Doc.to_terms_list">
<code class="descname">to_terms_list</code><span class="sig-paren">(</span><em>ngrams=(1</em>, <em>2</em>, <em>3)</em>, <em>named_entities=True</em>, <em>normalize='lemma'</em>, <em>as_strings=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/doc.html#Doc.to_terms_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.doc.Doc.to_terms_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> into a sequence of ngrams and/or named entities, which
aren’t necessarily in order of appearance, where each term appears in
the list with the same frequency that it appears in <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ngrams</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – n of which n-grams to include; <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">3)</span></code>
(default) includes unigrams (words), bigrams, and trigrams; <cite>2</cite>
if only bigrams are wanted; falsy (e.g. False) to not include any</li>
<li><strong>named_entities</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True (default), include named entities
in the terms list; note: if ngrams are also included, named
entities are added <em>first</em>, and any ngrams that exactly overlap
with an entity are skipped to prevent double-counting</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>callable</em>) – if ‘lemma’, lemmatize terms; if ‘lower’,
lowercase terms; if false-y, use the form of terms as they appear
in doc; if a callable, must accept a <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>
and return a str, e.g. <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">textacy.spacy_utils.normalized_str()</span></code></a></li>
<li><strong>as_strings</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, terms are returned as strings; if False
(default), terms are returned as their unique integer ids</li>
<li><strong>kwargs</strong> – <ul>
<li>filter_stops (bool)</li>
<li>filter_punct (bool)</li>
<li>filter_nums (bool)</li>
<li>include_pos (str or Set[str])</li>
<li>exclude_pos (str or Set[str])</li>
<li>min_freq (int)</li>
<li>include_types (str or Set[str])</li>
<li>exclude_types (str or Set[str]</li>
<li>drop_determiners (bool)</li>
</ul>
<p>see <a class="reference internal" href="#textacy.extract.words" title="textacy.extract.words"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract.words</span></code></a>,
<a class="reference internal" href="#textacy.extract.ngrams" title="textacy.extract.ngrams"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract.ngrams</span></code></a>,
and <a class="reference internal" href="#textacy.extract.named_entities" title="textacy.extract.named_entities"><code class="xref py py-func docutils literal notranslate"><span class="pre">extract.named_entities</span></code></a>
for more information on these parameters</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>int or str</em> – the next term in the terms list, either as a unique
integer id or as a string</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if neither <code class="docutils literal notranslate"><span class="pre">named_entities</span></code> nor <code class="docutils literal notranslate"><span class="pre">ngrams</span></code> are included</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Despite the name, this is a generator function; to get an
actual list of terms, call <code class="docutils literal notranslate"><span class="pre">list(doc.to_terms_list())</span></code>.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.tokenized_text">
<code class="descname">tokenized_text</code><a class="headerlink" href="#textacy.doc.Doc.tokenized_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return text as an ordered, nested list of tokens per sentence.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.doc.Doc.tokens">
<code class="descname">tokens</code><a class="headerlink" href="#textacy.doc.Doc.tokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield the document’s tokens, as tokenized by spaCy. Equivalent to
iterating directly: <code class="docutils literal notranslate"><span class="pre">for</span> <span class="pre">token</span> <span class="pre">in</span> <span class="pre">Doc:</span> <span class="pre">&lt;do</span> <span class="pre">stuff&gt;</span></code></p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-textacy.corpus">
<span id="corpus"></span><h2>Corpus<a class="headerlink" href="#module-textacy.corpus" title="Permalink to this headline">¶</a></h2>
<p>Load, process, iterate, transform, and save a collection of documents — a corpus.</p>
<dl class="class">
<dt id="textacy.corpus.Corpus">
<em class="property">class </em><code class="descclassname">textacy.corpus.</code><code class="descname">Corpus</code><span class="sig-paren">(</span><em>lang</em>, <em>texts=None</em>, <em>docs=None</em>, <em>metadatas=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus" title="Permalink to this definition">¶</a></dt>
<dd><p>An ordered collection of <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> s, all of the
same language and sharing the same <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> models and vocabulary.
Track corpus statistics; flexibly add, iterate through, filter for, and
remove documents; save and load parsed content and metadata to and from
disk; and more.</p>
<p>Initialize from a stream of texts and corresponding metadatas:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cw</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">CapitolWords</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">records</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">docs</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadata_stream</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">split_records</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">records</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">texts</span><span class="o">=</span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadatas</span><span class="o">=</span><span class="n">metadata_stream</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
<span class="go">Corpus(50 docs; 32163 tokens)</span>
</pre></div>
</div>
<p>Index, slice, and flexibly get particular documents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">Doc(159 tokens; &quot;Mr. Speaker, 480,000 Federal employees are work...&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
<span class="go">[Doc(159 tokens; &quot;Mr. Speaker, 480,000 Federal employees are work...&quot;),</span>
<span class="go"> Doc(219 tokens; &quot;Mr. Speaker, a relationship, to work and surviv...&quot;),</span>
<span class="go"> Doc(336 tokens; &quot;Mr. Speaker, I thank the gentleman for yielding...&quot;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">match_func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">doc</span><span class="p">:</span> <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;speaker_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Bernie Sanders&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">match_func</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="go">Doc(159 tokens; &quot;Mr. Speaker, 480,000 Federal employees are work...&quot;)</span>
<span class="go">Doc(336 tokens; &quot;Mr. Speaker, I thank the gentleman for yielding...&quot;)</span>
<span class="go">Doc(177 tokens; &quot;Mr. Speaker, if we want to understand why in th...&quot;)</span>
</pre></div>
</div>
<p>Add and remove documents, with automatic updating of corpus statistics:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">records</span> <span class="o">=</span> <span class="n">cw</span><span class="o">.</span><span class="n">docs</span><span class="p">(</span><span class="n">congress</span><span class="o">=</span><span class="mi">114</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadata_stream</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">split_records</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">records</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">add_texts</span><span class="p">(</span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadatas</span><span class="o">=</span><span class="n">metadata_stream</span><span class="p">,</span> <span class="n">n_threads</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
<span class="go">Corpus(75 docs; 55869 tokens)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="k">lambda</span> <span class="n">doc</span><span class="p">:</span> <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;speaker_name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Rick Santorum&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
<span class="go">Corpus(60 docs; 48532 tokens)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">del</span> <span class="n">corpus</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
<span class="go">Corpus(55 docs; 47444 tokens)</span>
</pre></div>
</div>
<p>Get word and doc frequencies in absolute, relative, or binary form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">counts</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">word_freqs</span><span class="p">(</span><span class="n">lemmatize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">weighting</span><span class="o">=</span><span class="s1">&#39;count&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">idf</span> <span class="o">=</span> <span class="n">corpus</span><span class="o">.</span><span class="n">word_doc_freqs</span><span class="p">(</span><span class="n">lemmatize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">weighting</span><span class="o">=</span><span class="s1">&#39;idf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Save to and load from disk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;~/Desktop/congress.pkl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;~/Desktop/congress.pkl&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
<span class="go">Corpus(55 docs; 47444 tokens)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lang</strong> (str or <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code>) – <p>Language of content for all docs in
corpus. Pass a standard 2-letter language code (e.g. “en”) or the name
of a spacy model for the desired language (e.g. “en_core_web_md”)
or an already-instantiated <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> object. If a str, the
value is used to instantiate the corresponding <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code>
with all models loaded by default, and the appropriate 2-letter lang
code is assigned to <a class="reference internal" href="#textacy.corpus.Corpus.lang" title="textacy.corpus.Corpus.lang"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Corpus.lang</span></code></a>.</p>
<p><strong>Note:</strong> The <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> object parses all documents contents
and sets the <a class="reference internal" href="#textacy.corpus.Corpus.spacy_vocab" title="textacy.corpus.Corpus.spacy_vocab"><code class="xref py py-attr docutils literal notranslate"><span class="pre">spacy_vocab</span></code></a> and <a class="reference internal" href="#textacy.corpus.Corpus.spacy_stringstore" title="textacy.corpus.Corpus.spacy_stringstore"><code class="xref py py-attr docutils literal notranslate"><span class="pre">spacy_stringstore</span></code></a>
attributes. See <a class="reference external" href="https://spacy.io/docs/usage/models#available">https://spacy.io/docs/usage/models#available</a> for
available spacy models.</p>
</li>
<li><strong>texts</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Stream of documents as (unicode) text, to be
processed by spaCy and added to the corpus as
<a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> s.</li>
<li><strong>docs</strong> (Iterable[<a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a>] or Iterable[<code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>]) – Stream of documents already-processed by spaCy alone or via textacy.</li>
<li><strong>metadatas</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>]</em>) – Stream of dictionaries of relevant doc
metadata. <strong>Note:</strong> This stream must align exactly with <code class="docutils literal notranslate"><span class="pre">texts</span></code> or
<code class="docutils literal notranslate"><span class="pre">docs</span></code>, or else metadata will be mis-assigned. More concretely,
the first item in <code class="docutils literal notranslate"><span class="pre">metadatas</span></code> will be assigned to the first item
in <code class="docutils literal notranslate"><span class="pre">texts</span></code> or <code class="docutils literal notranslate"><span class="pre">docs</span></code>, and so on from there.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.corpus.Corpus.lang">
<code class="descname">lang</code><a class="headerlink" href="#textacy.corpus.Corpus.lang" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – 2-letter code for language of documents in <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.corpus.Corpus.n_docs">
<code class="descname">n_docs</code><a class="headerlink" href="#textacy.corpus.Corpus.n_docs" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Number of documents in <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.corpus.Corpus.n_tokens">
<code class="descname">n_tokens</code><a class="headerlink" href="#textacy.corpus.Corpus.n_tokens" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Total number of tokens of all documents in <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.corpus.Corpus.n_sents">
<code class="descname">n_sents</code><a class="headerlink" href="#textacy.corpus.Corpus.n_sents" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Total number of sentences of all documents in <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a>.
If the <code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> used to process documents did not include
a syntactic parser, upon which sentence segmentation relies, this
value will be null.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.corpus.Corpus.docs">
<code class="descname">docs</code><a class="headerlink" href="#textacy.corpus.Corpus.docs" title="Permalink to this definition">¶</a></dt>
<dd><p>List[<a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a>] – List of documents in
<a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a>. In 99% of cases, you should never have to interact
directly with this list; instead, index and slice directly on
<a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> or use the flexible <a class="reference internal" href="#textacy.corpus.Corpus.get" title="textacy.corpus.Corpus.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Corpus.get()</span></code></a>
and <a class="reference internal" href="#textacy.corpus.Corpus.remove" title="textacy.corpus.Corpus.remove"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Corpus.remove()</span></code></a> methods.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.corpus.Corpus.spacy_lang">
<code class="descname">spacy_lang</code><a class="headerlink" href="#textacy.corpus.Corpus.spacy_lang" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">spacy.Language</span></code> – <a class="reference external" href="http://spacy.io/docs/#english">http://spacy.io/docs/#english</a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.corpus.Corpus.spacy_vocab">
<code class="descname">spacy_vocab</code><a class="headerlink" href="#textacy.corpus.Corpus.spacy_vocab" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">spacy.Vocab</span></code> – <a class="reference external" href="https://spacy.io/docs#vocab">https://spacy.io/docs#vocab</a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.corpus.Corpus.spacy_stringstore">
<code class="descname">spacy_stringstore</code><a class="headerlink" href="#textacy.corpus.Corpus.spacy_stringstore" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">spacy.StringStore</span></code> – <a class="reference external" href="https://spacy.io/docs#stringstore">https://spacy.io/docs#stringstore</a></p>
</dd></dl>

<dl class="method">
<dt id="textacy.corpus.Corpus.add_doc">
<code class="descname">add_doc</code><span class="sig-paren">(</span><em>doc</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus.add_doc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus.add_doc" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an existing <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> or initialize a
new one from a <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code> to the corpus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>doc</strong> (<a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Dictionary of relevant document metadata. Note:
If specified, this will <em>overwrite</em> any existing metadata.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <code class="docutils literal notranslate"><span class="pre">doc</span></code> was already added to this or another <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a>,
it will be deep-copied and then added as if a new document. A warning
message will be logged. This is probably not a thing you should do.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="textacy.corpus.Corpus.add_text">
<code class="descname">add_text</code><span class="sig-paren">(</span><em>text</em>, <em>metadata=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus.add_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus.add_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> from <code class="docutils literal notranslate"><span class="pre">text</span></code> and <code class="docutils literal notranslate"><span class="pre">metadata</span></code>,
then add it to the corpus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Document (text) content to add to corpus as a
<a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a>.</li>
<li><strong>metadata</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Dictionary of relevant document metadata.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.corpus.Corpus.add_texts">
<code class="descname">add_texts</code><span class="sig-paren">(</span><em>texts</em>, <em>metadatas=None</em>, <em>n_threads=7</em>, <em>batch_size=1000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus.add_texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus.add_texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a stream of texts (and a corresponding stream of metadata dicts,
optionally) in parallel with spaCy; add as <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> s
to the corpus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>texts</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Stream of texts to add to corpus as
<a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> s.</li>
<li><strong>metadatas</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>]</em>) – <p>Stream of dictionaries of relevant
document metadata.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This stream must align exactly with <code class="docutils literal notranslate"><span class="pre">texts</span></code>, or
metadata will be mis-assigned to texts. More concretely,
the first item in <code class="docutils literal notranslate"><span class="pre">metadatas</span></code> will be assigned to
the first item in <code class="docutils literal notranslate"><span class="pre">texts</span></code>, and so on from there.</p>
</div>
</li>
<li><strong>n_threads</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Number of threads to use when processing <code class="docutils literal notranslate"><span class="pre">texts</span></code>
in parallel, if available.</li>
<li><strong>batch_size</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Number of texts to process at a time.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#textacy.io.utils.split_records" title="textacy.io.utils.split_records"><code class="xref py py-func docutils literal notranslate"><span class="pre">io.split_records()</span></code></a></li>
<li><a class="reference external" href="https://spacy.io/api/language#pipe">https://spacy.io/api/language#pipe</a></li>
</ul>
</div>
</dd></dl>

<dl class="method">
<dt id="textacy.corpus.Corpus.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>match_func</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over docs in <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> and return all (or N &lt;= <code class="docutils literal notranslate"><span class="pre">limit</span></code>)
for which <code class="docutils literal notranslate"><span class="pre">match_func(doc)</span></code> is True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>match_func</strong> (<em>func</em>) – <p>Function that takes a <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a>
as input and returns a boolean value. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Corpus</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>gets all docs with 100+ tokens. And:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Corpus</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Burton DeWilde&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>gets all docs whose author was given as ‘Burton DeWilde’.</p>
</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Maximum number of matched docs to return.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a> – Next document passing
<code class="docutils literal notranslate"><span class="pre">match_func</span></code> up to <code class="docutils literal notranslate"><span class="pre">limit</span></code> docs.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.corpus.Corpus.remove" title="textacy.corpus.Corpus.remove"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Corpus.remove()</span></code></a></p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">To get doc(s) by index, treat <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> as a list and use
Python’s usual indexing and slicing: <code class="docutils literal notranslate"><span class="pre">Corpus[0]</span></code> gets the first
document in the corpus; <code class="docutils literal notranslate"><span class="pre">Corpus[:5]</span></code> gets the first 5; etc.</p>
</div>
</dd></dl>

<dl class="classmethod">
<dt id="textacy.corpus.Corpus.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load documents’ pickled content and metadata from disk, and initialize
a <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> with a spacy language pipeline equivalent to what was
in use previously, when the corpus was saved.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Full path to file on disk where documents’ content and
metadata are saved.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a></td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.corpus.Corpus.save" title="textacy.corpus.Corpus.save"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Corpus.save()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="textacy.corpus.Corpus.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>match_func</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all (or N &lt;= <code class="docutils literal notranslate"><span class="pre">limit</span></code>) docs in <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> for which
<code class="docutils literal notranslate"><span class="pre">match_func(doc)</span></code> is True. Corpus doc/sent/token counts are adjusted
accordingly, as are the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Doc.corpus_index</span></code>
attributes on affected documents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>match_func</strong> (<em>func</em>) – <p>Function that takes a <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">Doc</span></code></a>
and returns a boolean value. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Corpus</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>removes docs with 100+ tokens. And:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Corpus</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;Burton DeWilde&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>removes docs whose author was given as ‘Burton DeWilde’.</p>
</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Maximum number of matched docs to remove.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.corpus.Corpus.get" title="textacy.corpus.Corpus.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Corpus.get()</span></code></a></p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">To remove doc(s) by index, treat <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> as a list and use
Python’s usual indexing and slicing: <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">Corpus[0]</span></code> removes the
first document in the corpus; <code class="docutils literal notranslate"><span class="pre">del</span> <span class="pre">Corpus[:5]</span></code> removes the first
5; etc.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="textacy.corpus.Corpus.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> documents’ content and metadata to disk,
as a <code class="docutils literal notranslate"><span class="pre">pickle</span></code> file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Full path to file on disk where documents’ content and
metadata are to be saved.</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.corpus.Corpus.load" title="textacy.corpus.Corpus.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Corpus.load()</span></code></a></p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="textacy.corpus.Corpus.vectors">
<code class="descname">vectors</code><a class="headerlink" href="#textacy.corpus.Corpus.vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Constituent docs’ word vectors stacked together in a matrix.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.corpus.Corpus.word_doc_freqs">
<code class="descname">word_doc_freqs</code><span class="sig-paren">(</span><em>normalize='lemma'</em>, <em>weighting='count'</em>, <em>smooth_idf=True</em>, <em>as_strings=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus.word_doc_freqs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus.word_doc_freqs" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the set of unique words in <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> to their <em>document</em> counts
as absolute, relative, inverse, or binary frequencies of occurence.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – if ‘lemma’, lemmatize words before counting; if
‘lower’, lowercase words before counting; otherwise, words are
counted using the form with which they they appear in docs</li>
<li><strong>weighting</strong> (<em>{'count'</em><em>, </em><em>'freq'</em><em>, </em><em>'idf'</em><em>, </em><em>'binary'}</em>) – Type of weight to
assign to words. If ‘count’ (default), weights are the absolute
number (count) of documents in which word appears. If ‘binary’,
all counts are set equal to 1. If ‘freq’, word doc counts are
normalized by the total document count, giving their relative
frequency of occurrence. If ‘idf’, weights are the log of the
inverse relative frequencies: <code class="docutils literal notranslate"><span class="pre">log(n_docs</span> <span class="pre">/</span> <span class="pre">word_doc_count)</span></code>
or <code class="docutils literal notranslate"><span class="pre">log(1</span> <span class="pre">+</span> <span class="pre">n_docs</span> <span class="pre">/</span> <span class="pre">word_doc_count)</span></code> if <code class="docutils literal notranslate"><span class="pre">smooth_idf</span></code> is True.</li>
<li><strong>smooth_idf</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, add 1 to all document frequencies when
calculating ‘idf’ weighting, equivalent to adding a single
document to the corpus containing every unique word</li>
<li><strong>as_strings</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, words are returned as strings; if False
(default), words are returned as their unique integer ids</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">mapping of a unique word id or string (depending on the value
of <code class="docutils literal notranslate"><span class="pre">as_strings</span></code>) to the number of documents in which it appears
weighted as absolute, relative, or binary frequencies (depending
on the value of <code class="docutils literal notranslate"><span class="pre">weighting</span></code>).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.vsm.matrix_utils.get_doc_freqs" title="textacy.vsm.matrix_utils.get_doc_freqs"><code class="xref py py-func docutils literal notranslate"><span class="pre">vsm.get_doc_freqs()</span></code></a></p>
</div>
</dd></dl>

<dl class="method">
<dt id="textacy.corpus.Corpus.word_freqs">
<code class="descname">word_freqs</code><span class="sig-paren">(</span><em>normalize='lemma'</em>, <em>weighting='count'</em>, <em>as_strings=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/corpus.html#Corpus.word_freqs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.corpus.Corpus.word_freqs" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the set of unique words in <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">Corpus</span></code></a> to their counts as absolute,
relative, or binary frequencies of occurence. This is akin to
<a class="reference internal" href="#textacy.doc.Doc.to_bag_of_words" title="textacy.doc.Doc.to_bag_of_words"><code class="xref py py-func docutils literal notranslate"><span class="pre">Doc.to_bag_of_words()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – if ‘lemma’, lemmatize words before counting; if
‘lower’, lowercase words before counting; otherwise, words are
counted using the form with which they they appear in docs</li>
<li><strong>weighting</strong> (<em>{'count'</em><em>, </em><em>'freq'</em><em>, </em><em>'binary'}</em>) – Type of weight to assign to
words. If ‘count’ (default), weights are the absolute number of
occurrences (count) of word in corpus. If ‘binary’, all counts
are set equal to 1. If ‘freq’, word counts are normalized by the
total token count, giving their relative frequency of occurrence.
Note: The resulting set of frequencies won’t (necessarily) sum
to 1.0, since punctuation and stop words are filtered out after
counts are normalized.</li>
<li><strong>as_strings</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, words are returned as strings; if False
(default), words are returned as their unique integer ids</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">mapping of a unique word id or string (depending on the value
of <code class="docutils literal notranslate"><span class="pre">as_strings</span></code>) to its absolute, relative, or binary frequency
of occurrence (depending on the value of <code class="docutils literal notranslate"><span class="pre">weighting</span></code>).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal notranslate"><span class="pre">vsm.get_term_freqs()</span> <span class="pre">&lt;textacy.vsm.get_term_freqs&gt;`()</span></code></p>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-textacy.datasets.capitol_words">
<span id="datasets"></span><span id="ref-api-datasets"></span><h2>Datasets<a class="headerlink" href="#module-textacy.datasets.capitol_words" title="Permalink to this headline">¶</a></h2>
<div class="section" id="capitol-words">
<h3>Capitol Words<a class="headerlink" href="#capitol-words" title="Permalink to this headline">¶</a></h3>
<p>A collection of ~11k (almost all) speeches given by the main protagonists of the
2016 U.S. Presidential election that had previously served in the U.S. Congress –
including Hillary Clinton, Bernie Sanders, Barack Obama, Ted Cruz, and John Kasich –
from January 1996 through June 2016.</p>
<p>Records include the following fields:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">text</span></code>: Full text of the Congressperson’s remarks.</li>
<li><code class="docutils literal notranslate"><span class="pre">title</span></code>: Title of the speech, in all caps.</li>
<li><code class="docutils literal notranslate"><span class="pre">date</span></code>: Date on which the speech was given, as an ISO-standard string.</li>
<li><code class="docutils literal notranslate"><span class="pre">speaker_name</span></code>: First and last name of the speaker.</li>
<li><code class="docutils literal notranslate"><span class="pre">speaker_party</span></code>: Political party of the speaker: “R” for Republican,
“D” for Democrat, “I” for Independent.</li>
<li><code class="docutils literal notranslate"><span class="pre">congress</span></code>: Number of the Congress in which the speech was given: ranges
continuously between 104 and 114.</li>
<li><code class="docutils literal notranslate"><span class="pre">chamber</span></code>: Chamber of Congress in which the speech was given: almost all
are either “House” or “Senate”, with a small number of “Extensions”.</li>
</ul>
</div></blockquote>
<p>This dataset was derived from data provided by the (now defunct) Sunlight
Foundation’s <a class="reference external" href="http://sunlightlabs.github.io/Capitol-Words/">Capitol Words API</a>.</p>
<dl class="class">
<dt id="textacy.datasets.capitol_words.CapitolWords">
<em class="property">class </em><code class="descclassname">textacy.datasets.capitol_words.</code><code class="descname">CapitolWords</code><span class="sig-paren">(</span><em>data_dir='/Users/burtondewilde/chartbeat/github/textacy/textacy/data/capitol_words'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/capitol_words.html#CapitolWords"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream Congressional speeches from a compressed json file on disk, either
as texts (str) or records (dict) with both text content and metadata.</p>
<p>Download a Python version-specific compressed json file from the
<a class="reference external" href="https://github.com/bdewilde/textacy-data">textacy-data</a> repo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cw</span> <span class="o">=</span> <span class="n">CapitolWords</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cw</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cw</span><span class="o">.</span><span class="n">info</span>
<span class="go">{&#39;data_dir&#39;: &#39;path/to/textacy/data/capitolwords&#39;,</span>
<span class="go"> &#39;description&#39;: &#39;Collection of ~11k speeches in the Congressional Record given by notable U.S. politicians between Jan 1996 and Jun 2016.&#39;,</span>
<span class="go"> &#39;name&#39;: &#39;capitol_words&#39;,</span>
<span class="go"> &#39;site_url&#39;: &#39;http://sunlightlabs.github.io/Capitol-Words/&#39;}</span>
</pre></div>
</div>
<p>Iterate over speeches as plain texts or records with both text and metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">cw</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">cw</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Filter speeches by a variety of metadata fields and text length:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">cw</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">speaker_name</span><span class="o">=</span><span class="s1">&#39;Bernie Sanders&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">cw</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">speaker_party</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">congress</span><span class="o">=</span><span class="p">{</span><span class="mi">110</span><span class="p">,</span> <span class="mi">111</span><span class="p">,</span> <span class="mi">112</span><span class="p">},</span>
<span class="gp">... </span>                         <span class="n">chamber</span><span class="o">=</span><span class="s1">&#39;Senate&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;speaker_name&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">cw</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">speaker_name</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Barack Obama&#39;</span><span class="p">,</span> <span class="s1">&#39;Hillary Clinton&#39;</span><span class="p">},</span>
<span class="gp">... </span>                         <span class="n">date_range</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;2002-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2002-12-31&#39;</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;speaker_name&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">cw</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">min_len</span><span class="o">=</span><span class="mi">50000</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</pre></div>
</div>
<p>Stream speeches into a <code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.Corpus</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadata_stream</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">split_records</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">cw</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span> <span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">texts</span><span class="o">=</span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadatas</span><span class="o">=</span><span class="n">metadata_stream</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">Corpus(100 docs; 70500 tokens)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dir</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to directory on disk under which the data
(a compressed json file like <code class="docutils literal notranslate"><span class="pre">capitol-words-py3.json.gz</span></code>) is stored.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.datasets.capitol_words.CapitolWords.min_date">
<code class="descname">min_date</code><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.min_date" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Earliest date for which speeches are available, as an
ISO-formatted string (YYYY-MM-DD).</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.capitol_words.CapitolWords.max_date">
<code class="descname">max_date</code><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.max_date" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Latest date for which speeches are available, as an
ISO-formatted string (YYYY-MM-DD).</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.capitol_words.CapitolWords.speaker_names">
<code class="descname">speaker_names</code><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.speaker_names" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Set[str]</em> – Full names of all speakers included in corpus,
e.g. “Bernie Sanders”.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.capitol_words.CapitolWords.speaker_parties">
<code class="descname">speaker_parties</code><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.speaker_parties" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Set[str]</em> – All distinct political parties of speakers,
e.g. “R”.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.capitol_words.CapitolWords.chambers">
<code class="descname">chambers</code><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.chambers" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Set[str]</em> – All distinct chambers in which speeches were given,
e.g. “House”.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.capitol_words.CapitolWords.congresses">
<code class="descname">congresses</code><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.congresses" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Set[int]</em> – All distinct numbers of the congresses in which
speeches were given, e.g. 114.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.capitol_words.CapitolWords.download">
<code class="descname">download</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/capitol_words.html#CapitolWords.download"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the data as a Python version-specific compressed json file and
save it to disk under the <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, download the dataset, even if it already
exists on disk under <code class="docutils literal notranslate"><span class="pre">data_dir</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.capitol_words.CapitolWords.filename">
<code class="descname">filename</code><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.filename" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Full path on disk for CapitolWords data as compressed json file.
<code class="docutils literal notranslate"><span class="pre">None</span></code> if file is not found, e.g. has not yet been downloaded.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.capitol_words.CapitolWords.records">
<code class="descname">records</code><span class="sig-paren">(</span><em>speaker_name=None</em>, <em>speaker_party=None</em>, <em>chamber=None</em>, <em>congress=None</em>, <em>date_range=None</em>, <em>min_len=None</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/capitol_words.html#CapitolWords.records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.records" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over speeches (text and metadata) in this dataset, optionally
filtering by a variety of metadata and/or text length, in chronological order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>speaker_name</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter speeches by the speakers’ name;
see <a class="reference internal" href="#textacy.datasets.capitol_words.CapitolWords.speaker_names" title="textacy.datasets.capitol_words.CapitolWords.speaker_names"><code class="xref py py-attr docutils literal notranslate"><span class="pre">speaker_names</span></code></a>.</li>
<li><strong>speaker_party</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter speeches by the speakers’
party; see <a class="reference internal" href="#textacy.datasets.capitol_words.CapitolWords.speaker_parties" title="textacy.datasets.capitol_words.CapitolWords.speaker_parties"><code class="xref py py-attr docutils literal notranslate"><span class="pre">speaker_parties</span></code></a>.</li>
<li><strong>chamber</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter speeches by the chamber in which
they were given; see <a class="reference internal" href="#textacy.datasets.capitol_words.CapitolWords.chambers" title="textacy.datasets.capitol_words.CapitolWords.chambers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">chambers</span></code></a>.</li>
<li><strong>congress</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Filter speeches by the congress in which
they were given; see <a class="reference internal" href="#textacy.datasets.capitol_words.CapitolWords.congresses" title="textacy.datasets.capitol_words.CapitolWords.congresses"><code class="xref py py-attr docutils literal notranslate"><span class="pre">congresses</span></code></a>.</li>
<li><strong>date_range</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>] or </em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter speeches by the date on
which they were given. Both start and end date must be specified,
but a null value for either will be replaced by the min/max date
available for the dataset.</li>
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Filter speeches by the length (number of characters)
of their text content.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Yield no more than <code class="docutils literal notranslate"><span class="pre">limit</span></code> speeches that match all
specified filters, in chronological order.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>dict</em> – Full text and metadata of next (by chronological order) speech
in dataset passing all filter params.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If any filtering options are invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.capitol_words.CapitolWords.texts">
<code class="descname">texts</code><span class="sig-paren">(</span><em>speaker_name=None</em>, <em>speaker_party=None</em>, <em>chamber=None</em>, <em>congress=None</em>, <em>date_range=None</em>, <em>min_len=None</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/capitol_words.html#CapitolWords.texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.capitol_words.CapitolWords.texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over speeches (text-only) in this dataset, optionally filtering
by a variety of metadata and/or text length, in chronological order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>speaker_name</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter speeches by the speakers’ name;
see <a class="reference internal" href="#textacy.datasets.capitol_words.CapitolWords.speaker_names" title="textacy.datasets.capitol_words.CapitolWords.speaker_names"><code class="xref py py-attr docutils literal notranslate"><span class="pre">speaker_names</span></code></a>.</li>
<li><strong>speaker_party</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter speeches by the speakers’ party;
see <a class="reference internal" href="#textacy.datasets.capitol_words.CapitolWords.speaker_parties" title="textacy.datasets.capitol_words.CapitolWords.speaker_parties"><code class="xref py py-attr docutils literal notranslate"><span class="pre">speaker_parties</span></code></a>.</li>
<li><strong>chamber</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter speeches by the chamber in which they
were given; see <a class="reference internal" href="#textacy.datasets.capitol_words.CapitolWords.chambers" title="textacy.datasets.capitol_words.CapitolWords.chambers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">chambers</span></code></a>.</li>
<li><strong>congress</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Filter speeches by the congress in which
they were given; see <a class="reference internal" href="#textacy.datasets.capitol_words.CapitolWords.congresses" title="textacy.datasets.capitol_words.CapitolWords.congresses"><code class="xref py py-attr docutils literal notranslate"><span class="pre">congresses</span></code></a>.</li>
<li><strong>date_range</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>] or </em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter speeches by the date on
which they were given. Both start and end date must be specified,
but a null value for either will be replaced by the min/max date
available for the dataset.</li>
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Filter speeches by the length (number of characters)
of their text content.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Yield no more than <code class="docutils literal notranslate"><span class="pre">limit</span></code> speeches that match all
specified filters, in chronological order.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>str</em> – Full text of next (by chronological order) speech in dataset
passing all filter params.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If any filtering options are invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-textacy.datasets.supreme_court"></span><div class="section" id="supreme-court-decisions">
<h3>Supreme Court Decisions<a class="headerlink" href="#supreme-court-decisions" title="Permalink to this headline">¶</a></h3>
<p>A collection of ~8.4k (almost all) decisions issued by the U.S. Supreme Court
from November 1946 through June 2016 – the “modern” era.</p>
<p>Records include the following fields:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">text</span></code>: Full text of the Court’s decision.</li>
<li><code class="docutils literal notranslate"><span class="pre">case_name</span></code>: Name of the court case, in all caps.</li>
<li><code class="docutils literal notranslate"><span class="pre">argument_date</span></code>: Date on which the case was argued before the Court, as
an ISO-formatted string (“YYYY-MM-DD”).</li>
<li><code class="docutils literal notranslate"><span class="pre">decision_date</span></code>: Date on which the Court’s decision was announced, as
an ISO-formatted string (“YYYY-MM-DD”).</li>
<li><code class="docutils literal notranslate"><span class="pre">decision_direction</span></code>: Ideological direction of the majority’s decision:
one of “conservative”, “liberal”, or “unspecifiable”.</li>
<li><code class="docutils literal notranslate"><span class="pre">maj_opinion_author</span></code>: Name of the majority opinion’s author, if available
and identifiable, as an integer code whose mapping is given in
<a class="reference internal" href="#textacy.datasets.supreme_court.SupremeCourt.opinion_author_codes" title="textacy.datasets.supreme_court.SupremeCourt.opinion_author_codes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SupremeCourt.opinion_author_codes</span></code></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">n_maj_votes</span></code>: Number of justices voting in the majority.</li>
<li><code class="docutils literal notranslate"><span class="pre">n_min_votes</span></code>: Number of justices voting in the minority.</li>
<li><code class="docutils literal notranslate"><span class="pre">issue</span></code>: Subject matter of the case’s core disagreement (e.g. “affirmative
action”) rather than its legal basis (e.g. “the equal protection clause”),
as a string code whose mapping is given in <a class="reference internal" href="#textacy.datasets.supreme_court.SupremeCourt.issue_codes" title="textacy.datasets.supreme_court.SupremeCourt.issue_codes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SupremeCourt.issue_codes</span></code></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">issue_area</span></code>: Higher-level categorization of the issue (e.g. “Civil Rights”),
as an integer code whose mapping is given in <a class="reference internal" href="#textacy.datasets.supreme_court.SupremeCourt.issue_area_codes" title="textacy.datasets.supreme_court.SupremeCourt.issue_area_codes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SupremeCourt.issue_area_codes</span></code></a>.</li>
<li><code class="docutils literal notranslate"><span class="pre">us_cite_id</span></code>: Citation identifier for each case according to the official
United States Reports. Note: There are ~300 cases with duplicate ids,
and it’s not clear if that’s “correct” or a data quality problem.</li>
</ul>
</div></blockquote>
<p>The text in this dataset was derived from FindLaw’s searchable database of court
cases: <a class="reference external" href="http://caselaw.findlaw.com/court/us-supreme-court">http://caselaw.findlaw.com/court/us-supreme-court</a>.</p>
<p>The metadata was extracted without modification from the Supreme Court Database:
Harold J. Spaeth, Lee Epstein, et al. 2016 Supreme Court Database, Version 2016
Release 1. <a class="reference external" href="http://supremecourtdatabase.org">http://supremecourtdatabase.org</a>. Its license is CC BY-NC 3.0 US:
<a class="reference external" href="https://creativecommons.org/licenses/by-nc/3.0/us/">https://creativecommons.org/licenses/by-nc/3.0/us/</a>.</p>
<p>This dataset’s creation was inspired by a blog post by Emily Barry:
<a class="reference external" href="http://www.emilyinamillion.me/blog/2016/7/13/visualizing-supreme-court-topics-over-time">http://www.emilyinamillion.me/blog/2016/7/13/visualizing-supreme-court-topics-over-time</a>.</p>
<p>The two datasets were merged through much munging and a carefully
trained model using the <code class="docutils literal notranslate"><span class="pre">dedupe</span></code> package. The model’s duplicate threshold
was set so as to maximize the F-score where precision had twice as much
weight as recall. Still, given occasionally baffling inconsistencies in case
naming, citation ids, and decision dates, a very small percentage of texts
may be incorrectly matched to metadata. (Sorry.)</p>
<dl class="class">
<dt id="textacy.datasets.supreme_court.SupremeCourt">
<em class="property">class </em><code class="descclassname">textacy.datasets.supreme_court.</code><code class="descname">SupremeCourt</code><span class="sig-paren">(</span><em>data_dir='/Users/burtondewilde/chartbeat/github/textacy/textacy/data/supreme_court'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/supreme_court.html#SupremeCourt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream U.S. Supreme Court decisions from a compressed json file on disk,
either as texts (str) or records (dict) with both text content and metadata.</p>
<p>Download a Python version-specific compressed json file from the
<a class="reference external" href="https://github.com/bdewilde/textacy-data">textacy-data</a> repo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">SupremeCourt</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">info</span>
<span class="go">{&#39;data_dir&#39;: &#39;path/to/textacy/data/supreme_court&#39;,</span>
<span class="go"> &#39;description&#39;: &#39;Collection of ~8.4k decisions issued by the U.S. Supreme Court between November 1946 and June 2016.&#39;,</span>
<span class="go"> &#39;name&#39;: &#39;supreme_court&#39;,</span>
<span class="go"> &#39;site_url&#39;: &#39;http://caselaw.findlaw.com/court/us-supreme-court&#39;}</span>
</pre></div>
</div>
<p>Iterate over decisions as plain texts or records with both text and metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">sc</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">sc</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;case_name&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;decision_date&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Filter decisions by a variety of metadata fields and text length:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">sc</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">opinion_author</span><span class="o">=</span><span class="mi">109</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>  <span class="c1"># Notorious RBG!</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;case_name&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;decision_direction&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;n_maj_votes&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">sc</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">decision_direction</span><span class="o">=</span><span class="s1">&#39;liberal&#39;</span><span class="p">,</span>
<span class="gp">... </span>                         <span class="n">issue_area</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">},</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;maj_opinion_author&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;n_maj_votes&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">sc</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">opinion_author</span><span class="o">=</span><span class="mi">102</span><span class="p">,</span>
<span class="gp">... </span>                         <span class="n">date_range</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1990-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;1999-12-31&#39;</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;case_name&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;decision_date&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">sc</span><span class="o">.</span><span class="n">issue_codes</span><span class="p">[</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;issue&#39;</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">sc</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">min_len</span><span class="o">=</span><span class="mi">50000</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</pre></div>
</div>
<p>Stream decisions into a <code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.Corpus</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadata_stream</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">split_records</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sc</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">100</span><span class="p">),</span> <span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">texts</span><span class="o">=</span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadatas</span><span class="o">=</span><span class="n">metadata_stream</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">Corpus(100 docs; 615135 tokens)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dir</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to directory on disk under which the data
(a compressed json file like <code class="docutils literal notranslate"><span class="pre">supreme-court-py3.json.gz</span></code>) is stored.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.datasets.supreme_court.SupremeCourt.min_date">
<code class="descname">min_date</code><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.min_date" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Earliest date for which decisions are available, as an
ISO-formatted string (“YYYY-MM-DD”).</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.supreme_court.SupremeCourt.max_date">
<code class="descname">max_date</code><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.max_date" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Latest date for which decisions are available, as an
ISO-formatted string (“YYYY-MM-DD”).</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.supreme_court.SupremeCourt.decision_directions">
<code class="descname">decision_directions</code><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.decision_directions" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Set[str]</em> – All distinct decision directions,
e.g. “liberal”.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.supreme_court.SupremeCourt.opinion_author_codes">
<code class="descname">opinion_author_codes</code><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.opinion_author_codes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[int, str]</em> – Mapping of majority opinion authors,
from id code to full name.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.supreme_court.SupremeCourt.issue_area_codes">
<code class="descname">issue_area_codes</code><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.issue_area_codes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[int, str]</em> – Mapping of the high-level issue area of
the case’s core disagreement, from id code to description.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.supreme_court.SupremeCourt.issue_codes">
<code class="descname">issue_codes</code><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.issue_codes" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[int, str]</em> – Mapping of the specific issue of the
case’s core disagreement, from id code to description.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.supreme_court.SupremeCourt.download">
<code class="descname">download</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/supreme_court.html#SupremeCourt.download"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the data as Python version-specific compressed json file and
save it to disk under the <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, download the dataset, even if it already
exists on disk under <code class="docutils literal notranslate"><span class="pre">data_dir</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.supreme_court.SupremeCourt.filename">
<code class="descname">filename</code><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.filename" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Full path on disk for SupremeCourt data as compressed json file.
<code class="docutils literal notranslate"><span class="pre">None</span></code> if file is not found, e.g. has not yet been downloaded.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.supreme_court.SupremeCourt.records">
<code class="descname">records</code><span class="sig-paren">(</span><em>opinion_author=None</em>, <em>issue_area=None</em>, <em>decision_direction=None</em>, <em>date_range=None</em>, <em>min_len=None</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/supreme_court.html#SupremeCourt.records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.records" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over cases (including text and metadata) in this dataset,
optionally filtering by a variety of metadata and/or text length,
in chronological order (of decision date).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opinion_author</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Filter cases by the name(s) of the
majority opinion’s author, coded as an integer whose mapping is
given in <a class="reference internal" href="#textacy.datasets.supreme_court.SupremeCourt.opinion_author_codes" title="textacy.datasets.supreme_court.SupremeCourt.opinion_author_codes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">opinion_author_codes</span></code></a>.</li>
<li><strong>issue_area</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Filter cases by the issue area of the
case’s subject matter, coded as an integer whose mapping is
given in <a class="reference internal" href="#textacy.datasets.supreme_court.SupremeCourt.issue_area_codes" title="textacy.datasets.supreme_court.SupremeCourt.issue_area_codes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">issue_area_codes</span></code></a>.</li>
<li><strong>decision_direction</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter cases by the ideological
direction of the majority’s decision; see
<a class="reference internal" href="#textacy.datasets.supreme_court.SupremeCourt.decision_directions" title="textacy.datasets.supreme_court.SupremeCourt.decision_directions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">decision_directions</span></code></a>.</li>
<li><strong>date_range</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>] or </em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter cases by the date on
which they were decided; both start and end date must be specified,
but a null value for either will be replaced by the min/max date
available for the corpus.</li>
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Filter cases by the length (number of characters)
of their text content.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Yield no more than <code class="docutils literal notranslate"><span class="pre">limit</span></code> texts that match all
specified filters, in chronological order.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>dict</em> – Full text and metadata of next (by chronological order) case
in dataset passing all filter params.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If any filtering options are invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.supreme_court.SupremeCourt.texts">
<code class="descname">texts</code><span class="sig-paren">(</span><em>opinion_author=None</em>, <em>issue_area=None</em>, <em>decision_direction=None</em>, <em>date_range=None</em>, <em>min_len=None</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/supreme_court.html#SupremeCourt.texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.supreme_court.SupremeCourt.texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over cases (text-only) in this dataset, optionally filtering
by a variety of metadata and/or text length, in chronological order
(of decision date).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opinion_author</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Filter cases by the name(s) of the
majority opinion’s author, coded as an integer whose mapping is
given in <a class="reference internal" href="#textacy.datasets.supreme_court.SupremeCourt.opinion_author_codes" title="textacy.datasets.supreme_court.SupremeCourt.opinion_author_codes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">opinion_author_codes</span></code></a>.</li>
<li><strong>issue_area</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Filter cases by the issue area of the
case’s subject matter, coded as an integer whose mapping is
given in <a class="reference internal" href="#textacy.datasets.supreme_court.SupremeCourt.issue_area_codes" title="textacy.datasets.supreme_court.SupremeCourt.issue_area_codes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">issue_area_codes</span></code></a>.</li>
<li><strong>decision_direction</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter cases by the ideological
direction of the majority’s decision; see
<a class="reference internal" href="#textacy.datasets.supreme_court.SupremeCourt.decision_directions" title="textacy.datasets.supreme_court.SupremeCourt.decision_directions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">decision_directions</span></code></a>.</li>
<li><strong>date_range</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>] or </em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter cases by the date on
which they were decided; both start and end date must be specified,
but a null value for either will be replaced by the min/max date
available for the corpus.</li>
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Filter cases by the length (number of characters)
of their text content.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Yield no more than <code class="docutils literal notranslate"><span class="pre">limit</span></code> texts that match all
specified filters, in chronological order.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>str</em> – Full text of next (by chronological order) case in dataset
passing all filter params.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If any filtering options are invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-textacy.datasets.wikipedia"></span><div class="section" id="wikipedia">
<h3>Wikipedia<a class="headerlink" href="#wikipedia" title="Permalink to this headline">¶</a></h3>
<p>All articles for a given language- and version-specific Wikipedia site snapshot.</p>
<p>Records include the following fields:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">text</span></code>: Text content of the article, with markup stripped out.</li>
<li><code class="docutils literal notranslate"><span class="pre">title</span></code>: Title of the Wikipedia article.</li>
<li><code class="docutils literal notranslate"><span class="pre">page_id</span></code>: Unique identifier of the page, usable in Wikimedia APIs.</li>
<li><code class="docutils literal notranslate"><span class="pre">wiki_links</span></code>: A list of other article pages linked to from this page.</li>
<li><code class="docutils literal notranslate"><span class="pre">ext_links</span></code>: A list of external URLs linked to from this page.</li>
<li><code class="docutils literal notranslate"><span class="pre">categories</span></code>: A list of Wikipedia categories to which this page belongs.</li>
</ul>
</div></blockquote>
<p>Site snapshots are generated by the Wikimedia Foundation; for more information,
refer to <a class="reference external" href="https://meta.wikimedia.org/wiki/Data_dumps">https://meta.wikimedia.org/wiki/Data_dumps</a>.</p>
<dl class="class">
<dt id="textacy.datasets.wikipedia.Wikipedia">
<em class="property">class </em><code class="descclassname">textacy.datasets.wikipedia.</code><code class="descname">Wikipedia</code><span class="sig-paren">(</span><em>data_dir='/Users/burtondewilde/chartbeat/github/textacy/textacy/data/wikipedia'</em>, <em>lang='en'</em>, <em>version='latest'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/wikipedia.html#Wikipedia"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.wikipedia.Wikipedia" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream Wikipedia articles from versioned, language-specific database dumps,
either as texts (str) or records (dict) with both text content and metadata.</p>
<p>Download a database dump for a given language and version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wp</span> <span class="o">=</span> <span class="n">Wikipedia</span><span class="p">(</span><span class="n">lang</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;latest&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wp</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wp</span><span class="o">.</span><span class="n">info</span>
<span class="go">{&#39;data_dir&#39;: &#39;path/to/textacy/data/wikipedia&#39;,</span>
<span class="go"> &#39;description&#39;: &#39;All articles for a given Wikimedia wiki, including wikitext source and metadata, as a single database dump in XML format.&#39;,</span>
<span class="go"> &#39;name&#39;: &#39;wikipedia&#39;,</span>
<span class="go"> &#39;site_url&#39;: &#39;https://meta.wikimedia.org/wiki/Data_dumps&#39;}</span>
</pre></div>
</div>
<p>Iterate over articles as plain texts or records with both text and metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">wp</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">wp</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">][:</span><span class="mi">500</span><span class="p">])</span>
</pre></div>
</div>
<p>Filter articles by text length:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">wp</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">min_len</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_dir</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to directory on disk under which database dump
files are stored. Each file is expected as
<code class="docutils literal notranslate"><span class="pre">{lang}wiki/{version}/{lang}wiki-{version}-pages-articles.xml.bz2</span></code>
immediately under this directory.</li>
<li><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Standard two-letter language code, e.g. “en” =&gt; “English”,
“de” =&gt; “German”. <a class="reference external" href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes</a></li>
<li><strong>version</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Database dump version to use. Either “latest” for the
most recently available version or a date formatted as “YYYYMMDD”.
Dumps are produced intermittently; check for available versions at
<a class="reference external" href="https://meta.wikimedia.org/wiki/Data_dumps">https://meta.wikimedia.org/wiki/Data_dumps</a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.datasets.wikipedia.Wikipedia.lang">
<code class="descname">lang</code><a class="headerlink" href="#textacy.datasets.wikipedia.Wikipedia.lang" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Standard two-letter language code used in instantiation.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.wikipedia.Wikipedia.version">
<code class="descname">version</code><a class="headerlink" href="#textacy.datasets.wikipedia.Wikipedia.version" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Database dump version used in instantiation.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.wikipedia.Wikipedia.filestub">
<code class="descname">filestub</code><a class="headerlink" href="#textacy.datasets.wikipedia.Wikipedia.filestub" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – The component of <code class="docutils literal notranslate"><span class="pre">filename</span></code> that is unique to this
lang- and version-specific database dump.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.wikipedia.Wikipedia.filename">
<code class="descname">filename</code><a class="headerlink" href="#textacy.datasets.wikipedia.Wikipedia.filename" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Full path on disk for the lang- and version-specific
Wikipedia database dump, found under the <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> directory.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.wikipedia.Wikipedia.download">
<code class="descname">download</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/wikipedia.html#Wikipedia.download"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.wikipedia.Wikipedia.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the data corresponding to the given <code class="docutils literal notranslate"><span class="pre">lang</span></code> and <code class="docutils literal notranslate"><span class="pre">version</span></code>
as a compressed XML file and save it to disk under the <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, download the dataset, even if it already
exists on disk under <code class="docutils literal notranslate"><span class="pre">data_dir</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">filename</code></dt>
<dd><p><em>str</em> – Full path on disk for Wikipedia database dump corresponding to
the <code class="docutils literal notranslate"><span class="pre">lang</span></code> and <code class="docutils literal notranslate"><span class="pre">version</span></code> used in instantiation.
<code class="docutils literal notranslate"><span class="pre">None</span></code> if file not found.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.wikipedia.Wikipedia.records">
<code class="descname">records</code><span class="sig-paren">(</span><em>min_len=100</em>, <em>limit=-1</em>, <em>fast=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/wikipedia.html#Wikipedia.records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.wikipedia.Wikipedia.records" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over pages (parsed text and metadata) in a Wikipedia database dump,
optionally filtering by text length.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Minimum length in chars that a page must have
for it to be returned; too-short pages are skipped.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Maximum number of pages (passing <code class="docutils literal notranslate"><span class="pre">min_len</span></code>) to yield;
if -1, all pages in the db dump are iterated over.</li>
<li><strong>fast</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, text is extracted using a faster method but
which gives lower quality results. Otherwise, a slower but better
method is used to extract article text.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>dict</em> – Parsed text and metadata of next page in the Wikipedia database dump.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function requires <a class="reference external" href="mwparserfromhell.readthedocs.org">mwparserfromhell</a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.wikipedia.Wikipedia.texts">
<code class="descname">texts</code><span class="sig-paren">(</span><em>min_len=100</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/wikipedia.html#Wikipedia.texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.wikipedia.Wikipedia.texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over pages (text-only) in a Wikipedia database dump, optionally
filtering by text length.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Minimum length in chars that a page must have
for it to be returned; too-short pages are skipped.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Maximum number of pages (passing <code class="docutils literal notranslate"><span class="pre">min_len</span></code>) to yield;
if -1, all pages in the db dump are iterated over.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>str</em> – Full text of next page in the Wikipedia database dump.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Page and section titles appear immediately before the text content
that they label, separated by an empty line.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="textacy.datasets.wikipedia.strip_markup">
<code class="descclassname">textacy.datasets.wikipedia.</code><code class="descname">strip_markup</code><span class="sig-paren">(</span><em>wikitext</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/wikipedia.html#strip_markup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.wikipedia.strip_markup" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip Wikimedia markup from the (wiki-)text content of a Wikipedia page and
return the page as plain-text.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>wikitext</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<span class="target" id="module-textacy.datasets.reddit_comments"></span><div class="section" id="reddit-comments">
<h3>Reddit Comments<a class="headerlink" href="#reddit-comments" title="Permalink to this headline">¶</a></h3>
<p>A collection of up to ~1.5 billion Reddit comments posted from
October 2007 through May 2015.</p>
<p>Records include the following key fields (plus a few others):</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">body</span></code>: Full text of the comment.</li>
<li><code class="docutils literal notranslate"><span class="pre">created_utc</span></code>: Date on which the comment was posted.</li>
<li><code class="docutils literal notranslate"><span class="pre">subreddit</span></code>: Sub-reddit in which the comment was posted, excluding the
familiar “/r/” prefix.</li>
<li><code class="docutils literal notranslate"><span class="pre">score</span></code>: Net score (upvotes - downvotes) on the comment.</li>
<li><code class="docutils literal notranslate"><span class="pre">gilded</span></code>: Number of times this comment received reddit gold.</li>
</ul>
</div></blockquote>
<p>The raw data was originally collected by /u/Stuck_In_the_Matrix via Reddit’s
APIS, and stored for posterity by the <a class="reference external" href="https://archive.org">Internet Archive</a>.
For more details, refer to <a class="reference external" href="https://archive.org/details/2015_reddit_comments_corpus">https://archive.org/details/2015_reddit_comments_corpus</a>.</p>
<dl class="class">
<dt id="textacy.datasets.reddit_comments.RedditComments">
<em class="property">class </em><code class="descclassname">textacy.datasets.reddit_comments.</code><code class="descname">RedditComments</code><span class="sig-paren">(</span><em>data_dir='/Users/burtondewilde/chartbeat/github/textacy/textacy/data/reddit_comments'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/reddit_comments.html#RedditComments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.reddit_comments.RedditComments" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream Reddit comments from 1 or more compressed files on disk, either
as texts (str) or records (dict) with both text content and metadata.</p>
<p>Download 1 or more files, optionally within a given date range:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span> <span class="o">=</span> <span class="n">RedditComments</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">date_range</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;2007-10&#39;</span><span class="p">,</span> <span class="s1">&#39;2008-01&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rc</span><span class="o">.</span><span class="n">info</span>
<span class="go">{&#39;data_dir&#39;: &#39;path/to/textacy/data/reddit_comments&#39;,</span>
<span class="go"> &#39;description&#39;: &#39;An archive of ~1.5 billion publicly available Reddit comments from October 2007 through May 2015.&#39;,</span>
<span class="go"> &#39;name&#39;: &#39;reddit_comments&#39;,</span>
<span class="go"> &#39;site_url&#39;: &#39;https://archive.org/details/2015_reddit_comments_corpus&#39;}</span>
</pre></div>
</div>
<p>Iterate over comments as plain texts or records with both text and metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">rc</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">rc</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;created_utc&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Filter comments by a variety of metadata fields and text length:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">rc</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">subreddit</span><span class="o">=</span><span class="s1">&#39;politics&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">rc</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">date_range</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2015-01-02&#39;</span><span class="p">),</span> <span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;created_utc&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">rc</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">min_len</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">],</span> <span class="nb">len</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;body&#39;</span><span class="p">]))</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dir</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to directory on disk under which the data is stored.
Each file covers a given month, as indicated in the filenames like
“YYYY/RC_YYYY-MM.bz2”.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.datasets.reddit_comments.RedditComments.min_date">
<code class="descname">min_date</code><a class="headerlink" href="#textacy.datasets.reddit_comments.RedditComments.min_date" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Earliest date for which comments are available, as an
ISO-formatted string (“YYYY-MM-DD”).</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.reddit_comments.RedditComments.max_date">
<code class="descname">max_date</code><a class="headerlink" href="#textacy.datasets.reddit_comments.RedditComments.max_date" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Latest date for which comments are available, as an
ISO-formatted string (“YYYY-MM-DD”).</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.reddit_comments.RedditComments.filenames">
<code class="descname">filenames</code><a class="headerlink" href="#textacy.datasets.reddit_comments.RedditComments.filenames" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Tuple[str]</em> – Full paths on disk for all Reddit comments files
found under <code class="xref py py-attr docutils literal notranslate"><span class="pre">ReddictComments.data_dir</span></code> directory, sorted
in chronological order.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.reddit_comments.RedditComments.download">
<code class="descname">download</code><span class="sig-paren">(</span><em>date_range=(None</em>, <em>None)</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/reddit_comments.html#RedditComments.download"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.reddit_comments.RedditComments.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download 1 or more monthly Reddit comments files from archive.org
and save them to disk under the <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> used to instantiate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>date_range</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Interval specifying the [start, end) dates
for which comments files will be downloaded. Each item must be
a str formatted as YYYY-MM or YYYY-MM-DD (the latter is converted
to the corresponding YYYY-MM value). Both start and end values
must be specified, but a null value for either is automatically
replaced by the minimum or maximum valid values, respectively.</li>
<li><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, download the dataset, even if it already
exists on disk under <code class="docutils literal notranslate"><span class="pre">data_dir</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">filenames</code></dt>
<dd><p><em>Tuple[str]</em> – Full paths on disk for all Reddit comments files found under
the <code class="docutils literal notranslate"><span class="pre">data_dir</span></code> directory, sorted chronologically.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.reddit_comments.RedditComments.records">
<code class="descname">records</code><span class="sig-paren">(</span><em>subreddit=None</em>, <em>date_range=None</em>, <em>score_range=None</em>, <em>min_len=0</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/reddit_comments.html#RedditComments.records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.reddit_comments.RedditComments.records" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over comments (including text and metadata) in 1 or more files
of this dataset, optionally filtering by a variety of metadata and/or
text length, in chronological order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>subreddit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter comments for those which were
posted in the specified subreddit(s).</li>
<li><strong>date_range</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter comments for those which were posted
within the interval [start, end). Each item must be a str in
ISO-standard format, i.e. some amount of YYYY-MM-DDTHH:mm:ss.
Both start and end values must be specified, but a null value
for either is automatically replaced by the minimum or maximum
valid values, respectively.</li>
<li><strong>score_range</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Filter comments for those whose score
(# upvotes minus # downvotes) is within the interval [low, high).
Both start and end values must be specified, but a null value
for either is automatically replaced by the minimum or maximum
valid values, respectively.</li>
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Filter comments for those whose body length in chars
is at least this long.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Maximum number of comments passing all filters to yield.
If -1, all comments are iterated over.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>dict</em> – Full text and metadata of next (by chronological order) comment
in dataset passing all filter params.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.reddit_comments.RedditComments.texts">
<code class="descname">texts</code><span class="sig-paren">(</span><em>subreddit=None</em>, <em>date_range=None</em>, <em>score_range=None</em>, <em>min_len=0</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/reddit_comments.html#RedditComments.texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.reddit_comments.RedditComments.texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over comments (text-only) in 1 or more files of this dataset,
optionally filtering by a variety of metadata and/or text length,
in chronological order.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>subreddit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter comments for those which were
posted in the specified subreddit(s).</li>
<li><strong>date_range</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter comments for those which were posted
within the interval [start, end). Each item must be a str in
ISO-standard format, i.e. some amount of YYYY-MM-DDTHH:mm:ss.
Both start and end values must be specified, but a null value
for either is automatically replaced by the minimum or maximum
valid values, respectively.</li>
<li><strong>score_range</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Filter comments for those whose score
(# upvotes minus # downvotes) is within the interval [low, high).
Both start and end values must be specified, but a null value
for either is automatically replaced by the minimum or maximum
valid values, respectively.</li>
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Filter comments for those whose body length in chars
is at least this long.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Maximum number of comments passing all filters to yield.
If -1, all comments are iterated over.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>str</em> – Plain text of next (by chronological order) comment in dataset
passing all filter params.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-textacy.datasets.oxford_text_archive"></span><div class="section" id="oxford-text-archive">
<h3>Oxford Text Archive<a class="headerlink" href="#oxford-text-archive" title="Permalink to this headline">¶</a></h3>
<p>A collection of ~2.7k Creative Commons texts from the Oxford Text Archive,
containing primarily English-language 16th-20th century literature and history.</p>
<p>Record include the following fields:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">text</span></code>: Full text of the literary work.</li>
<li><code class="docutils literal notranslate"><span class="pre">title</span></code>: Title of the literary work.</li>
<li><code class="docutils literal notranslate"><span class="pre">author</span></code>: Author(s) of the literary work.</li>
<li><code class="docutils literal notranslate"><span class="pre">year</span></code>: Year that the literary work was published.</li>
<li><code class="docutils literal notranslate"><span class="pre">url</span></code>: URL at which literary work can be found online via the OTA.</li>
</ul>
</div></blockquote>
<p>This dataset was compiled by [DAVID?] Mimno from the Oxford Text Archive and
stored in his GitHub repo to avoid unnecessary scraping of the OTA site. It is
downloaded from that repo, and excluding some light cleaning of its metadata,
is reproduced exactly here.</p>
<dl class="class">
<dt id="textacy.datasets.oxford_text_archive.OxfordTextArchive">
<em class="property">class </em><code class="descclassname">textacy.datasets.oxford_text_archive.</code><code class="descname">OxfordTextArchive</code><span class="sig-paren">(</span><em>data_dir='/Users/burtondewilde/chartbeat/github/textacy/textacy/data/oxford_text_archive'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/oxford_text_archive.html#OxfordTextArchive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive" title="Permalink to this definition">¶</a></dt>
<dd><p>Stream literary works from a zip file on disk, either as texts (str) or
records (dict) with both text content and metadata.</p>
<p>Download the zip file from its GitHub repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ota</span> <span class="o">=</span> <span class="n">OxfordTextArchive</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ota</span><span class="o">.</span><span class="n">download</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ota</span><span class="o">.</span><span class="n">info</span>
<span class="go">{&#39;data_dir&#39;: &#39;path/to/textacy/data/oxford_text_archive&#39;,</span>
<span class="go"> &#39;description&#39;: &#39;Collection of ~2.7k Creative Commons texts from the Oxford Text Archive, containing primarily English-language 16th-20th century literature and history.&#39;,</span>
<span class="go"> &#39;name&#39;: &#39;oxford_text_archive&#39;,</span>
<span class="go"> &#39;site_url&#39;: &#39;https://ota.ox.ac.uk/&#39;}</span>
</pre></div>
</div>
<p>Iterate over literary works as plain texts or records with both text and metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">ota</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="mi">400</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">ota</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">][:</span><span class="mi">400</span><span class="p">])</span>
</pre></div>
</div>
<p>Filter literary works by a variety of metadata fields and text length:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">ota</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">author</span><span class="o">=</span><span class="s1">&#39;Shakespeare, William&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">ota</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">date_range</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;1900-01-01&#39;</span><span class="p">,</span> <span class="s1">&#39;2000-01-01&#39;</span><span class="p">),</span> <span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">record</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">],</span> <span class="n">record</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">ota</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">min_len</span><span class="o">=</span><span class="mi">4000000</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="mi">200</span><span class="p">],</span> <span class="s1">&#39;...&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Stream literary works into a <code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.Corpus</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadata_stream</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">split_records</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ota</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">),</span> <span class="s1">&#39;text&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">texts</span><span class="o">=</span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadatas</span><span class="o">=</span><span class="n">metadata_stream</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span>
<span class="go">Corpus(10 docs; 686881 tokens)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>data_dir</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to directory on disk under which dataset’s file
(“ota-master.zip”) is stored.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.datasets.oxford_text_archive.OxfordTextArchive.min_date">
<code class="descname">min_date</code><a class="headerlink" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive.min_date" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Earliest date for which speeches are available, as an
ISO-formatted string (“YYYY-MM-DD”).</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.oxford_text_archive.OxfordTextArchive.max_date">
<code class="descname">max_date</code><a class="headerlink" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive.max_date" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Latest date for which speeches are available, as an
ISO-formatted string (“YYYY-MM-DD”).</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.oxford_text_archive.OxfordTextArchive.authors">
<code class="descname">authors</code><a class="headerlink" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive.authors" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Set[str]</em> – Full names of all distinct authors included in this
dataset, e.g. “Shakespeare, William”.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.oxford_text_archive.OxfordTextArchive.download">
<code class="descname">download</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/oxford_text_archive.html#OxfordTextArchive.download"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the data as a zip archive file and save it to disk under the
<code class="docutils literal notranslate"><span class="pre">data_dir</span></code> directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, download the dataset, even if it already
exists on disk under <code class="docutils literal notranslate"><span class="pre">data_dir</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="textacy.datasets.oxford_text_archive.OxfordTextArchive.filename">
<code class="descname">filename</code><a class="headerlink" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive.filename" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – Full path on disk for OxfordTextArchive data as a zip archive file.
<code class="docutils literal notranslate"><span class="pre">None</span></code> if file is not found, e.g. has not yet been downloaded.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.oxford_text_archive.OxfordTextArchive.records">
<code class="descname">records</code><span class="sig-paren">(</span><em>author=None</em>, <em>date_range=None</em>, <em>min_len=None</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/oxford_text_archive.html#OxfordTextArchive.records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive.records" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over works (including text and metadata) in this dataset,
optionally filtering by a variety of metadata and/or text length.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>author</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter records by the authors’ name;
see <a class="reference internal" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive.authors" title="textacy.datasets.oxford_text_archive.OxfordTextArchive.authors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">authors</span></code></a>.</li>
<li><strong>date_range</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>] or </em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter records by the date on
which it was published; both start and end date must be specified,
but a null value for either will be replaced by the min/max date
available in the dataset.</li>
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Filter records by the length (number of characters)
of their text content.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Yield no more than <code class="docutils literal notranslate"><span class="pre">limit</span></code> records.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>dict</em> – Text and metadata of next work in dataset passing all
filter params.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If any filtering options are invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.datasets.oxford_text_archive.OxfordTextArchive.texts">
<code class="descname">texts</code><span class="sig-paren">(</span><em>author=None</em>, <em>date_range=None</em>, <em>min_len=None</em>, <em>limit=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/datasets/oxford_text_archive.html#OxfordTextArchive.texts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive.texts" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over works (text-only) in this dataset, optionally filtering
by a variety of metadata and/or text length.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>author</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter texts by the authors’ name;
see <a class="reference internal" href="#textacy.datasets.oxford_text_archive.OxfordTextArchive.authors" title="textacy.datasets.oxford_text_archive.OxfordTextArchive.authors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">authors</span></code></a>.</li>
<li><strong>date_range</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>] or </em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Filter texts by the date on
which it was published; both start and end date must be specified,
but a null value for either will be replaced by the min/max date
available in the dataset.</li>
<li><strong>min_len</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Filter texts by the length (number of characters)
of their text content.</li>
<li><strong>limit</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Return no more than <code class="docutils literal notranslate"><span class="pre">limit</span></code> texts.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>str</em> – Full text of next work in dataset passing all filter params.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If any filtering options are invalid.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-textacy.preprocess">
<span id="text-preprocessing"></span><h2>Text Preprocessing<a class="headerlink" href="#module-textacy.preprocess" title="Permalink to this headline">¶</a></h2>
<p>Functions that modify raw text <em>in-place</em>, replacing contractions, URLs, emails,
phone numbers, and currency symbols with standardized forms. These should be
applied before processing by <a class="reference external" href="http://spacy.io">Spacy</a>, but be warned: preprocessing
may affect the interpretation of the text – and spacy’s processing of it.</p>
<dl class="function">
<dt id="textacy.preprocess.fix_bad_unicode">
<code class="descclassname">textacy.preprocess.</code><code class="descname">fix_bad_unicode</code><span class="sig-paren">(</span><em>text</em>, <em>normalization='NFC'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#fix_bad_unicode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.fix_bad_unicode" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix unicode text that’s “broken” using <a class="reference external" href="http://ftfy.readthedocs.org/">ftfy</a>;
this includes mojibake, HTML entities and other code cruft,
and non-standard forms for display purposes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – raw text</li>
<li><strong>normalization</strong> (<em>{'NFC'</em><em>, </em><em>'NFKC'</em><em>, </em><em>'NFD'</em><em>, </em><em>'NFKD'}</em>) – if ‘NFC’,
combines characters and diacritics written using separate code points,
e.g. converting “e” plus an acute accent modifier into “é”; unicode
can be converted to NFC form without any change in its meaning!
if ‘NFKC’, additional normalizations are applied that can change
the meanings of characters, e.g. ellipsis characters will be replaced
with three periods</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.normalize_whitespace">
<code class="descclassname">textacy.preprocess.</code><code class="descname">normalize_whitespace</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#normalize_whitespace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.normalize_whitespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Given <code class="docutils literal notranslate"><span class="pre">text</span></code> str, replace one or more spacings with a single space, and one
or more linebreaks with a single newline. Also strip leading/trailing whitespace.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.preprocess_text">
<code class="descclassname">textacy.preprocess.</code><code class="descname">preprocess_text</code><span class="sig-paren">(</span><em>text</em>, <em>fix_unicode=False</em>, <em>lowercase=False</em>, <em>transliterate=False</em>, <em>no_urls=False</em>, <em>no_emails=False</em>, <em>no_phone_numbers=False</em>, <em>no_numbers=False</em>, <em>no_currency_symbols=False</em>, <em>no_punct=False</em>, <em>no_contractions=False</em>, <em>no_accents=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#preprocess_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.preprocess_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize various aspects of a raw text doc before parsing it with Spacy.
A convenience function for applying all other preprocessing functions in one go.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – raw text to preprocess</li>
<li><strong>fix_unicode</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, fix “broken” unicode such as
mojibake and garbled HTML entities</li>
<li><strong>lowercase</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, all text is lower-cased</li>
<li><strong>transliterate</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, convert non-ascii characters
into their closest ascii equivalents</li>
<li><strong>no_urls</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, replace all URL strings with ‘<em>URL</em>’</li>
<li><strong>no_emails</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, replace all email strings with ‘<em>EMAIL</em>’</li>
<li><strong>no_phone_numbers</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, replace all phone number strings
with ‘<em>PHONE</em>’</li>
<li><strong>no_numbers</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, replace all number-like strings
with ‘<em>NUMBER</em>’</li>
<li><strong>no_currency_symbols</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, replace all currency symbols
with their standard 3-letter abbreviations</li>
<li><strong>no_punct</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, remove all punctuation (replace with
empty string)</li>
<li><strong>no_contractions</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, replace <em>English</em> contractions
with their unshortened forms</li>
<li><strong>no_accents</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, replace all accented characters
with unaccented versions; NB: if <cite>transliterate</cite> is True, this option
is redundant</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">input <code class="docutils literal notranslate"><span class="pre">text</span></code> processed according to function args</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">These changes may negatively affect subsequent NLP analysis performed
on the text, so choose carefully, and preprocess at your own risk!</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.remove_accents">
<code class="descclassname">textacy.preprocess.</code><code class="descname">remove_accents</code><span class="sig-paren">(</span><em>text</em>, <em>method='unicode'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#remove_accents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.remove_accents" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove accents from any accented unicode characters in <code class="docutils literal notranslate"><span class="pre">text</span></code> str, either by
transforming them into ascii equivalents or removing them entirely.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – raw text</li>
<li><strong>method</strong> (<em>{'unicode'</em><em>, </em><em>'ascii'}</em>) – <p>if ‘unicode’, remove accented
char for any unicode symbol with a direct ASCII equivalent; if ‘ascii’,
remove accented char for any unicode symbol</p>
<p>NB: the ‘ascii’ method is notably faster than ‘unicode’, but less good</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">str</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">method</span></code> is not in {‘unicode’, ‘ascii’}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.remove_punct">
<code class="descclassname">textacy.preprocess.</code><code class="descname">remove_punct</code><span class="sig-paren">(</span><em>text</em>, <em>marks=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#remove_punct"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.remove_punct" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove punctuation from <code class="docutils literal notranslate"><span class="pre">text</span></code> by replacing all instances of <code class="docutils literal notranslate"><span class="pre">marks</span></code>
with whitespace.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – raw text</li>
<li><strong>marks</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – If specified, remove only the characters in this string,
e.g. <code class="docutils literal notranslate"><span class="pre">marks=',;:'</span></code> removes commas, semi-colons, and colons.
Otherwise, all punctuation marks are removed.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When <code class="docutils literal notranslate"><span class="pre">marks=None</span></code>, Python’s built-in <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str.translate" title="(in Python v3.6)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.translate()</span></code></a> is
used to remove punctuation; otherwise, a regular expression is used
instead. The former’s performance is about 5-10x faster.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.replace_currency_symbols">
<code class="descclassname">textacy.preprocess.</code><code class="descname">replace_currency_symbols</code><span class="sig-paren">(</span><em>text</em>, <em>replace_with=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#replace_currency_symbols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.replace_currency_symbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all currency symbols in <code class="docutils literal notranslate"><span class="pre">text</span></code> str with string specified by <code class="docutils literal notranslate"><span class="pre">replace_with</span></code> str.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – raw text</li>
<li><strong>replace_with</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – if None (default), replace symbols with
their standard 3-letter abbreviations (e.g. ‘$’ with ‘USD’, ‘£’ with ‘GBP’);
otherwise, pass in a string with which to replace all symbols
(e.g. “<em>CURRENCY</em>”)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.replace_emails">
<code class="descclassname">textacy.preprocess.</code><code class="descname">replace_emails</code><span class="sig-paren">(</span><em>text</em>, <em>replace_with='*EMAIL*'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#replace_emails"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.replace_emails" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all emails in <code class="docutils literal notranslate"><span class="pre">text</span></code> str with <code class="docutils literal notranslate"><span class="pre">replace_with</span></code> str.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.replace_numbers">
<code class="descclassname">textacy.preprocess.</code><code class="descname">replace_numbers</code><span class="sig-paren">(</span><em>text</em>, <em>replace_with='*NUMBER*'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#replace_numbers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.replace_numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all numbers in <code class="docutils literal notranslate"><span class="pre">text</span></code> str with <code class="docutils literal notranslate"><span class="pre">replace_with</span></code> str.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.replace_phone_numbers">
<code class="descclassname">textacy.preprocess.</code><code class="descname">replace_phone_numbers</code><span class="sig-paren">(</span><em>text</em>, <em>replace_with='*PHONE*'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#replace_phone_numbers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.replace_phone_numbers" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all phone numbers in <code class="docutils literal notranslate"><span class="pre">text</span></code> str with <code class="docutils literal notranslate"><span class="pre">replace_with</span></code> str.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.replace_urls">
<code class="descclassname">textacy.preprocess.</code><code class="descname">replace_urls</code><span class="sig-paren">(</span><em>text</em>, <em>replace_with='*URL*'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#replace_urls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.replace_urls" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace all URLs in <code class="docutils literal notranslate"><span class="pre">text</span></code> str with <code class="docutils literal notranslate"><span class="pre">replace_with</span></code> str.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.transliterate_unicode">
<code class="descclassname">textacy.preprocess.</code><code class="descname">transliterate_unicode</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#transliterate_unicode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.transliterate_unicode" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to represent unicode data in ascii characters similar to what a human
with a US keyboard would choose.</p>
<p>Works great for languages of Western origin, worse the farther the language
gets from Latin-based alphabets. It’s based on hand-tuned character mappings
that also contain ascii approximations for symbols and non-Latin alphabets.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.preprocess.unpack_contractions">
<code class="descclassname">textacy.preprocess.</code><code class="descname">unpack_contractions</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/preprocess.html#unpack_contractions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.preprocess.unpack_contractions" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace <em>English</em> contractions in <code class="docutils literal notranslate"><span class="pre">text</span></code> str with their unshortened forms.
N.B. The “‘d” and “‘s” forms are ambiguous (had/would, is/has/possessive),
so are left as-is.</p>
</dd></dl>

</div>
<div class="section" id="module-textacy.extract">
<span id="information-extraction"></span><h2>Information Extraction<a class="headerlink" href="#module-textacy.extract" title="Permalink to this headline">¶</a></h2>
<p>Functions to extract various elements of interest from documents already parsed
by <a class="reference external" href="http://spacy.io/">spaCy</a>, such as n-grams, named entities, subject-verb-object
triples, and acronyms.</p>
<dl class="function">
<dt id="textacy.extract.acronyms_and_definitions">
<code class="descclassname">textacy.extract.</code><code class="descname">acronyms_and_definitions</code><span class="sig-paren">(</span><em>doc</em>, <em>known_acro_defs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/extract.html#acronyms_and_definitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.extract.acronyms_and_definitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a collection of acronyms and their most likely definitions, if available,
from a spacy-parsed doc. If multiple definitions are found for a given acronym,
only the most frequently occurring definition is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>) – </li>
<li><strong>known_acro_defs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – if certain acronym/definition pairs
are known, pass them in as {acronym (str): definition (str)};
algorithm will not attempt to find new definitions</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">unique acronyms (keys) with matched definitions (values)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>Taghva, Kazem, and Jeff Gilbreth. “Recognizing acronyms and their definitions.”
International Journal on Document Analysis and Recognition 1.4 (1999): 191-198.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.extract.direct_quotations">
<code class="descclassname">textacy.extract.</code><code class="descname">direct_quotations</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/extract.html#direct_quotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.extract.direct_quotations" title="Permalink to this definition">¶</a></dt>
<dd><p>Baseline, not-great attempt at direction quotation extraction (no indirect
or mixed quotations) using rules and patterns. English only.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body">(<code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>) – next quotation in <code class="docutils literal notranslate"><span class="pre">doc</span></code>
represented as a (speaker, reporting verb, quotation) 3-tuple</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Loosely inspired by Krestel, Bergler, Witte. “Minding the Source: Automatic
Tagging of Reported Speech in Newspaper Articles”.</p>
<p>TODO: Better approach would use ML, but needs a training dataset.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.extract.named_entities">
<code class="descclassname">textacy.extract.</code><code class="descname">named_entities</code><span class="sig-paren">(</span><em>doc</em>, <em>include_types=None</em>, <em>exclude_types=None</em>, <em>drop_determiners=True</em>, <em>min_freq=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/extract.html#named_entities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.extract.named_entities" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract an ordered sequence of named entities (PERSON, ORG, LOC, etc.) from
a spacy-parsed doc, optionally filtering by entity types and frequencies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>include_types</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – remove named entities whose type IS NOT
in this param; if “NUMERIC”, all numeric entity types (“DATE”,
“MONEY”, “ORDINAL”, etc.) are included</li>
<li><strong>exclude_types</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – remove named entities whose type IS
in this param; if “NUMERIC”, all numeric entity types (“DATE”,
“MONEY”, “ORDINAL”, etc.) are excluded</li>
<li><strong>drop_determiners</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – <p>Remove leading determiners (e.g. “the”)
from named entities (e.g. “the United States” =&gt; “United States”).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Entities from which a leading determiner has been removed
are, effectively, <em>new</em> entities, and not saved to the <code class="docutils literal notranslate"><span class="pre">SpacyDoc</span></code>
from which they came. This is irritating but unavoidable, since
this function is not meant to have side-effects on document state.
If you’re only using the text of the returned spans, this is no
big deal, but watch out if you’re counting on determiner-less
entities associated with the doc downstream.</p>
</div>
</li>
<li><strong>min_freq</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – remove named entities that occur in <cite>doc</cite> fewer
than <cite>min_freq</cite> times</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code> – the next named entity from <code class="docutils literal notranslate"><span class="pre">doc</span></code> passing all specified
filters in order of appearance in the document</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#TypeError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> – if <cite>include_types</cite> or <cite>exclude_types</cite> is not a str, a set of
str, or a falsy value</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.extract.ngrams">
<code class="descclassname">textacy.extract.</code><code class="descname">ngrams</code><span class="sig-paren">(</span><em>doc</em>, <em>n</em>, <em>filter_stops=True</em>, <em>filter_punct=True</em>, <em>filter_nums=False</em>, <em>include_pos=None</em>, <em>exclude_pos=None</em>, <em>min_freq=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/extract.html#ngrams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.extract.ngrams" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract an ordered sequence of n-grams (<code class="docutils literal notranslate"><span class="pre">n</span></code> consecutive words) from a
spacy-parsed doc, optionally filtering n-grams by the types and
parts-of-speech of the constituent words.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>, or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>) – </li>
<li><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – number of tokens per n-gram; 2 =&gt; bigrams, 3 =&gt; trigrams, etc.</li>
<li><strong>filter_stops</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, remove ngrams that start or end
with a stop word</li>
<li><strong>filter_punct</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, remove ngrams that contain
any punctuation-only tokens</li>
<li><strong>filter_nums</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, remove ngrams that contain
any numbers or number-like tokens (e.g. 10, ‘ten’)</li>
<li><strong>include_pos</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – remove ngrams if any of their constituent
tokens’ part-of-speech tags ARE NOT included in this param</li>
<li><strong>exclude_pos</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – remove ngrams if any of their constituent
tokens’ part-of-speech tags ARE included in this param</li>
<li><strong>min_freq</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – remove ngrams that occur in <code class="docutils literal notranslate"><span class="pre">doc</span></code> fewer than
<code class="docutils literal notranslate"><span class="pre">min_freq</span></code> times</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code> – the next ngram from <code class="docutils literal notranslate"><span class="pre">doc</span></code> passing all specified
filters, in order of appearance in the document</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">n</span></code> &lt; 1</li>
<li><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#TypeError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> – if <cite>include_pos</cite> or <cite>exclude_pos</cite> is not a str, a set of str,
or a falsy value</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Filtering by part-of-speech tag uses the universal POS tag set,
<a class="reference external" href="http://universaldependencies.org/u/pos/">http://universaldependencies.org/u/pos/</a>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.extract.noun_chunks">
<code class="descclassname">textacy.extract.</code><code class="descname">noun_chunks</code><span class="sig-paren">(</span><em>doc</em>, <em>drop_determiners=True</em>, <em>min_freq=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/extract.html#noun_chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.extract.noun_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract an ordered sequence of noun chunks from a spacy-parsed doc, optionally
filtering by frequency and dropping leading determiners.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>drop_determiners</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – remove leading determiners (e.g. “the”)
from phrases (e.g. “the quick brown fox” =&gt; “quick brown fox”)</li>
<li><strong>min_freq</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – remove chunks that occur in <cite>doc</cite> fewer than
<cite>min_freq</cite> times</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code> – the next noun chunk from <code class="docutils literal notranslate"><span class="pre">doc</span></code> in order of appearance
in the document</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.extract.pos_regex_matches">
<code class="descclassname">textacy.extract.</code><code class="descname">pos_regex_matches</code><span class="sig-paren">(</span><em>doc</em>, <em>pattern</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/extract.html#pos_regex_matches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.extract.pos_regex_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract sequences of consecutive tokens from a spacy-parsed doc whose
part-of-speech tags match the specified regex pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>) – </li>
<li><strong>pattern</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – <p>Pattern of consecutive POS tags whose corresponding words
are to be extracted, inspired by the regex patterns used in NLTK’s
<cite>nltk.chunk.regexp</cite>. Tags are uppercase, from the universal tag set;
delimited by &lt; and &gt;, which are basically converted to parentheses
with spaces as needed to correctly extract matching word sequences;
white space in the input doesn’t matter.</p>
<p>Examples (see <code class="docutils literal notranslate"><span class="pre">constants.POS_REGEX_PATTERNS</span></code>):</p>
<ul>
<li>noun phrase: r’&lt;DET&gt;? (&lt;NOUN&gt;+ &lt;ADP|CONJ&gt;)* &lt;NOUN&gt;+’</li>
<li>compound nouns: r’&lt;NOUN&gt;+’</li>
<li>verb phrase: r’&lt;VERB&gt;?&lt;ADV&gt;*&lt;VERB&gt;+’</li>
<li>prepositional phrase: r’&lt;PREP&gt; &lt;DET&gt;? (&lt;NOUN&gt;+&lt;ADP&gt;)* &lt;NOUN&gt;+’</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code> – the next span of consecutive tokens from <code class="docutils literal notranslate"><span class="pre">doc</span></code> whose
parts-of-speech match <code class="docutils literal notranslate"><span class="pre">pattern</span></code>, in order of apperance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.extract.semistructured_statements">
<code class="descclassname">textacy.extract.</code><code class="descname">semistructured_statements</code><span class="sig-paren">(</span><em>doc</em>, <em>entity</em>, <em>cue='be'</em>, <em>ignore_entity_case=True</em>, <em>min_n_words=1</em>, <em>max_n_words=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/extract.html#semistructured_statements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.extract.semistructured_statements" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract “semi-structured statements” from a spacy-parsed doc, each as a
(entity, cue, fragment) triple. This is similar to subject-verb-object triples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>entity</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – a noun or noun phrase of some sort (e.g. “President Obama”,
“global warming”, “Python”)</li>
<li><strong>cue</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – verb lemma with which <cite>entity</cite> is associated
(e.g. “talk about”, “have”, “write”)</li>
<li><strong>ignore_entity_case</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, entity matching is case-independent</li>
<li><strong>min_n_words</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – min number of tokens allowed in a matching fragment</li>
<li><strong>max_n_words</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – max number of tokens allowed in a matching fragment</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last">(<code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>) – where each element is a matching (entity, cue, fragment) triple</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Inspired by N. Diakopoulos, A. Zhang, A. Salway. Visual Analytics of
Media Frames in Online News and Blogs. IEEE InfoVis Workshop on Text
Visualization. October, 2013.</p>
<p>Which itself was inspired by by Salway, A.; Kelly, L.; Skadiņa, I.; and
Jones, G. 2010. Portable Extraction of Partially Structured Facts from
the Web. In Proc. ICETAL 2010, LNAI 6233, 345-356. Heidelberg, Springer.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.extract.subject_verb_object_triples">
<code class="descclassname">textacy.extract.</code><code class="descname">subject_verb_object_triples</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/extract.html#subject_verb_object_triples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.extract.subject_verb_object_triples" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract an ordered sequence of subject-verb-object (SVO) triples from a
spacy-parsed doc. Note that this only works for SVO languages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body">Tuple[<code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>] – The next 3-tuple
of spans from <code class="docutils literal notranslate"><span class="pre">doc</span></code> representing a (subject, verb, object) triple,
in order of appearance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.extract.words">
<code class="descclassname">textacy.extract.</code><code class="descname">words</code><span class="sig-paren">(</span><em>doc</em>, <em>filter_stops=True</em>, <em>filter_punct=True</em>, <em>filter_nums=False</em>, <em>include_pos=None</em>, <em>exclude_pos=None</em>, <em>min_freq=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/extract.html#words"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.extract.words" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract an ordered sequence of words from a document processed by spaCy,
optionally filtering words by part-of-speech tag and frequency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>, or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>) – </li>
<li><strong>filter_stops</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, remove stop words from word list</li>
<li><strong>filter_punct</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, remove punctuation from word list</li>
<li><strong>filter_nums</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, remove number-like words (e.g. 10, ‘ten’)
from word list</li>
<li><strong>include_pos</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – remove words whose part-of-speech tag
IS NOT included in this param</li>
<li><strong>exclude_pos</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – remove words whose part-of-speech tag
IS in the specified tags</li>
<li><strong>min_freq</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – remove words that occur in <cite>doc</cite> fewer than
<cite>min_freq</cite> times</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> – the next token from <code class="docutils literal notranslate"><span class="pre">doc</span></code> passing specified filters
in order of appearance in the document</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#TypeError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> – if <cite>include_pos</cite> or <cite>exclude_pos</cite> is not a str, a set of str,
or a falsy value</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Filtering by part-of-speech tag uses the universal POS tag set,
<a class="reference external" href="http://universaldependencies.org/u/pos/">http://universaldependencies.org/u/pos/</a>.</p>
</div>
</dd></dl>

<span class="target" id="module-textacy.keyterms"></span><p>Functions for unsupervised automatic key term extraction, both specific algorithms
(SGRank, TextRank, SingleRank) and a generalization of semantic network-based methods.
Also includes a function to aggregate common key term variants of the same idea.</p>
<dl class="function">
<dt id="textacy.keyterms.aggregate_term_variants">
<code class="descclassname">textacy.keyterms.</code><code class="descname">aggregate_term_variants</code><span class="sig-paren">(</span><em>terms</em>, <em>acro_defs=None</em>, <em>fuzzy_dedupe=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/keyterms.html#aggregate_term_variants"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.keyterms.aggregate_term_variants" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a set of unique terms and aggregate terms that are symbolic, lexical,
and ordering variants of each other, as well as acronyms and fuzzy string matches.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>terms</strong> (<em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – set of unique terms with potential duplicates</li>
<li><strong>acro_defs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – if not None, terms that are acronyms will be
aggregated with their definitions and terms that are definitions will
be aggregated with their acronyms</li>
<li><strong>fuzzy_dedupe</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, fuzzy string matching will be used
to aggregate similar terms of a sufficient length</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">each item is a set of aggregated terms</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List[Set[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>]]</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Partly inspired by aggregation of variants discussed in
Park, Youngja, Roy J. Byrd, and Branimir K. Boguraev.
“Automatic glossary extraction: beyond terminology identification.”
Proceedings of the 19th international conference on Computational linguistics-Volume 1.
Association for Computational Linguistics, 2002.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.keyterms.key_terms_from_semantic_network">
<code class="descclassname">textacy.keyterms.</code><code class="descname">key_terms_from_semantic_network</code><span class="sig-paren">(</span><em>doc</em>, <em>normalize='lemma'</em>, <em>window_width=2</em>, <em>edge_weighting='binary'</em>, <em>ranking_algo='pagerank'</em>, <em>join_key_words=False</em>, <em>n_keyterms=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/keyterms.html#key_terms_from_semantic_network"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.keyterms.key_terms_from_semantic_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract key terms from a document by ranking nodes in a semantic network of
terms, connected by edges and weights specified by parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>callable</em>) – if ‘lemma’, lemmatize terms; if ‘lower’,
lowercase terms; if None, use the form of terms as they appeared in
<code class="docutils literal notranslate"><span class="pre">doc</span></code>; if a callable, must accept a <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> and return a str,
e.g. <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">textacy.spacy_utils.normalized_str()</span></code></a></li>
<li><strong>window_width</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – width of sliding window in which term
co-occurrences are said to occur</li>
<li><strong>edge_weighting</strong> (<em>'binary'</em><em>, </em><em>'cooc_freq'}</em>) – method used to
determine weights of edges between nodes in the semantic network;
if ‘binary’, edge weight is set to 1 for any two terms co-occurring
within <cite>window_width</cite> terms; if ‘cooc_freq’, edge weight is set to
the number of times that any two terms co-occur</li>
<li><strong>ranking_algo</strong> (<em>{'pagerank'</em><em>, </em><em>'divrank'</em><em>, </em><em>'bestcoverage'}</em>) – algorithm with which to rank nodes in the semantic network;
<cite>pagerank</cite> is the canonical (and default) algorithm, but it prioritizes
node centrality at the expense of node diversity; the other two
attempt to balance centrality with diversity</li>
<li><strong>join_key_words</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, join consecutive key words
together into longer key terms, taking the sum of the constituent words’
scores as the joined key term’s combined score</li>
<li><strong>n_keyterms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – if int, number of top-ranked terms
to return as keyterms; if float, must be in the open interval (0, 1),
is converted to an integer by <code class="docutils literal notranslate"><span class="pre">round(len(doc)</span> <span class="pre">*</span> <span class="pre">n_keyterms)</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">sorted list of top <code class="docutils literal notranslate"><span class="pre">n_keyterms</span></code> key terms and
their corresponding ranking scores</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">List[Tuple[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>, <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a>]]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">n_keyterms</span></code> is a float but not in (0.0, 1.0]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.keyterms.most_discriminating_terms">
<code class="descclassname">textacy.keyterms.</code><code class="descname">most_discriminating_terms</code><span class="sig-paren">(</span><em>terms_lists</em>, <em>bool_array_grp1</em>, <em>max_n_terms=1000</em>, <em>top_n_terms=25</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/keyterms.html#most_discriminating_terms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.keyterms.most_discriminating_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a collection of documents assigned to 1 of 2 exclusive groups, get the
<cite>top_n_terms</cite> most discriminating terms for group1-and-not-group2 and
group2-and-not-group1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>terms_lists</strong> (<em>Iterable</em><em>[</em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em><em>]</em>) – a sequence of documents, each as a
sequence of (str) terms; used as input to <code class="xref py py-func docutils literal notranslate"><span class="pre">doc_term_matrix()</span></code></li>
<li><strong>bool_array_grp1</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a><em>]</em>) – an ordered sequence of True/False values,
where True corresponds to documents falling into “group 1” and False
corresponds to those in “group 2”</li>
<li><strong>max_n_terms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – only consider terms whose document frequency is within
the top <cite>max_n_terms</cite> out of all distinct terms; must be &gt; 0</li>
<li><strong>top_n_terms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – if int (must be &gt; 0), the total number of most
discriminating terms to return for each group; if float (must be in
the interval (0, 1)), the fraction of <cite>max_n_terms</cite> to return for each group</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>top <cite>top_n_terms</cite> most discriminating terms for grp1-not-grp2</p>
<p>List[str]: top <cite>top_n_terms</cite> most discriminating terms for grp2-not-grp1</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>]</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>King, Gary, Patrick Lam, and Margaret Roberts. “Computer-Assisted Keyword
and Document Set Discovery from Unstructured Text.” (2014).
<a class="reference external" href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.458.1445&amp;rep=rep1&amp;type=pdf">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.458.1445&amp;rep=rep1&amp;type=pdf</a></p>
</dd></dl>

<dl class="function">
<dt id="textacy.keyterms.rank_nodes_by_bestcoverage">
<code class="descclassname">textacy.keyterms.</code><code class="descname">rank_nodes_by_bestcoverage</code><span class="sig-paren">(</span><em>graph</em>, <em>k</em>, <em>c=1</em>, <em>alpha=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/keyterms.html#rank_nodes_by_bestcoverage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.keyterms.rank_nodes_by_bestcoverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Rank nodes in a network using the <a class="reference internal" href="#bestcoverage" id="id3">[BestCoverage]</a> algorithm that attempts to
balance between node centrality and diversity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">networkx.Graph</span></code>) – </li>
<li><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – number of results to return for top-k search</li>
<li><strong>c</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – <em>l</em> parameter for <em>l</em>-step expansion; best if 1 or 2</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – float in [0.0, 1.0] specifying how much of
central vertex’s score to remove from its <em>l</em>-step neighbors;
smaller value puts more emphasis on centrality, larger value puts
more emphasis on diversity</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">top <code class="docutils literal notranslate"><span class="pre">k</span></code> nodes as ranked by bestcoverage algorithm; keys as node
identifiers, values as corresponding ranking scores</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="bestcoverage" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[BestCoverage]</a></td><td>Küçüktunç, O., Saule, E., Kaya, K., &amp; Çatalyürek, Ü. V.
(2013, May). Diversified recommendation on graphs: pitfalls, measures,
and algorithms. In Proceedings of the 22nd international conference on
World Wide Web (pp. 715-726). International World Wide Web Conferences
Steering Committee. <a class="reference external" href="http://www2013.wwwconference.org/proceedings/p715.pdf">http://www2013.wwwconference.org/proceedings/p715.pdf</a></td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.keyterms.rank_nodes_by_divrank">
<code class="descclassname">textacy.keyterms.</code><code class="descname">rank_nodes_by_divrank</code><span class="sig-paren">(</span><em>graph</em>, <em>r=None</em>, <em>lambda_=0.5</em>, <em>alpha=0.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/keyterms.html#rank_nodes_by_divrank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.keyterms.rank_nodes_by_divrank" title="Permalink to this definition">¶</a></dt>
<dd><p>Rank nodes in a network using the <a class="reference internal" href="#divrank" id="id4">[DivRank]</a> algorithm that attempts to
balance between node centrality and diversity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">networkx.Graph</span></code>) – </li>
<li><strong>r</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.array</span></code>,) – the “personalization vector”;
by default, <code class="docutils literal notranslate"><span class="pre">r</span> <span class="pre">=</span> <span class="pre">ones(1,</span> <span class="pre">n)/n</span></code></li>
<li><strong>lambda</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – must be in [0.0, 1.0]</li>
<li><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – controls the strength of self-links;
must be in [0.0, 1.0]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of (node, score) tuples ordered by desc. divrank score</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List[Tuple[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>, <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a>]]</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="divrank" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[DivRank]</a></td><td>Mei, Q., Guo, J., &amp; Radev, D. (2010, July). Divrank: the interplay
of prestige and diversity in information networks. In Proceedings of the
16th ACM SIGKDD international conference on Knowledge discovery and data
mining (pp. 1009-1018). ACM. <a class="reference external" href="http://clair.si.umich.edu/~radev/papers/SIGKDD2010.pdf">http://clair.si.umich.edu/~radev/papers/SIGKDD2010.pdf</a></td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.keyterms.sgrank">
<code class="descclassname">textacy.keyterms.</code><code class="descname">sgrank</code><span class="sig-paren">(</span><em>doc</em>, <em>ngrams=(1</em>, <em>2</em>, <em>3</em>, <em>4</em>, <em>5</em>, <em>6)</em>, <em>normalize='lemma'</em>, <em>window_width=1500</em>, <em>n_keyterms=10</em>, <em>idf=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/keyterms.html#sgrank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.keyterms.sgrank" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract key terms from a document using the <a class="reference internal" href="#sgrank" id="id5">[SGRank]</a> algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>ngrams</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – n of which n-grams to include; <code class="docutils literal notranslate"><span class="pre">(1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5,</span> <span class="pre">6)</span></code>
(default) includes all ngrams from 1 to 6; <cite>2</cite>
if only bigrams are wanted</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>callable</em>) – If ‘lemma’, lemmatize terms; if ‘lower’,
lowercase terms; if None, use the form of terms as they appeared in
<code class="docutils literal notranslate"><span class="pre">doc</span></code>; if a callable, must accept a <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code> and return a str,
e.g. <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">textacy.spacy_utils.normalized_str()</span></code></a></li>
<li><strong>window_width</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Width of sliding window in which term
co-occurrences are determined to occur. Note: Larger values may
dramatically increase runtime, owing to the larger number of
co-occurrence combinations that must be counted.</li>
<li><strong>n_keyterms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – Number of top-ranked terms to return as
keyterms. If int, represents the absolute number; if float, must be
in the open interval (0.0, 1.0), and is converted to an integer by
<code class="docutils literal notranslate"><span class="pre">int(round(len(doc)</span> <span class="pre">*</span> <span class="pre">n_keyterms))</span></code></li>
<li><strong>idf</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – Mapping of <code class="docutils literal notranslate"><span class="pre">normalize(term)</span></code> to inverse document frequency
for re-weighting of unigrams (n-grams with n &gt; 1 have df assumed = 1).
Results are typically better with idf information.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">sorted list of top <code class="docutils literal notranslate"><span class="pre">n_keyterms</span></code> key terms and
their corresponding SGRank scores</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">List[Tuple[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>, <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a>]]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If <code class="docutils literal notranslate"><span class="pre">n_keyterms</span></code> is a float but not in (0.0, 1.0] or
<code class="docutils literal notranslate"><span class="pre">window_width</span></code> &lt; 2.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="sgrank" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[SGRank]</a></td><td>Danesh, Sumner, and Martin. “SGRank: Combining Statistical and
Graphical Methods to Improve the State of the Art in Unsupervised Keyphrase
Extraction”. Lexical and Computational Semantics (* SEM 2015) (2015): 117.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.keyterms.singlerank">
<code class="descclassname">textacy.keyterms.</code><code class="descname">singlerank</code><span class="sig-paren">(</span><em>doc</em>, <em>normalize='lemma'</em>, <em>n_keyterms=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/keyterms.html#singlerank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.keyterms.singlerank" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for calling <a class="reference internal" href="#textacy.keyterms.key_terms_from_semantic_network" title="textacy.keyterms.key_terms_from_semantic_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">key_terms_from_semantic_network</span></code></a>
with the parameter values used in the <a class="reference internal" href="#singlerank" id="id6">[SingleRank]</a> algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>callable</em>) – if ‘lemma’, lemmatize terms; if ‘lower’,
lowercase terms; if None, use the form of terms as they appeared in
<code class="docutils literal notranslate"><span class="pre">doc</span></code>; if a callable, must accept a <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> and return a str,
e.g. <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">textacy.spacy_utils.normalized_str()</span></code></a></li>
<li><strong>n_keyterms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – if int, number of top-ranked terms
to return as keyterms; if float, must be in the open interval (0, 1),
representing the fraction of top-ranked terms to return as keyterms</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">see <a class="reference internal" href="#textacy.keyterms.key_terms_from_semantic_network" title="textacy.keyterms.key_terms_from_semantic_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">key_terms_from_semantic_network()</span></code></a>.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="singlerank" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[SingleRank]</a></td><td>Hasan, K. S., &amp; Ng, V. (2010, August). Conundrums in unsupervised
keyphrase extraction: making sense of the state-of-the-art. In Proceedings
of the 23rd International Conference on Computational Linguistics:
Posters (pp. 365-373). Association for Computational Linguistics.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.keyterms.textrank">
<code class="descclassname">textacy.keyterms.</code><code class="descname">textrank</code><span class="sig-paren">(</span><em>doc</em>, <em>normalize='lemma'</em>, <em>n_keyterms=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/keyterms.html#textrank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.keyterms.textrank" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for calling <a class="reference internal" href="#textacy.keyterms.key_terms_from_semantic_network" title="textacy.keyterms.key_terms_from_semantic_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">key_terms_from_semantic_network</span></code></a>
with the parameter values used in the <a class="reference internal" href="#textrank" id="id7">[TextRank]</a> algorithm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>callable</em>) – if ‘lemma’, lemmatize terms; if ‘lower’,
lowercase terms; if None, use the form of terms as they appeared in
<code class="docutils literal notranslate"><span class="pre">doc</span></code>; if a callable, must accept a <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> and return a str,
e.g. <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">textacy.spacy_utils.normalized_str()</span></code></a></li>
<li><strong>n_keyterms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – if int, number of top-ranked terms
to return as keyterms; if float, must be in the open interval (0, 1),
representing the fraction of top-ranked terms to return as keyterms</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">See <a class="reference internal" href="#textacy.keyterms.key_terms_from_semantic_network" title="textacy.keyterms.key_terms_from_semantic_network"><code class="xref py py-func docutils literal notranslate"><span class="pre">key_terms_from_semantic_network()</span></code></a>.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="textrank" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[TextRank]</a></td><td>Mihalcea, R., &amp; Tarau, P. (2004, July). TextRank: Bringing
order into texts. Association for Computational Linguistics.</td></tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-textacy.vsm.vectorizers">
<span id="vectorization-topic-modeling"></span><h2>Vectorization &amp; Topic Modeling<a class="headerlink" href="#module-textacy.vsm.vectorizers" title="Permalink to this headline">¶</a></h2>
<div class="section" id="vectorizers">
<h3>Vectorizers<a class="headerlink" href="#vectorizers" title="Permalink to this headline">¶</a></h3>
<p>Transform a collection of tokenized documents into a document-term matrix
of shape (# docs, # unique terms), with various ways to filter or limit
included terms and flexible weighting schemes for their values.</p>
<p>A second option aggregates terms in tokenized documents by provided group labels,
resulting in a “group-term-matrix” of shape (# unique groups, # unique terms),
with filtering and weighting functionality as described above.</p>
<p>See the <a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer" title="textacy.vsm.vectorizers.Vectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vectorizer</span></code></a> and <a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer" title="textacy.vsm.vectorizers.GroupVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupVectorizer</span></code></a> docstrings for usage
examples and explanations of the various weighting schemes.</p>
<dl class="class">
<dt id="textacy.vsm.vectorizers.GroupVectorizer">
<em class="property">class </em><code class="descclassname">textacy.vsm.vectorizers.</code><code class="descname">GroupVectorizer</code><span class="sig-paren">(</span><em>tf_type='linear'</em>, <em>apply_idf=False</em>, <em>idf_type='smooth'</em>, <em>apply_dl=False</em>, <em>dl_type='linear'</em>, <em>norm=None</em>, <em>min_df=1</em>, <em>max_df=1.0</em>, <em>max_n_terms=None</em>, <em>vocabulary_terms=None</em>, <em>vocabulary_grps=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/vectorizers.html#GroupVectorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform one or more tokenized documents into a group-term matrix of
shape (# groups, # unique terms), with tf-, tf-idf, or binary-weighted values.</p>
<p>This is an extension of typical document-term matrix vectorization, where
terms are grouped by the documents in which they co-occur. It allows for
customized grouping, such as by a shared author or publication year, that
may span multiple documents, without forcing users to merge those documents
themselves.</p>
<p>Stream a corpus with metadata from disk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cw</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">CapitolWords</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadata_stream</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">split_records</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">cw</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">),</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">itemwise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">texts</span><span class="o">=</span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadatas</span><span class="o">=</span><span class="n">metadata_stream</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span>
<span class="go">Corpus(1000 docs; 538172 tokens)</span>
</pre></div>
</div>
<p>Tokenize and vectorize the first 600 documents of this corpus, where terms
are grouped not by documents but by a categorical value in the docs’ metadata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tokenized_docs</span><span class="p">,</span> <span class="n">groups</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">ngrams</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">named_entities</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>     <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;speaker_name&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">[:</span><span class="mi">600</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span> <span class="o">=</span> <span class="n">GroupVectorizer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">apply_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">idf_type</span><span class="o">=</span><span class="s1">&#39;smooth&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;l2&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">min_df</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grp_term_matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">tokenized_docs</span><span class="p">,</span> <span class="n">groups</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grp_term_matrix</span>
<span class="go">&lt;5x1793 sparse matrix of type &#39;&lt;class &#39;numpy.float64&#39;&gt;&#39;</span>
<span class="go">        with 6075 stored elements in Compressed Sparse Row format&gt;</span>
</pre></div>
</div>
<p>Tokenize and vectorize the remaining 400 documents of the corpus, using only
the groups, terms, and weights learned in the previous step:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tokenized_docs</span><span class="p">,</span> <span class="n">groups</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">ngrams</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">named_entities</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>     <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;speaker_name&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">[</span><span class="mi">600</span><span class="p">:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grp_term_matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">tokenized_docs</span><span class="p">,</span> <span class="n">groups</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grp_term_matrix</span>
<span class="go">&lt;5x1793 sparse matrix of type &#39;&lt;class &#39;numpy.float64&#39;&gt;&#39;</span>
<span class="go">        with 4440 stored elements in Compressed Sparse Row format&gt;</span>
</pre></div>
</div>
<p>Inspect the terms associated with columns and groups associated with rows;
they’re sorted alphabetically:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span><span class="o">.</span><span class="n">terms_list</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="go">[&#39;$ 1 million&#39;, &#39;$ 160 million&#39;, &#39;$ 7 billion&#39;, &#39;0&#39;, &#39;1 minute&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span><span class="o">.</span><span class="n">grps_list</span>
<span class="go">[&#39;Bernie Sanders&#39;, &#39;John Kasich&#39;, &#39;Joseph Biden&#39;, &#39;Lindsey Graham&#39;, &#39;Rick Santorum&#39;]</span>
</pre></div>
</div>
<p>If known in advance, limit the terms and/or groups included in vectorized outputs
to a particular set of values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tokenized_docs</span><span class="p">,</span> <span class="n">groups</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">unzip</span><span class="p">(</span>
<span class="gp">... </span>    <span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">ngrams</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">named_entities</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>     <span class="n">doc</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;speaker_name&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">[:</span><span class="mi">600</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span> <span class="o">=</span> <span class="n">GroupVectorizer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">apply_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">idf_type</span><span class="o">=</span><span class="s1">&#39;smooth&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;l2&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">min_df</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">vocabulary_terms</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;legislation&#39;</span><span class="p">,</span> <span class="s1">&#39;federal government&#39;</span><span class="p">,</span> <span class="s1">&#39;house&#39;</span><span class="p">,</span> <span class="s1">&#39;constitutional&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">vocabulary_grps</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Bernie Sanders&#39;</span><span class="p">,</span> <span class="s1">&#39;Lindsey Graham&#39;</span><span class="p">,</span> <span class="s1">&#39;Rick Santorum&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grp_term_matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">tokenized_docs</span><span class="p">,</span> <span class="n">groups</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grp_term_matrix</span>
<span class="go">&lt;3x4 sparse matrix of type &#39;&lt;class &#39;numpy.float64&#39;&gt;&#39;</span>
<span class="go">        with 12 stored elements in Compressed Sparse Row format&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span><span class="o">.</span><span class="n">terms_list</span>
<span class="go">[&#39;constitutional&#39;, &#39;federal government&#39;, &#39;house&#39;, &#39;legislation&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span><span class="o">.</span><span class="n">grps_list</span>
<span class="go">[&#39;Bernie Sanders&#39;, &#39;Lindsey Graham&#39;, &#39;Rick Santorum&#39;]</span>
</pre></div>
</div>
<p>For a discussion of the various weighting schemes that can be applied, check
out the <a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer" title="textacy.vsm.vectorizers.Vectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vectorizer</span></code></a> docstring.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tf_type</strong> (<em>{'linear'</em><em>, </em><em>'sqrt'</em><em>, </em><em>'log'</em><em>, </em><em>'binary'}</em>) – <p>Type of term frequency (tf)
to use for weights’ local component:</p>
<ul>
<li>’linear’: tf (tfs are already linear, so left as-is)</li>
<li>’sqrt’: tf =&gt; sqrt(tf)</li>
<li>’log’: tf =&gt; log(tf) + 1</li>
<li>’binary’: tf =&gt; 1</li>
</ul>
</li>
<li><strong>apply_idf</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, apply global idfs to local term weights, i.e.
divide per-doc term frequencies by the total number of documents
in which they appear (well, the log of that number); otherwise, don’t.</li>
<li><strong>idf_type</strong> (<em>{'standard'</em><em>, </em><em>'smooth'</em><em>, </em><em>'bm25'}</em>) – <p>Type of inverse document
frequency (idf) to use for weights’ global component:</p>
<ul>
<li>’standard’: idf = log(n_docs / df) + 1.0</li>
<li>’smooth’: idf = log(n_docs + 1 / df + 1) + 1.0, i.e. 1 is added
to all document frequencies, as if a single document containing
every unique term was added to the corpus.</li>
<li>’bm25’: idf = log((n_docs - df + 0.5) / (df + 0.5)), which is
a form commonly used in information retrieval that allows for
very common terms to receive negative weights.</li>
</ul>
</li>
<li><strong>apply_dl</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, normalize local(+global) weights by doc length,
i.e. divide by the total number of in-vocabulary terms appearing
in a given doc; otherwise, don’t.</li>
<li><strong>dl_type</strong> (<em>{'linear'</em><em>, </em><em>'sqrt'</em><em>, </em><em>'log'}</em>) – <p>Type of document-length scaling
to use for weights’ normalization component:</p>
<ul>
<li>’linear’: dl (dls are already linear, so left as-is)</li>
<li>’sqrt’: dl =&gt; sqrt(dl)</li>
<li>’log’: dl =&gt; log(dl)</li>
</ul>
</li>
<li><strong>norm</strong> (<em>{'l1'</em><em>, </em><em>'l2'}</em><em> or </em><em>None</em>) – If ‘l1’ or ‘l2’, normalize weights by the
L1 or L2 norms, respectively, of row-wise vectors; otherwise, don’t.</li>
<li><strong>vocabulary_terms</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>] or </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Mapping of unique term
string to unique term id, or an iterable of term strings that gets
converted into a suitable mapping. Note that, if specified, vectorized
outputs will include <em>only</em> these terms as columns.</li>
<li><strong>vocabulary_grps</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>] or </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Mapping of unique group
string to unique group id, or an iterable of group strings that gets
converted into a suitable mapping. Note that, if specified, vectorized
outputs will include <em>only</em> these groups as rows.</li>
<li><strong>min_df</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – If float, value is the fractional proportion of
the total number of documents, which must be in [0.0, 1.0]. If int,
value is the absolute number. Filter terms whose document frequency
is less than <code class="docutils literal notranslate"><span class="pre">min_df</span></code>.</li>
<li><strong>max_df</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – If float, value is the fractional proportion of
the total number of documents, which must be in [0.0, 1.0]. If int,
value is the absolute number. Filter terms whose document frequency
is greater than <code class="docutils literal notranslate"><span class="pre">max_df</span></code>.</li>
<li><strong>max_n_terms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Only include terms whose document frequency is within
the top <code class="docutils literal notranslate"><span class="pre">max_n_terms</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.vsm.vectorizers.GroupVectorizer.vocabulary_terms">
<code class="descname">vocabulary_terms</code><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer.vocabulary_terms" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[str, int]</em> – Mapping of unique term string to unique
term id, either provided on instantiation or generated by calling
<a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer.fit" title="textacy.vsm.vectorizers.GroupVectorizer.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GroupVectorizer.fit()</span></code></a> on a collection of tokenized documents.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.vsm.vectorizers.GroupVectorizer.vocabulary_grps">
<code class="descname">vocabulary_grps</code><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer.vocabulary_grps" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[str, int]</em> – Mapping of unique group string to unique
group id, either provided on instantiation or generated by calling
<a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer.fit" title="textacy.vsm.vectorizers.GroupVectorizer.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GroupVectorizer.fit()</span></code></a> on a collection of tokenized documents.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.vsm.vectorizers.GroupVectorizer.id_to_term">
<code class="descname">id_to_term</code><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer.id_to_term" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[int, str]</em> – Mapping of unique term id to unique term
string, i.e. the inverse of <a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer.vocabulary_terms" title="textacy.vsm.vectorizers.GroupVectorizer.vocabulary_terms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">GroupVectorizer.vocabulary_terms</span></code></a>.
This mapping is only generated as needed.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.vsm.vectorizers.GroupVectorizer.id_to_grp">
<code class="descname">id_to_grp</code><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer.id_to_grp" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[int, str]</em> – Mapping of unique group id to unique group
string, i.e. the inverse of <a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer.vocabulary_grps" title="textacy.vsm.vectorizers.GroupVectorizer.vocabulary_grps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">GroupVectorizer.vocabulary_grps</span></code></a>.
This mapping is only generated as needed.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.vsm.vectorizers.GroupVectorizer.terms_list">
<code class="descname">terms_list</code><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer.terms_list" title="Permalink to this definition">¶</a></dt>
<dd><p><em>List[str]</em> – List of term strings in column order of
vectorized outputs.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.vsm.vectorizers.GroupVectorizer.grps_list">
<code class="descname">grps_list</code><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer.grps_list" title="Permalink to this definition">¶</a></dt>
<dd><p><em>List[str]</em> – List of group strings in row order of
vectorized outputs.</p>
</dd></dl>

<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer" title="textacy.vsm.vectorizers.Vectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vectorizer</span></code></a></p>
</div>
<dl class="method">
<dt id="textacy.vsm.vectorizers.GroupVectorizer.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>tokenized_docs</em>, <em>grps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/vectorizers.html#GroupVectorizer.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Count terms in <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> and, if not already provided, build up
a vocabulary based those terms; do the same for the groups in <code class="docutils literal notranslate"><span class="pre">grps</span></code>.
Fit and store global weights (IDFs) and, if needed for term weighting,
the average document length.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tokenized_docs</strong> (<em>Iterable</em><em>[</em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em><em>]</em>) – <p>A sequence of tokenized
documents, where each is a sequence of (str) terms. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">([</span><span class="n">tok</span><span class="o">.</span><span class="n">lemma_</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">spacy_doc</span><span class="p">]</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">spacy_doc</span> <span class="ow">in</span> <span class="n">spacy_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">((</span><span class="n">ne</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">ne</span> <span class="ow">in</span> <span class="n">extract</span><span class="o">.</span><span class="n">named_entities</span><span class="p">(</span><span class="n">doc</span><span class="p">))</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><strong>grps</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Sequence of group names by which the terms in
<code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> are aggregated, where the first item in <code class="docutils literal notranslate"><span class="pre">grps</span></code>
corresponds to the first item in <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code>, and so on.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The instance that has just been fit.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer" title="textacy.vsm.vectorizers.GroupVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupVectorizer</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.vsm.vectorizers.GroupVectorizer.fit_transform">
<code class="descname">fit_transform</code><span class="sig-paren">(</span><em>tokenized_docs</em>, <em>grps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/vectorizers.html#GroupVectorizer.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Count terms in <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> and, if not already provided, build up
a vocabulary based those terms; do the same for the groups in <code class="docutils literal notranslate"><span class="pre">grps</span></code>.
Fit and store global weights (IDFs) and, if needed for term weighting,
the average document length. Transform <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> into a
group-term matrix with values weighted according to the parameters in
<a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer" title="textacy.vsm.vectorizers.GroupVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupVectorizer</span></code></a> initialization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tokenized_docs</strong> (<em>Iterable</em><em>[</em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em><em>]</em>) – <p>A sequence of tokenized
documents, where each is a sequence of (str) terms. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">([</span><span class="n">tok</span><span class="o">.</span><span class="n">lemma_</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">spacy_doc</span><span class="p">]</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">spacy_doc</span> <span class="ow">in</span> <span class="n">spacy_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">((</span><span class="n">ne</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">ne</span> <span class="ow">in</span> <span class="n">extract</span><span class="o">.</span><span class="n">named_entities</span><span class="p">(</span><span class="n">doc</span><span class="p">))</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><strong>grps</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Sequence of group names by which the terms in
<code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> are aggregated, where the first item in <code class="docutils literal notranslate"><span class="pre">grps</span></code>
corresponds to the first item in <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code>, and so on.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The transformed group-term matrix.
Rows correspond to groups and columns correspond to terms.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">grps_list</code></dt>
<dd><p>List of group strings in row order of vectorized outputs. For example,
<code class="docutils literal notranslate"><span class="pre">grps_list[0]</span></code> gives the group assigned to the first row in an
output group-term-matrix, <code class="docutils literal notranslate"><span class="pre">grp_term_matrix[0,</span> <span class="pre">:]</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">id_to_grp</code></dt>
<dd><p><em>dict</em> – Mapping of unique group id (int) to unique group string (str), i.e.
the inverse of <a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer.vocabulary_grps" title="textacy.vsm.vectorizers.GroupVectorizer.vocabulary_grps"><code class="xref py py-attr docutils literal notranslate"><span class="pre">GroupVectorizer.vocabulary_grps</span></code></a>. This attribute
is only generated if needed, and it is automatically kept in sync
with the corresponding vocabulary.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.vsm.vectorizers.GroupVectorizer.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>tokenized_docs</em>, <em>grps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/vectorizers.html#GroupVectorizer.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.vectorizers.GroupVectorizer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> and <code class="docutils literal notranslate"><span class="pre">grps</span></code> into a group-term matrix with
values weighted according to the parameters in <a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer" title="textacy.vsm.vectorizers.GroupVectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">GroupVectorizer</span></code></a>
initialization and the global weights computed by calling
<a class="reference internal" href="#textacy.vsm.vectorizers.GroupVectorizer.fit" title="textacy.vsm.vectorizers.GroupVectorizer.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">GroupVectorizer.fit()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>tokenized_docs</strong> (<em>Iterable</em><em>[</em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em><em>]</em>) – <p>A sequence of tokenized
documents, where each is a sequence of (str) terms. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">([</span><span class="n">tok</span><span class="o">.</span><span class="n">lemma_</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">spacy_doc</span><span class="p">]</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">spacy_doc</span> <span class="ow">in</span> <span class="n">spacy_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">((</span><span class="n">ne</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">ne</span> <span class="ow">in</span> <span class="n">extract</span><span class="o">.</span><span class="n">named_entities</span><span class="p">(</span><span class="n">doc</span><span class="p">))</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><strong>grps</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Sequence of group names by which the terms in
<code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> are aggregated, where the first item in <code class="docutils literal notranslate"><span class="pre">grps</span></code>
corresponds to the first item in <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code>, and so on.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The transformed group-term matrix.
Rows correspond to groups and columns correspond to terms.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For best results, the tokenization used to produce <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code>
should be the same as was applied to the docs used in fitting this
vectorizer or in generating a fixed input vocabulary.</p>
<p class="last">Consider an extreme case where the docs used in fitting consist of
lowercased (non-numeric) terms, while the docs to be transformed are
all uppercased: The output group-term-matrix will be empty.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="textacy.vsm.vectorizers.Vectorizer">
<em class="property">class </em><code class="descclassname">textacy.vsm.vectorizers.</code><code class="descname">Vectorizer</code><span class="sig-paren">(</span><em>tf_type='linear'</em>, <em>apply_idf=False</em>, <em>idf_type='smooth'</em>, <em>apply_dl=False</em>, <em>dl_type='sqrt'</em>, <em>norm=None</em>, <em>min_df=1</em>, <em>max_df=1.0</em>, <em>max_n_terms=None</em>, <em>vocabulary_terms=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/vectorizers.html#Vectorizer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.vectorizers.Vectorizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform one or more tokenized documents into a sparse document-term matrix
of shape (# docs, # unique terms), with flexibly weighted and normalized values.</p>
<p>Stream a corpus with metadata from disk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cw</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">CapitolWords</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadata_stream</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">split_records</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">cw</span><span class="o">.</span><span class="n">records</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1000</span><span class="p">),</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="n">itemwise</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Corpus</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="n">texts</span><span class="o">=</span><span class="n">text_stream</span><span class="p">,</span> <span class="n">metadatas</span><span class="o">=</span><span class="n">metadata_stream</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">corpus</span>
<span class="go">Corpus(1000 docs; 538172 tokens)</span>
</pre></div>
</div>
<p>Tokenize and vectorize the first 600 documents of this corpus:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tokenized_docs</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">ngrams</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">named_entities</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">[:</span><span class="mi">600</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span> <span class="o">=</span> <span class="n">Vectorizer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">apply_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;l2&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">min_df</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">tokenized_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span>
<span class="go">&lt;600x4346 sparse matrix of type &#39;&lt;class &#39;numpy.float64&#39;&gt;&#39;</span>
<span class="go">        with 69673 stored elements in Compressed Sparse Row format&gt;</span>
</pre></div>
</div>
<p>Tokenize and vectorize the remaining 400 documents of the corpus, using only
the groups, terms, and weights learned in the previous step:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tokenized_docs</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">ngrams</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">named_entities</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">[</span><span class="mi">600</span><span class="p">:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">tokenized_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span>
<span class="go">&lt;400x4346 sparse matrix of type &#39;&lt;class &#39;numpy.float64&#39;&gt;&#39;</span>
<span class="go">        with 38756 stored elements in Compressed Sparse Row format&gt;</span>
</pre></div>
</div>
<p>Inspect the terms associated with columns; they’re sorted alphabetically:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span><span class="o">.</span><span class="n">terms_list</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="go">[&#39;&#39;, &#39;$&#39;, &#39;$ 1 million&#39;, &#39;$ 1.2 billion&#39;, &#39;$ 10 billion&#39;]</span>
</pre></div>
</div>
<p>(Btw: That empty string shouldn’t be there. Somehow, spaCy is labeling it as
a named entity…)</p>
<p>If known in advance, limit the terms included in vectorized outputs
to a particular set of values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tokenized_docs</span> <span class="o">=</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">ngrams</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">named_entities</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">[:</span><span class="mi">600</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span> <span class="o">=</span> <span class="n">Vectorizer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">apply_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">idf_type</span><span class="o">=</span><span class="s1">&#39;smooth&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;l2&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">min_df</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">vocabulary_terms</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;president&#39;</span><span class="p">,</span> <span class="s1">&#39;bill&#39;</span><span class="p">,</span> <span class="s1">&#39;unanimous&#39;</span><span class="p">,</span> <span class="s1">&#39;distinguished&#39;</span><span class="p">,</span> <span class="s1">&#39;american&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">tokenized_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span>
<span class="go">&lt;600x5 sparse matrix of type &#39;&lt;class &#39;numpy.float64&#39;&gt;&#39;</span>
<span class="go">        with 844 stored elements in Compressed Sparse Row format&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span><span class="o">.</span><span class="n">terms_list</span>
<span class="go">[&#39;american&#39;, &#39;bill&#39;, &#39;distinguished&#39;, &#39;president&#39;, &#39;unanimous&#39;]</span>
</pre></div>
</div>
<p>Specify different weighting schemes to determine values in the matrix,
adding or customizing individual components, as desired:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">money_idx</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">vocabulary_terms</span><span class="p">[</span><span class="s1">&#39;$&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span> <span class="o">=</span> <span class="n">Vectorizer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">tf_type</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_df</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">tokenized_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">doc_term_matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="n">money_idx</span><span class="p">]</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="go">[[0]</span>
<span class="go"> [0]</span>
<span class="go"> [1]</span>
<span class="go"> [4]</span>
<span class="go"> [0]</span>
<span class="go"> [0]</span>
<span class="go"> [2]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span> <span class="o">=</span> <span class="n">Vectorizer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">tf_type</span><span class="o">=</span><span class="s1">&#39;sqrt&#39;</span><span class="p">,</span> <span class="n">apply_dl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">dl_type</span><span class="o">=</span><span class="s1">&#39;sqrt&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_df</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">tokenized_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">doc_term_matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="n">money_idx</span><span class="p">]</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="go">[[0.        ]</span>
<span class="go"> [0.        ]</span>
<span class="go"> [0.10101525]</span>
<span class="go"> [0.26037782]</span>
<span class="go"> [0.        ]</span>
<span class="go"> [0.        ]</span>
<span class="go"> [0.11396058]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span> <span class="o">=</span> <span class="n">Vectorizer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">tf_type</span><span class="o">=</span><span class="s1">&#39;bm25&#39;</span><span class="p">,</span> <span class="n">apply_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">idf_type</span><span class="o">=</span><span class="s1">&#39;smooth&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">min_df</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span>
<span class="gp">... </span>    <span class="p">)</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">tokenized_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">doc_term_matrix</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="n">money_idx</span><span class="p">]</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="go">[[0.        ]</span>
<span class="go"> [0.        ]</span>
<span class="go"> [3.28353965]</span>
<span class="go"> [5.82763722]</span>
<span class="go"> [0.        ]</span>
<span class="go"> [0.        ]</span>
<span class="go"> [4.83933924]]</span>
</pre></div>
</div>
<p>If you’re not sure what’s going on mathematically, <a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer.weighting" title="textacy.vsm.vectorizers.Vectorizer.weighting"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Vectorizer.weighting</span></code></a>
gives the formula being used to calculate weights, based on the parameters
set when initializing the vectorizer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span><span class="o">.</span><span class="n">weighting</span>
<span class="go">&#39;(tf * (k + 1)) / (k + tf) * log((n_docs + 1) / (df + 1)) + 1&#39;</span>
</pre></div>
</div>
<p>In general, weights may consist of a local component (term frequency),
a global component (inverse document frequency), and a normalization
component (document length). Individual components may be modified:
they may have different scaling (e.g. tf vs. sqrt(tf)) or different behaviors
(e.g. “standard” idf vs bm25’s version). There are <em>many</em> possible weightings,
and some may be better for particular use cases than others. When in doubt,
though, just go with something standard.</p>
<ul class="simple">
<li>“tf”: Weights are simply the absolute per-document term frequencies (tfs),
i.e. value (i, j) in an output doc-term matrix corresponds to the number
of occurrences of term j in doc i. Terms appearing many times in a given
doc receive higher weights than less common terms.
Params: <code class="docutils literal notranslate"><span class="pre">tf_type='linear',</span> <span class="pre">apply_idf=False,</span> <span class="pre">apply_dl=False</span></code></li>
<li>“tfidf”: Doc-specific, <em>local</em> tfs are multiplied by their corpus-wide,
<em>global</em> inverse document frequencies (idfs). Terms appearing in many docs
have higher document frequencies (dfs), correspondingly smaller idfs, and
in turn, lower weights.
Params: <code class="docutils literal notranslate"><span class="pre">tf_type='linear',</span> <span class="pre">apply_idf=True,</span> <span class="pre">idf_type='smooth',</span> <span class="pre">apply_dl=False</span></code></li>
<li>“bm25”: This scheme includes a local tf component that increases asymptotically,
so higher tfs have diminishing effects on the overall weight; a global idf
component that can go <em>negative</em> for terms that appear in a sufficiently
high proportion of docs; as well as a row-wise normalization that accounts for
document length, such that terms in shorter docs hit the tf asymptote sooner
than those in longer docs.
Params: <code class="docutils literal notranslate"><span class="pre">tf_type='bm25',</span> <span class="pre">apply_idf=True,</span> <span class="pre">idf_type='bm25',</span> <span class="pre">apply_dl=True</span></code></li>
<li>“binary”: This weighting scheme simply replaces all non-zero tfs with 1,
indicating the presence or absence of a term in a particular doc. That’s it.
Params: <code class="docutils literal notranslate"><span class="pre">tf_type='binary',</span> <span class="pre">apply_idf=False,</span> <span class="pre">apply_dl=False</span></code></li>
</ul>
<p>Slightly altered versions of these “standard” weighting schemes are common,
and may have better behavior in general use cases:</p>
<ul class="simple">
<li>“lucene-style tfidf”: Adds a doc-length normalization to the usual local
and global components.
Params: <code class="docutils literal notranslate"><span class="pre">tf_type='linear',</span> <span class="pre">apply_idf=True,</span> <span class="pre">idf_type='smooth',</span> <span class="pre">apply_dl=True,</span> <span class="pre">dl_type='sqrt'</span></code></li>
<li>“lucene-style bm25”: Uses a smoothed idf instead of the classic bm25 variant
to prevent weights on terms from going negative.
Params: <code class="docutils literal notranslate"><span class="pre">tf_type='bm25',</span> <span class="pre">apply_idf=True,</span> <span class="pre">idf_type='smooth',</span> <span class="pre">apply_dl=True,</span> <span class="pre">dl_type='linear'</span></code></li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tf_type</strong> (<em>{'linear'</em><em>, </em><em>'sqrt'</em><em>, </em><em>'log'</em><em>, </em><em>'binary'}</em>) – <p>Type of term frequency (tf)
to use for weights’ local component:</p>
<ul>
<li>’linear’: tf (tfs are already linear, so left as-is)</li>
<li>’sqrt’: tf =&gt; sqrt(tf)</li>
<li>’log’: tf =&gt; log(tf) + 1</li>
<li>’binary’: tf =&gt; 1</li>
</ul>
</li>
<li><strong>apply_idf</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, apply global idfs to local term weights, i.e.
divide per-doc term frequencies by the (log of the) total number
of documents in which they appear; otherwise, don’t.</li>
<li><strong>idf_type</strong> (<em>{'standard'</em><em>, </em><em>'smooth'</em><em>, </em><em>'bm25'}</em>) – <p>Type of inverse document
frequency (idf) to use for weights’ global component:</p>
<ul>
<li>’standard’: idf = log(n_docs / df) + 1.0</li>
<li>’smooth’: idf = log(n_docs + 1 / df + 1) + 1.0, i.e. 1 is added
to all document frequencies, as if a single document containing
every unique term was added to the corpus. This prevents zero divisions!</li>
<li>’bm25’: idf = log((n_docs - df + 0.5) / (df + 0.5)), which is
a form commonly used in information retrieval that allows for
very common terms to receive negative weights.</li>
</ul>
</li>
<li><strong>apply_dl</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, normalize local(+global) weights by doc length,
i.e. divide by the total number of in-vocabulary terms appearing
in a given doc; otherwise, don’t.</li>
<li><strong>dl_type</strong> (<em>{'linear'</em><em>, </em><em>'sqrt'</em><em>, </em><em>'log'}</em>) – <p>Type of document-length scaling
to use for weights’ normalization component:</p>
<ul>
<li>’linear’: dl (dls are already linear, so left as-is)</li>
<li>’sqrt’: dl =&gt; sqrt(dl)</li>
<li>’log’: dl =&gt; log(dl)</li>
</ul>
</li>
<li><strong>norm</strong> (<em>{'l1'</em><em>, </em><em>'l2'}</em><em> or </em><em>None</em>) – If ‘l1’ or ‘l2’, normalize weights by the
L1 or L2 norms, respectively, of row-wise vectors; otherwise, don’t.</li>
<li><strong>vocabulary_terms</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>] or </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – Mapping of unique term
string to unique term id, or an iterable of term strings that gets
converted into a suitable mapping. Note that, if specified, vectorized
outputs will include <em>only</em> these terms as columns.</li>
<li><strong>min_df</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – If float, value is the fractional proportion of
the total number of documents, which must be in [0.0, 1.0]. If int,
value is the absolute number. Filter terms whose document frequency
is less than <code class="docutils literal notranslate"><span class="pre">min_df</span></code>.</li>
<li><strong>max_df</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – If float, value is the fractional proportion of
the total number of documents, which must be in [0.0, 1.0]. If int,
value is the absolute number. Filter terms whose document frequency
is greater than <code class="docutils literal notranslate"><span class="pre">max_df</span></code>.</li>
<li><strong>max_n_terms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Only include terms whose document frequency is within
the top <code class="docutils literal notranslate"><span class="pre">max_n_terms</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.vsm.vectorizers.Vectorizer.vocabulary_terms">
<code class="descname">vocabulary_terms</code><a class="headerlink" href="#textacy.vsm.vectorizers.Vectorizer.vocabulary_terms" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[str, int]</em> – Mapping of unique term string to unique
term id, either provided on instantiation or generated by calling
<a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer.fit" title="textacy.vsm.vectorizers.Vectorizer.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Vectorizer.fit()</span></code></a> on a collection of tokenized documents.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.vsm.vectorizers.Vectorizer.id_to_term">
<code class="descname">id_to_term</code><a class="headerlink" href="#textacy.vsm.vectorizers.Vectorizer.id_to_term" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[int, str]</em> – Mapping of unique term id to unique term
string, i.e. the inverse of <a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer.vocabulary_terms" title="textacy.vsm.vectorizers.Vectorizer.vocabulary_terms"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Vectorizer.vocabulary_terms</span></code></a>.
This mapping is only generated as needed.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.vsm.vectorizers.Vectorizer.terms_list">
<code class="descname">terms_list</code><a class="headerlink" href="#textacy.vsm.vectorizers.Vectorizer.terms_list" title="Permalink to this definition">¶</a></dt>
<dd><p><em>List[str]</em> – List of term strings in column order of
vectorized outputs.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.vsm.vectorizers.Vectorizer.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>tokenized_docs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/vectorizers.html#Vectorizer.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.vectorizers.Vectorizer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Count terms in <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> and, if not already provided, build up
a vocabulary based those terms. Fit and store global weights (IDFs)
and, if needed for term weighting, the average document length.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tokenized_docs</strong> (<em>Iterable</em><em>[</em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em><em>]</em>) – <p>A sequence of tokenized
documents, where each is a sequence of (str) terms. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">([</span><span class="n">tok</span><span class="o">.</span><span class="n">lemma_</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">spacy_doc</span><span class="p">]</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">spacy_doc</span> <span class="ow">in</span> <span class="n">spacy_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">((</span><span class="n">ne</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">ne</span> <span class="ow">in</span> <span class="n">extract</span><span class="o">.</span><span class="n">named_entities</span><span class="p">(</span><span class="n">doc</span><span class="p">))</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The instance that has just been fit.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer" title="textacy.vsm.vectorizers.Vectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vectorizer</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.vsm.vectorizers.Vectorizer.fit_transform">
<code class="descname">fit_transform</code><span class="sig-paren">(</span><em>tokenized_docs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/vectorizers.html#Vectorizer.fit_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.vectorizers.Vectorizer.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Count terms in <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> and, if not already provided, build up
a vocabulary based those terms. Fit and store global weights (IDFs)
and, if needed for term weighting, the average document length.
Transform <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> into a document-term matrix with values
weighted according to the parameters in <a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer" title="textacy.vsm.vectorizers.Vectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vectorizer</span></code></a> initialization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tokenized_docs</strong> (<em>Iterable</em><em>[</em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em><em>]</em>) – <p>A sequence of tokenized
documents, where each is a sequence of (str) terms. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">([</span><span class="n">tok</span><span class="o">.</span><span class="n">lemma_</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">spacy_doc</span><span class="p">]</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">spacy_doc</span> <span class="ow">in</span> <span class="n">spacy_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">((</span><span class="n">ne</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">ne</span> <span class="ow">in</span> <span class="n">extract</span><span class="o">.</span><span class="n">named_entities</span><span class="p">(</span><span class="n">doc</span><span class="p">))</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The transformed document-term matrix.
Rows correspond to documents and columns correspond to terms.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">id_to_term</code></dt>
<dd><p><em>dict</em> – Mapping of unique term id (int) to unique term string (str), i.e.
the inverse of <code class="xref py py-attr docutils literal notranslate"><span class="pre">Vectorizer.vocabulary</span></code>. This attribute is only
generated if needed, and it is automatically kept in sync with the
corresponding vocabulary.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">terms_list</code></dt>
<dd><p>List of term strings in column order of vectorized outputs. For example,
<code class="docutils literal notranslate"><span class="pre">terms_list[0]</span></code> gives the term assigned to the first column in an
output doc-term-matrix, <code class="docutils literal notranslate"><span class="pre">doc_term_matrix[:,</span> <span class="pre">0]</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="textacy.vsm.vectorizers.Vectorizer.transform">
<code class="descname">transform</code><span class="sig-paren">(</span><em>tokenized_docs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/vectorizers.html#Vectorizer.transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.vectorizers.Vectorizer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code> into a document-term matrix with values
weighted according to the parameters in <a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer" title="textacy.vsm.vectorizers.Vectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vectorizer</span></code></a> initialization
and the global weights computed by calling <a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer.fit" title="textacy.vsm.vectorizers.Vectorizer.fit"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Vectorizer.fit()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tokenized_docs</strong> (<em>Iterable</em><em>[</em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em><em>]</em>) – <p>A sequence of tokenized
documents, where each is a sequence of (str) terms. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">([</span><span class="n">tok</span><span class="o">.</span><span class="n">lemma_</span> <span class="k">for</span> <span class="n">tok</span> <span class="ow">in</span> <span class="n">spacy_doc</span><span class="p">]</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">spacy_doc</span> <span class="ow">in</span> <span class="n">spacy_docs</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">((</span><span class="n">ne</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">ne</span> <span class="ow">in</span> <span class="n">extract</span><span class="o">.</span><span class="n">named_entities</span><span class="p">(</span><span class="n">doc</span><span class="p">))</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">corpus</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">doc</span><span class="o">.</span><span class="n">to_terms_list</span><span class="p">(</span><span class="n">as_strings</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">docs</span><span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The transformed document-term matrix.
Rows correspond to documents and columns correspond to terms.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For best results, the tokenization used to produce <code class="docutils literal notranslate"><span class="pre">tokenized_docs</span></code>
should be the same as was applied to the docs used in fitting this
vectorizer or in generating a fixed input vocabulary.</p>
<p class="last">Consider an extreme case where the docs used in fitting consist of
lowercased (non-numeric) terms, while the docs to be transformed are
all uppercased: The output doc-term-matrix will be empty.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="textacy.vsm.vectorizers.Vectorizer.weighting">
<code class="descname">weighting</code><a class="headerlink" href="#textacy.vsm.vectorizers.Vectorizer.weighting" title="Permalink to this definition">¶</a></dt>
<dd><p><em>str</em> – A mathematical representation of the overall weighting scheme
used to determine values in the vectorized matrix, depending on the
params used to initialize the <a class="reference internal" href="#textacy.vsm.vectorizers.Vectorizer" title="textacy.vsm.vectorizers.Vectorizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Vectorizer</span></code></a>.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-textacy.vsm.matrix_utils"></span><div class="section" id="sparse-matrix-utils">
<h3>Sparse Matrix Utils<a class="headerlink" href="#sparse-matrix-utils" title="Permalink to this headline">¶</a></h3>
<p>Functions for computing corpus-wide term- or document-based values, like
term frequency, document frequency, and document length, and filtering terms
from a matrix by their document frequency.</p>
<dl class="function">
<dt id="textacy.vsm.matrix_utils.apply_idf_weighting">
<code class="descclassname">textacy.vsm.matrix_utils.</code><code class="descname">apply_idf_weighting</code><span class="sig-paren">(</span><em>doc_term_matrix</em>, <em>idf_type='smooth'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/matrix_utils.html#apply_idf_weighting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.matrix_utils.apply_idf_weighting" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply inverse document frequency (idf) weighting to a term-frequency (tf)
weighted document-term matrix, optionally smoothing idf values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_term_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – M x N sparse matrix,
where M is the # of docs and N is the # of unique terms.</li>
<li><strong>smooth_idf</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, add 1 to all document frequencies, equivalent
to adding a single document to the corpus containing every unique term</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Sparse matrix of shape (# docs, # unique terms),
where value (i, j) is the tfidf weight of term j in doc i</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.vsm.matrix_utils.filter_terms_by_df">
<code class="descclassname">textacy.vsm.matrix_utils.</code><code class="descname">filter_terms_by_df</code><span class="sig-paren">(</span><em>doc_term_matrix</em>, <em>term_to_id</em>, <em>max_df=1.0</em>, <em>min_df=1</em>, <em>max_n_terms=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/matrix_utils.html#filter_terms_by_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.matrix_utils.filter_terms_by_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter out terms that are too common and/or too rare (by document frequency),
and compactify the top <code class="docutils literal notranslate"><span class="pre">max_n_terms</span></code> in the <code class="docutils literal notranslate"><span class="pre">id_to_term</span></code> mapping accordingly.
Borrows heavily from the <code class="docutils literal notranslate"><span class="pre">sklearn.feature_extraction.text</span></code> module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_term_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – M X N matrix, where
M is the # of docs and N is the # of unique terms.</li>
<li><strong>term_to_id</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Mapping of term string to unique term id,
e.g. <code class="xref py py-attr docutils literal notranslate"><span class="pre">Vectorizer.vocabulary_terms</span></code>.</li>
<li><strong>min_df</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – if float, value is the fractional proportion of
the total number of documents and must be in [0.0, 1.0]; if int,
value is the absolute number; filter terms whose document frequency
is less than <code class="docutils literal notranslate"><span class="pre">min_df</span></code></li>
<li><strong>max_df</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – if float, value is the fractional proportion of
the total number of documents and must be in [0.0, 1.0]; if int,
value is the absolute number; filter terms whose document frequency
is greater than <code class="docutils literal notranslate"><span class="pre">max_df</span></code></li>
<li><strong>max_n_terms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – only include terms whose <em>term</em> frequency is within
the top <cite>max_n_terms</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>Sparse matrix of shape (# docs, # unique filtered terms),
where value (i, j) is the weight of term j in doc i.</p>
<p>Dict[str, int]: Term to id mapping, where keys are unique <em>filtered</em> terms
as strings and values are their corresponding integer ids.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">max_df</span></code> or <code class="docutils literal notranslate"><span class="pre">min_df</span></code> or <code class="docutils literal notranslate"><span class="pre">max_n_terms</span></code> &lt; 0.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.vsm.matrix_utils.filter_terms_by_ic">
<code class="descclassname">textacy.vsm.matrix_utils.</code><code class="descname">filter_terms_by_ic</code><span class="sig-paren">(</span><em>doc_term_matrix</em>, <em>term_to_id</em>, <em>min_ic=0.0</em>, <em>max_n_terms=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/matrix_utils.html#filter_terms_by_ic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.matrix_utils.filter_terms_by_ic" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter out terms that are too common and/or too rare (by information content),
and compactify the top <code class="docutils literal notranslate"><span class="pre">max_n_terms</span></code> in the <code class="docutils literal notranslate"><span class="pre">id_to_term</span></code> mapping accordingly.
Borrows heavily from the <code class="docutils literal notranslate"><span class="pre">sklearn.feature_extraction.text</span></code> module.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_term_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – M X N sparse matrix,
where M is the # of docs and N is the # of unique terms.</li>
<li><strong>term_to_id</strong> (<em>Dict</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – Mapping of term string to unique term id,
e.g. <code class="xref py py-attr docutils literal notranslate"><span class="pre">Vectorizer.vocabulary_terms</span></code>.</li>
<li><strong>min_ic</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – filter terms whose information content is less than this
value; must be in [0.0, 1.0]</li>
<li><strong>max_n_terms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – only include terms whose information content is within
the top <code class="docutils literal notranslate"><span class="pre">max_n_terms</span></code></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>Sparse matrix of shape (# docs, # unique filtered terms),
where value (i, j) is the weight of term j in doc i.</p>
<p>Dict[str, int]: Term to id mapping, where keys are unique <em>filtered</em> terms
as strings and values are their corresponding integer ids.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">min_ic</span></code> not in [0.0, 1.0] or <code class="docutils literal notranslate"><span class="pre">max_n_terms</span></code> &lt; 0.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.vsm.matrix_utils.get_doc_freqs">
<code class="descclassname">textacy.vsm.matrix_utils.</code><code class="descname">get_doc_freqs</code><span class="sig-paren">(</span><em>doc_term_matrix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/matrix_utils.html#get_doc_freqs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.matrix_utils.get_doc_freqs" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute document frequencies for all terms in a document-term matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>doc_term_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – <p>M x N sparse matrix,
where M is the # of docs and N is the # of unique terms.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Weighting on the terms doesn’t matter! Could be binary or
tf or tfidf, a term’s doc freq will be the same.</p>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Array of document frequencies, with length equal to
the # of unique terms (# of columns) in <code class="docutils literal notranslate"><span class="pre">doc_term_matrix</span></code>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">doc_term_matrix</span></code> doesn’t have any non-zero entries.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.vsm.matrix_utils.get_doc_lengths">
<code class="descclassname">textacy.vsm.matrix_utils.</code><code class="descname">get_doc_lengths</code><span class="sig-paren">(</span><em>doc_term_matrix</em>, <em>type_='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/matrix_utils.html#get_doc_lengths"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.matrix_utils.get_doc_lengths" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the lengths (i.e. number of terms) for all documents in a
document-term matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_term_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – M x N sparse matrix,
where M is the # of docs, N is the # of unique terms, and values are
the absolute counts of term n per doc m.</li>
<li><strong>type</strong> (<em>{'linear'</em><em>, </em><em>'sqrt'</em><em>, </em><em>'log'}</em>) – Scaling applied to absolute doc lengths.
If ‘linear’, lengths are left as-is, since the sums are already
linear; if ‘sqrt’, dl =&gt; sqrt(dl); if ‘log’, dl =&gt; log(dl) + 1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of document lengths, with length equal to
the # of documents (# of rows) in <code class="docutils literal notranslate"><span class="pre">doc_term_matrix</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">type_</span></code> isn’t one of {“linear”, “sqrt”, “log”}.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.vsm.matrix_utils.get_information_content">
<code class="descclassname">textacy.vsm.matrix_utils.</code><code class="descname">get_information_content</code><span class="sig-paren">(</span><em>doc_term_matrix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/matrix_utils.html#get_information_content"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.matrix_utils.get_information_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute information content for all terms in a document-term matrix. IC is a
float in [0.0, 1.0], defined as <code class="docutils literal notranslate"><span class="pre">-df</span> <span class="pre">*</span> <span class="pre">log2(df)</span> <span class="pre">-</span> <span class="pre">(1</span> <span class="pre">-</span> <span class="pre">df)</span> <span class="pre">*</span> <span class="pre">log2(1</span> <span class="pre">-</span> <span class="pre">df)</span></code>,
where df is a term’s normalized document frequency.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>doc_term_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – <p>M x N sparse matrix,
where M is the # of docs and N is the # of unique terms.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Weighting on the terms doesn’t matter! Could be binary or
tf or tfidf, a term’s information content will be the same.</p>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Array of term information content values, with
length equal to the # of unique terms (# of columns) in <code class="docutils literal notranslate"><span class="pre">doc_term_matrix</span></code>.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">doc_term_matrix</span></code> doesn’t have any non-zero entries.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.vsm.matrix_utils.get_inverse_doc_freqs">
<code class="descclassname">textacy.vsm.matrix_utils.</code><code class="descname">get_inverse_doc_freqs</code><span class="sig-paren">(</span><em>doc_term_matrix</em>, <em>type_='smooth'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/matrix_utils.html#get_inverse_doc_freqs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.matrix_utils.get_inverse_doc_freqs" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute inverse document frequencies for all terms in a document-term matrix,
optionally smoothing the values, where idf = log(n_docs / dfs) + 1.0 .</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_term_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – M x N sparse matrix,
where M is the # of docs and N is the # of unique terms.
The particular weighting of matrix values doesn’t matter.</li>
<li><strong>type</strong> (<em>{'standard'</em><em>, </em><em>'smooth'</em><em>, </em><em>'bm25'}</em>) – Type of IDF formulation to use.
If ‘standard’, idfs =&gt; log(n_docs / dfs) + 1.0;
if ‘smooth’, idfs =&gt; log(n_docs + 1 / dfs + 1) + 1.0, i.e. 1 is added
to all document frequencies, equivalent to adding a single document
to the corpus containing every unique term;
if ‘bm25’, idfs =&gt; log((n_docs - dfs + 0.5) / (dfs + 0.5)), which is
a form commonly used in BM25 ranking that allows for extremely common
terms to have negative idf weights.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of inverse document frequencies, with length
equal to the # of unique terms (# of columns) in <code class="docutils literal notranslate"><span class="pre">doc_term_matrix</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">type_</span></code> isn’t one of {“standard”, “smooth”, “bm25”}.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.vsm.matrix_utils.get_term_freqs">
<code class="descclassname">textacy.vsm.matrix_utils.</code><code class="descname">get_term_freqs</code><span class="sig-paren">(</span><em>doc_term_matrix</em>, <em>type_='linear'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/vsm/matrix_utils.html#get_term_freqs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.vsm.matrix_utils.get_term_freqs" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute frequencies for all terms in a document-term matrix, with optional
sub-linear scaling.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_term_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – M x N sparse matrix,
where M is the # of docs and N is the # of unique terms. Values must be
the linear, un-scaled counts of term n per doc m.</li>
<li><strong>type</strong> (<em>{'linear'</em><em>, </em><em>'sqrt'</em><em>, </em><em>'log'}</em>) – Scaling applied to absolute term counts.
If ‘linear’, term counts are left as-is, since the sums are already
linear; if ‘sqrt’, tf =&gt; sqrt(tf); if ‘log’, tf =&gt; log(tf) + 1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of term frequencies, with length equal to
the # of unique terms (# of columns) in <code class="docutils literal notranslate"><span class="pre">doc_term_matrix</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">doc_term_matrix</span></code> doesn’t have any non-zero entries, or
if <code class="docutils literal notranslate"><span class="pre">type_</span></code> isn’t one of {“linear”, “sqrt”, “log”}.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<span class="target" id="module-textacy.tm.topic_model"></span><div class="section" id="topic-models">
<h3>Topic Models<a class="headerlink" href="#topic-models" title="Permalink to this headline">¶</a></h3>
<p>Convenient and consolidated topic-modeling, built on <code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code>.</p>
<dl class="class">
<dt id="textacy.tm.topic_model.TopicModel">
<em class="property">class </em><code class="descclassname">textacy.tm.topic_model.</code><code class="descname">TopicModel</code><span class="sig-paren">(</span><em>model</em>, <em>n_topics=10</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/tm/topic_model.html#TopicModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.tm.topic_model.TopicModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Train and apply a topic model to vectorized texts using scikit-learn’s
implementations of LSA, LDA, and NMF models. Inspect and visualize results.
Save and load trained models to and from disk.</p>
<p>Prepare a vectorized corpus (i.e. document-term matrix) and corresponding
vocabulary (i.e. mapping of term strings to column indices in the matrix).
See <code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.vsm.Vectorizer</span></code> for details. In short:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vectorizer</span> <span class="o">=</span> <span class="n">Vectorizer</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">tf_type</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">apply_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">idf_type</span><span class="o">=</span><span class="s1">&#39;smooth&#39;</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;l2&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">min_df</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">max_n_terms</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc_term_matrix</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">terms_list</span><span class="p">)</span>
</pre></div>
</div>
<p>Initialize and train a topic model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">TopicModel</span><span class="p">(</span><span class="s1">&#39;nmf&#39;</span><span class="p">,</span> <span class="n">n_topics</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">doc_term_matrix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">model</span>
<span class="go">TopicModel(n_topics=10, model=NMF)</span>
</pre></div>
</div>
<p>Transform the corpus and interpret our model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">doc_topic_matrix</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">doc_term_matrix</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">topic_idx</span><span class="p">,</span> <span class="n">top_terms</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">top_topic_terms</span><span class="p">(</span><span class="n">vectorizer</span><span class="o">.</span><span class="n">id_to_term</span><span class="p">,</span> <span class="n">topics</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;topic&#39;</span><span class="p">,</span> <span class="n">topic_idx</span><span class="p">,</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39;   &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">top_terms</span><span class="p">))</span>
<span class="go">topic 0 : people   american   go   year   work   think   $   today   money   america</span>
<span class="go">topic 1 : rescind   quorum   order   unanimous   consent   ask   president   mr.   madam   absence</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">topic_idx</span><span class="p">,</span> <span class="n">top_docs</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">top_topic_docs</span><span class="p">(</span><span class="n">doc_topic_matrix</span><span class="p">,</span> <span class="n">topics</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">topic_idx</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">top_docs</span><span class="p">:</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">corpus</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])</span>
<span class="go">0</span>
<span class="go">THE MOST IMPORTANT ISSUES FACING THE AMERICAN PEOPLE</span>
<span class="go">55TH ANNIVERSARY OF THE BATTLE OF CRETE</span>
<span class="go">1</span>
<span class="go">CHEMICAL WEAPONS CONVENTION</span>
<span class="go">MFN STATUS FOR CHINA</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">doc_idx</span><span class="p">,</span> <span class="n">topics</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">top_doc_topics</span><span class="p">(</span><span class="n">doc_topic_matrix</span><span class="p">,</span> <span class="n">docs</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">2</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">corpus</span><span class="p">[</span><span class="n">doc_idx</span><span class="p">]</span><span class="o">.</span><span class="n">metadata</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">],</span> <span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">topics</span><span class="p">)</span>
<span class="go">JOIN THE SENATE AND PASS A CONTINUING RESOLUTION : (9, 0)</span>
<span class="go">MEETING THE CHALLENGE : (2, 0)</span>
<span class="go">DISPOSING OF SENATE AMENDMENT TO H.R. 1643, EXTENSION OF MOST-FAVORED- NATION TREATMENT FOR BULGARIA : (0, 9)</span>
<span class="go">EXAMINING THE SPEAKER&#39;S UPCOMING TRAVEL SCHEDULE : (0, 9)</span>
<span class="go">FLOODING IN PENNSYLVANIA : (0, 9)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">topic_weights</span><span class="p">(</span><span class="n">doc_topic_matrix</span><span class="p">)):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">val</span><span class="p">)</span>
<span class="go">0 0.302796022302</span>
<span class="go">1 0.0635617650602</span>
<span class="go">2 0.0744927472417</span>
<span class="go">3 0.0905778808867</span>
<span class="go">4 0.0521162262192</span>
<span class="go">5 0.0656303769725</span>
<span class="go">6 0.0973516532757</span>
<span class="go">7 0.112907245542</span>
<span class="go">8 0.0680659204364</span>
<span class="go">9 0.0725001620636</span>
</pre></div>
</div>
<p>Visualize the model:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">termite_plot</span><span class="p">(</span><span class="n">doc_term_matrix</span><span class="p">,</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">id_to_term</span><span class="p">,</span>
<span class="gp">... </span>                   <span class="n">topics</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span>  <span class="n">n_terms</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">sort_terms_by</span><span class="o">=</span><span class="s1">&#39;seriation&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Persist our topic model to disk:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">model</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;nmf-10topics.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model</strong> ({‘nmf’, ‘lda’, ‘lsa’} or <code class="docutils literal notranslate"><span class="pre">sklearn.decomposition.&lt;model&gt;</span></code>) – </li>
<li><strong>n_topics</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – number of topics in the model to be initialized</li>
<li><strong>**kwargs</strong> – variety of parameters used to initialize the model; see individual
sklearn pages for full details</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">model</span></code> not in <code class="docutils literal notranslate"><span class="pre">{'nmf',</span> <span class="pre">'lda',</span> <span class="pre">'lsa'}</span></code> or is not an
NMF, LatentDirichletAllocation, or TruncatedSVD instance</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html">http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.NMF.html</a></li>
<li><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.LatentDirichletAllocation.html">http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.LatentDirichletAllocation.html</a></li>
<li><a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.TruncatedSVD.html">http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.TruncatedSVD.html</a></li>
</ul>
</div>
<dl class="method">
<dt id="textacy.tm.topic_model.TopicModel.get_doc_topic_matrix">
<code class="descname">get_doc_topic_matrix</code><span class="sig-paren">(</span><em>doc_term_matrix</em>, <em>normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/tm/topic_model.html#TopicModel.get_doc_topic_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.tm.topic_model.TopicModel.get_doc_topic_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a document-term matrix into a document-topic matrix, where rows
correspond to documents and columns to the topics in the topic model.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_term_matrix</strong> (<em>array-like</em><em> or </em><em>sparse matrix</em>) – Corpus represented as a
document-term matrix with shape (n_docs, n_terms). LDA expects
tf-weighting, while NMF and LSA may do better with tfidf-weighting.</li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, the values in each row are normalized,
i.e. topic weights on each document sum to 1</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Document-topic matrix with shape (n_docs, n_topics).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.tm.topic_model.TopicModel.termite_plot">
<code class="descname">termite_plot</code><span class="sig-paren">(</span><em>doc_term_matrix</em>, <em>id2term</em>, <em>topics=-1</em>, <em>sort_topics_by='index'</em>, <em>highlight_topics=None</em>, <em>n_terms=25</em>, <em>rank_terms_by='topic_weight'</em>, <em>sort_terms_by='seriation'</em>, <em>save=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/tm/topic_model.html#TopicModel.termite_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.tm.topic_model.TopicModel.termite_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a “termite” plot for assessing topic models using a tabular layout
to promote comparison of terms both within and across topics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_term_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a> or sparse matrix) – corpus
represented as a document-term matrix with shape (n_docs, n_terms);
may have tf- or tfidf-weighting</li>
<li><strong>id2term</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>] or </em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – object that returns the term string corresponding
to term id <code class="docutils literal notranslate"><span class="pre">i</span></code> through <code class="docutils literal notranslate"><span class="pre">id2term[i]</span></code>; could be a list of strings
where the index represents the term id, such as that returned by
<code class="docutils literal notranslate"><span class="pre">sklearn.feature_extraction.text.CountVectorizer.get_feature_names()</span></code>,
or a mapping of term id: term string</li>
<li><strong>topics</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – topic(s) to include in termite plot;
if -1, all topics are included</li>
<li><strong>sort_topics_by</strong> (<em>{'index'</em><em>, </em><em>'weight'}</em>) – </li>
<li><strong>highlight_topics</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – indices for up to 6 topics
to visually highlight in the plot with contrasting colors</li>
<li><strong>n_terms</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – number of top terms to include in termite plot</li>
<li><strong>rank_terms_by</strong> (<em>{'topic_weight'</em><em>, </em><em>'corpus_weight'}</em>) – value used
to rank terms; the top-ranked <code class="docutils literal notranslate"><span class="pre">n_terms</span></code> are included in the plot</li>
<li><strong>sort_terms_by</strong> (<em>{'seriation'</em><em>, </em><em>'weight'</em><em>, </em><em>'index'</em><em>, </em><em>'alphabetical'}</em>) – method used to vertically sort the selected top <code class="docutils literal notranslate"><span class="pre">n_terms</span></code> terms;
the default (“seriation”) groups similar terms together, which
facilitates cross-topic assessment</li>
<li><strong>save</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – give the full /path/to/fname on disk to save figure</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Axis on which termite plot is plotted.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.axis</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if more than 6 topics are selected for highlighting, or
an invalid value is passed for the sort_topics_by, rank_terms_by,
and/or sort_terms_by params</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<ul class="simple">
<li>Chuang, Jason, Christopher D. Manning, and Jeffrey Heer. “Termite:
Visualization techniques for assessing textual topic models.”
Proceedings of the International Working Conference on Advanced
Visual Interfaces. ACM, 2012.</li>
<li>for sorting by “seriation”, see <a class="reference external" href="https://arxiv.org/abs/1406.5370">https://arxiv.org/abs/1406.5370</a></li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-func docutils literal notranslate"><span class="pre">viz.termite_plot</span></code></p>
</div>
<p>TODO: <cite>rank_terms_by</cite> other metrics, e.g. topic salience or relevance</p>
</dd></dl>

<dl class="method">
<dt id="textacy.tm.topic_model.TopicModel.top_doc_topics">
<code class="descname">top_doc_topics</code><span class="sig-paren">(</span><em>doc_topic_matrix</em>, <em>docs=-1</em>, <em>top_n=3</em>, <em>weights=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/tm/topic_model.html#TopicModel.top_doc_topics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.tm.topic_model.TopicModel.top_doc_topics" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the top <code class="docutils literal notranslate"><span class="pre">top_n</span></code> topics by weight per doc for <code class="docutils literal notranslate"><span class="pre">docs</span></code> in <code class="docutils literal notranslate"><span class="pre">doc_topic_matrix</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_topic_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – document-topic matrix with shape
(n_docs, n_topics), the result of calling <a class="reference internal" href="#textacy.tm.topic_model.TopicModel.get_doc_topic_matrix" title="textacy.tm.topic_model.TopicModel.get_doc_topic_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TopicModel.get_doc_topic_matrix()</span></code></a></li>
<li><strong>docs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – docs for which to return top topics;
if -1, all docs’ top topics are returned</li>
<li><strong>top_n</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – number of top topics to return per doc</li>
<li><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, docs are returned with their corresponding
(normalized) topic weights; otherwise, docs are returned without weights</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>Tuple[int, Tuple[int]] or Tuple[int, Tuple[Tuple[int, float]]]</em> –     next tuple corresponding to a doc; the first element is the doc’s
index; if <code class="docutils literal notranslate"><span class="pre">weights</span></code> is False, the second element is a tuple of ints
representing the top <code class="docutils literal notranslate"><span class="pre">top_n</span></code> related topics; otherwise, the second
is a tuple of (int, float) pairs representing the top <code class="docutils literal notranslate"><span class="pre">top_n</span></code>
related topics and their associated weights wrt the doc; for example:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">TopicModel</span><span class="o">.</span><span class="n">top_doc_topics</span><span class="p">(</span><span class="n">dtm</span><span class="p">,</span> <span class="n">docs</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">[(0, (1, 4)), (1, (3, 2))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">TopicModel</span><span class="o">.</span><span class="n">top_doc_topics</span><span class="p">(</span><span class="n">dtm</span><span class="p">,</span> <span class="n">docs</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">[(0, ((1, 0.2855), (4, 0.2412)))]</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.tm.topic_model.TopicModel.top_topic_docs">
<code class="descname">top_topic_docs</code><span class="sig-paren">(</span><em>doc_topic_matrix</em>, <em>topics=-1</em>, <em>top_n=10</em>, <em>weights=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/tm/topic_model.html#TopicModel.top_topic_docs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.tm.topic_model.TopicModel.top_topic_docs" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the top <code class="docutils literal notranslate"><span class="pre">top_n</span></code> docs by weight per topic in <code class="docutils literal notranslate"><span class="pre">doc_topic_matrix</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc_topic_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – document-topic matrix with shape
(n_docs, n_topics), the result of calling <a class="reference internal" href="#textacy.tm.topic_model.TopicModel.get_doc_topic_matrix" title="textacy.tm.topic_model.TopicModel.get_doc_topic_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TopicModel.get_doc_topic_matrix()</span></code></a></li>
<li><strong>topics</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – topic(s) for which to return top docs;
if -1, all topics’ docs are returned</li>
<li><strong>top_n</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – number of top docs to return per topic</li>
<li><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, docs are returned with their corresponding
(normalized) topic weights; otherwise, docs are returned without weights</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>Tuple[int, Tuple[int]] or Tuple[int, Tuple[Tuple[int, float]]]</em> –     next tuple corresponding to a topic; the first element is the topic’s
index; if <code class="docutils literal notranslate"><span class="pre">weights</span></code> is False, the second element is a tuple of ints
representing the top <code class="docutils literal notranslate"><span class="pre">top_n</span></code> related docs; otherwise, the second
is a tuple of (int, float) pairs representing the top <code class="docutils literal notranslate"><span class="pre">top_n</span></code>
related docs and their associated weights wrt the topic; for example:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">TopicModel</span><span class="o">.</span><span class="n">top_doc_terms</span><span class="p">(</span><span class="n">dtm</span><span class="p">,</span> <span class="n">topics</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">[(0, (4, 2)), (1, (1, 3))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">TopicModel</span><span class="o">.</span><span class="n">top_doc_terms</span><span class="p">(</span><span class="n">dtm</span><span class="p">,</span> <span class="n">topics</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">[(0, ((4, 0.3217), (2, 0.2154)))]</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.tm.topic_model.TopicModel.top_topic_terms">
<code class="descname">top_topic_terms</code><span class="sig-paren">(</span><em>id2term</em>, <em>topics=-1</em>, <em>top_n=10</em>, <em>weights=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/tm/topic_model.html#TopicModel.top_topic_terms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.tm.topic_model.TopicModel.top_topic_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the top <code class="docutils literal notranslate"><span class="pre">top_n</span></code> terms by weight per topic in <code class="docutils literal notranslate"><span class="pre">model</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>id2term</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>(</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>) or </em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – object that returns the term string corresponding
to term id <code class="docutils literal notranslate"><span class="pre">i</span></code> through <code class="docutils literal notranslate"><span class="pre">id2term[i]</span></code>; could be a list of strings
where the index represents the term id, such as that returned by
<code class="docutils literal notranslate"><span class="pre">sklearn.feature_extraction.text.CountVectorizer.get_feature_names()</span></code>,
or a mapping of term id: term string</li>
<li><strong>topics</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em>) – topic(s) for which to return top terms;
if -1 (default), all topics’ terms are returned</li>
<li><strong>top_n</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – number of top terms to return per topic</li>
<li><strong>weights</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, terms are returned with their corresponding
topic weights; otherwise, terms are returned without weights</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>Tuple[int, Tuple[str]] or Tuple[int, Tuple[Tuple[str, float]]]</em> –     next tuple corresponding to a topic; the first element is the topic’s
index; if <code class="docutils literal notranslate"><span class="pre">weights</span></code> is False, the second element is a tuple of str
representing the top <code class="docutils literal notranslate"><span class="pre">top_n</span></code> related terms; otherwise, the second
is a tuple of (str, float) pairs representing the top <code class="docutils literal notranslate"><span class="pre">top_n</span></code>
related terms and their associated weights wrt the topic; for example:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">TopicModel</span><span class="o">.</span><span class="n">top_topic_terms</span><span class="p">(</span><span class="n">id2term</span><span class="p">,</span> <span class="n">topics</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">[(0, (&#39;foo&#39;, &#39;bar&#39;)), (1, (&#39;bat&#39;, &#39;baz&#39;))]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">TopicModel</span><span class="o">.</span><span class="n">top_topic_terms</span><span class="p">(</span><span class="n">id2term</span><span class="p">,</span> <span class="n">topics</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">[(0, ((&#39;foo&#39;, 0.1415), (&#39;bar&#39;, 0.0986)))]</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="textacy.tm.topic_model.TopicModel.topic_weights">
<code class="descname">topic_weights</code><span class="sig-paren">(</span><em>doc_topic_matrix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/tm/topic_model.html#TopicModel.topic_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.tm.topic_model.TopicModel.topic_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the overall weight of topics across an entire corpus. Note: Values depend
on whether topic weights per document in <code class="docutils literal notranslate"><span class="pre">doc_topic_matrix</span></code> were normalized,
or not. I suppose either way makes sense… o_O</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>doc_topic_matrix</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>) – document-topic matrix with shape
(n_docs, n_topics), the result of calling <a class="reference internal" href="#textacy.tm.topic_model.TopicModel.get_doc_topic_matrix" title="textacy.tm.topic_model.TopicModel.get_doc_topic_matrix"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TopicModel.get_doc_topic_matrix()</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the ith element is the ith topic’s overall weight</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-textacy.io.utils">
<span id="io"></span><h2>IO<a class="headerlink" href="#module-textacy.io.utils" title="Permalink to this headline">¶</a></h2>
<div class="section" id="utils">
<h3>Utils<a class="headerlink" href="#utils" title="Permalink to this headline">¶</a></h3>
<p>Functions to help read and write data to disk in a variety of formats.</p>
<dl class="function">
<dt id="textacy.io.utils.coerce_content_type">
<code class="descclassname">textacy.io.utils.</code><code class="descname">coerce_content_type</code><span class="sig-paren">(</span><em>content</em>, <em>file_mode</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/utils.html#coerce_content_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.coerce_content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>If the <cite>content</cite> to be written to file and the <cite>file_mode</cite> used to open it
are incompatible (either bytes with text mode or unicode with bytes mode),
try to coerce the content type so it can be written.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.get_filenames">
<code class="descclassname">textacy.io.utils.</code><code class="descname">get_filenames</code><span class="sig-paren">(</span><em>dirname</em>, <em>match_regex=None</em>, <em>ignore_regex=None</em>, <em>extension=None</em>, <em>ignore_invisible=True</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/utils.html#get_filenames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.get_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield full paths of files on disk under directory <code class="docutils literal notranslate"><span class="pre">dirname</span></code>, optionally
filtering for or against particular patterns or file extensions and
crawling all subdirectories.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dirname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to directory on disk where files are stored.</li>
<li><strong>match_regex</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Regular expression pattern. Only files whose names
match this pattern are included.</li>
<li><strong>ignore_regex</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Regular expression pattern. Only files whose names
<em>do not</em> match this pattern are included.</li>
<li><strong>extension</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – File extension, e.g. “.txt” or “.json”. Only files
whose extensions match are included.</li>
<li><strong>ignore_invisible</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, ignore invisible files, i.e.
those that begin with a period.; otherwise, include them.</li>
<li><strong>recursive</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, iterate recursively through subdirectories
in search of files to include; otherwise, only return files located
directly under <code class="docutils literal notranslate"><span class="pre">dirname</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>str</em> – Next file’s name, including the full path on disk.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#OSError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">dirname</span></code> is not found on disk</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.open_sesame">
<code class="descclassname">textacy.io.utils.</code><code class="descname">open_sesame</code><span class="sig-paren">(</span><em>filepath</em>, <em>mode='rt'</em>, <em>encoding=None</em>, <em>errors=None</em>, <em>newline=None</em>, <em>compression='infer'</em>, <em>make_dirs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/utils.html#open_sesame"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.open_sesame" title="Permalink to this definition">¶</a></dt>
<dd><p>Open file <code class="docutils literal notranslate"><span class="pre">filepath</span></code>. Automatically handle file compression, relative
paths and symlinks, and missing intermediate directory creation, as needed.</p>
<p><code class="docutils literal notranslate"><span class="pre">open_sesame</span></code> may be used as a drop-in replacement for <a class="reference external" href="https://docs.python.org/3.6/library/io.html#io.open" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">io.open()</span></code></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path on disk (absolute or relative) of the file to open.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – The mode in which <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is opened.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of the encoding used to decode or encode <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.
Only applicable in text mode.</li>
<li><strong>errors</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – String specifying how encoding/decoding errors are handled.
Only applicable in text mode.</li>
<li><strong>newline</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – String specifying how universal newlines mode works.
Only applicable in text mode.</li>
<li><strong>compression</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Type of compression, if any, with which <code class="docutils literal notranslate"><span class="pre">filepath</span></code>
is read from or written to disk. If None, no compression is used;
if ‘infer’, compression is inferrred from the extension on <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</li>
<li><strong>make_dirs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, automatically create (sub)directories if
not already present in order to write <code class="docutils literal notranslate"><span class="pre">filepath</span></code>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">file object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#TypeError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">filepath</span></code> is not a string</li>
<li><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">encoding</span></code> is specified but <code class="docutils literal notranslate"><span class="pre">mode</span></code> is binary</li>
<li><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#OSError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">OSError</span></code></a> – if <code class="docutils literal notranslate"><span class="pre">filepath</span></code> doesn’t exist but <code class="docutils literal notranslate"><span class="pre">mode</span></code> is read</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.split_record_fields">
<code class="descclassname">textacy.io.utils.</code><code class="descname">split_record_fields</code><span class="sig-paren">(</span><em>items</em>, <em>content_field</em>, <em>itemwise=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/utils.html#split_record_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.split_record_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>This functionality has been moved to <a class="reference internal" href="#textacy.io.utils.split_records" title="textacy.io.utils.split_records"><code class="xref py py-func docutils literal notranslate"><span class="pre">split_records()</span></code></a>, and this is just
a temporary alias for that other function. You should use it instead of this.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.split_records">
<code class="descclassname">textacy.io.utils.</code><code class="descname">split_records</code><span class="sig-paren">(</span><em>items</em>, <em>content_field</em>, <em>itemwise=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/utils.html#split_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.split_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Split records’ content (text) from associated metadata, but keep them paired
together for convenient loading into a <a class="reference internal" href="#textacy.doc.Doc" title="textacy.doc.Doc"><code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.Doc</span></code></a>
(with <code class="docutils literal notranslate"><span class="pre">itemwise=True</span></code>) or <a class="reference internal" href="#textacy.corpus.Corpus" title="textacy.corpus.Corpus"><code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.Corpus</span></code></a>
(with <code class="docutils literal notranslate"><span class="pre">itemwise=False</span></code>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>items</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>] or </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a><em>]</em>) – An iterable of dicts, e.g. as
read from disk by <a class="reference internal" href="#textacy.io.json.read_json" title="textacy.io.json.read_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_json(lines=True)</span></code></a>,
or an iterable of lists, e.g. as read from disk by
<a class="reference internal" href="#textacy.io.csv.read_csv" title="textacy.io.csv.read_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">read_csv()</span></code></a>.</li>
<li><strong>content_field</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – If str, key in each dict item whose value is
the item’s content (text); if int, index of the value in each list
item corresponding to the item’s content (text).</li>
<li><strong>itemwise</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, content + metadata are paired item-wise
as an iterable of (content, metadata) 2-tuples; if False, content +
metadata are paired by position in two parallel iterables in the form of
a (iterable(content), iterable(metadata)) 2-tuple.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>If <code class="docutils literal notranslate"><span class="pre">itemwise</span></code> is True and <code class="docutils literal notranslate"><span class="pre">items</span></code> is Iterable[dict];
the first element in each tuple is the item’s content,
the second element is its metadata as a dictionary.</p>
<p>Generator(Tuple[str, list]): If <code class="docutils literal notranslate"><span class="pre">itemwise</span></code> is True and <code class="docutils literal notranslate"><span class="pre">items</span></code> is Iterable[list];
the first element in each tuple is the item’s content,
the second element is its metadata as a list.</p>
<p>Tuple[Iterable[str], Iterable[dict]]: If <code class="docutils literal notranslate"><span class="pre">itemwise</span></code> is False and
<code class="docutils literal notranslate"><span class="pre">items</span></code> is Iterable[dict];
the first element of the tuple is an iterable of items’ contents,
the second is an iterable of their metadata dicts.</p>
<p>Tuple[Iterable[str], Iterable[list]]: If <code class="docutils literal notranslate"><span class="pre">itemwise</span></code> is False and
<code class="docutils literal notranslate"><span class="pre">items</span></code> is Iterable[list];
the first element of the tuple is an iterable of items’ contents,
the second is an iterable of their metadata lists.</p>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Generator(Tuple[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)">str</a>, <a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a>])</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.io.utils.unzip">
<code class="descclassname">textacy.io.utils.</code><code class="descname">unzip</code><span class="sig-paren">(</span><em>seq</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/utils.html#unzip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.utils.unzip" title="Permalink to this definition">¶</a></dt>
<dd><p>Borrowed from <code class="docutils literal notranslate"><span class="pre">toolz.sandbox.core.unzip</span></code>, but using cytoolz instead of toolz
to avoid the additional dependency.</p>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.text"></span><div class="section" id="text">
<h3>Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h3>
<p>Functions for reading from and writing to disk records in plain text format,
either as one text per file or one text per <em>line</em> in a file.</p>
<dl class="function">
<dt id="textacy.io.text.read_text">
<code class="descclassname">textacy.io.text.</code><code class="descname">read_text</code><span class="sig-paren">(</span><em>fname</em>, <em>mode='rt'</em>, <em>encoding=None</em>, <em>lines=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/text.html#read_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.text.read_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a text file at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, either all at once
or streaming line-by-line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk from which data will be read.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Mode with which <code class="docutils literal notranslate"><span class="pre">fname</span></code> is opened.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">fname</span></code>. Only applicable in text mode.</li>
<li><strong>lines</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If False, all data is read in at once; otherwise, data is
read in one line at a time.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>str</em> – Next line of text to read in.</p>
<p class="last">If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is False, wrap this output in <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#next" title="(in Python v3.6)"><code class="xref py py-func docutils literal notranslate"><span class="pre">next()</span></code></a> to conveniently
access the full text.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.io.text.write_text">
<code class="descclassname">textacy.io.text.</code><code class="descname">write_text</code><span class="sig-paren">(</span><em>data</em>, <em>fname</em>, <em>mode='wt'</em>, <em>encoding=None</em>, <em>make_dirs=False</em>, <em>lines=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/text.html#write_text"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.text.write_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Write text <code class="docutils literal notranslate"><span class="pre">data</span></code> to disk at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, either all at once
or streaming line-by-line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – <p>If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is False, a single string to
write to disk; for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;isnt rick and morty that thing you get when you die and your body gets all stiff&quot;</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is True, an iterable of strings to write to disk, one
item per line; for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="s2">&quot;isnt rick and morty that thing you get when you die and your body gets all stiff&quot;</span><span class="p">,</span>
 <span class="s2">&quot;You&#39;re thinking of rigor mortis. Rick and morty is when you get trolled into watching &quot;</span><span class="n">never</span> <span class="n">gonna</span> <span class="n">give</span> <span class="n">you</span> <span class="n">up</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
 <span class="s2">&quot;That&#39;s rickrolling. Rick and morty is a type of pasta&quot;</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk to which data will be written.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Mode with which <code class="docutils literal notranslate"><span class="pre">fname</span></code> is opened.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">fname</span></code>. Only applicable in text mode.</li>
<li><strong>make_dirs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, automatically create (sub)directories if
not already present in order to write <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</li>
<li><strong>lines</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If False, all data is written at once; otherwise, data is
written to disk one line at a time.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.json"></span><div class="section" id="json">
<h3>JSON<a class="headerlink" href="#json" title="Permalink to this headline">¶</a></h3>
<p>Functions for reading from and writing to disk records in JSON format,
as one record per file or one record per <em>line</em> in a file.</p>
<dl class="class">
<dt id="textacy.io.json.ExtendedJSONEncoder">
<em class="property">class </em><code class="descclassname">textacy.io.json.</code><code class="descname">ExtendedJSONEncoder</code><span class="sig-paren">(</span><em>*</em>, <em>skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>sort_keys=False</em>, <em>indent=None</em>, <em>separators=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/json.html#ExtendedJSONEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.ExtendedJSONEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Sub-class of <a class="reference external" href="https://docs.python.org/3.6/library/json.html#json.JSONEncoder" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">json.JSONEncoder</span></code></a>, used to write JSON data to disk in
<a class="reference internal" href="#textacy.io.json.write_json" title="textacy.io.json.write_json"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_json()</span></code></a> while handling a broader range of Python objects.</p>
<ul class="simple">
<li><a class="reference external" href="https://docs.python.org/3.6/library/datetime.html#datetime.datetime" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.datetime</span></code></a> =&gt; ISO-formatted string</li>
<li><a class="reference external" href="https://docs.python.org/3.6/library/datetime.html#datetime.date" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.date</span></code></a> =&gt; ISO-formatted string</li>
</ul>
<dl class="method">
<dt id="textacy.io.json.ExtendedJSONEncoder.default">
<code class="descname">default</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/json.html#ExtendedJSONEncoder.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.ExtendedJSONEncoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="textacy.io.json.read_json">
<code class="descclassname">textacy.io.json.</code><code class="descname">read_json</code><span class="sig-paren">(</span><em>fname</em>, <em>mode='rt'</em>, <em>encoding=None</em>, <em>lines=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/json.html#read_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.read_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a JSON file at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, either all at once
or streaming item-by-item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk from which data will be read.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Mode with which <code class="docutils literal notranslate"><span class="pre">fname</span></code> is opened.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">fname</span></code>. Only applicable in text mode.</li>
<li><strong>lines</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If False or ‘’, all data is read in at once; if True,
items are read in one line at a time; if ‘item’, each item in the
top-level array is read in one at a time. Individual fields can also
be accessed; for example, if ‘item.text’, each array item’s ‘text’
value is read in one at a time.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>object</em> – Next matching JSON item; could be a dict, list, int, float, str,
depending on the value of <code class="docutils literal notranslate"><span class="pre">lines</span></code>.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Refer to the <code class="docutils literal notranslate"><span class="pre">ijson</span></code> docs at <a class="reference external" href="https://pypi.python.org/pypi/ijson/">https://pypi.python.org/pypi/ijson/</a>
for usage details on specifying (sub-)items via <code class="docutils literal notranslate"><span class="pre">lines</span></code> as a string.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.io.json.read_json_mash">
<code class="descclassname">textacy.io.json.</code><code class="descname">read_json_mash</code><span class="sig-paren">(</span><em>fname</em>, <em>mode='rt'</em>, <em>encoding=None</em>, <em>buffer_size=2048</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/json.html#read_json_mash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.read_json_mash" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a JSON file at <code class="docutils literal notranslate"><span class="pre">fname</span></code> one item at a time,
where all of the items have been mashed together, end-to-end, on a single line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk to which data will be written.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Mode with which <code class="docutils literal notranslate"><span class="pre">fname</span></code> is opened.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">fname</span></code>. Only applicable in text mode.</li>
<li><strong>buffer_size</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Number of bytes to read in as a chunk.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>object</em> – Next valid JSON object, converted to native Python equivalent.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Storing JSON data in this format is Not Good. Reading it is doable, so
this function is included for users’ convenience, but note that
there is no analogous <code class="docutils literal notranslate"><span class="pre">write_json_mash()</span></code> function. Don’t do it.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.io.json.write_json">
<code class="descclassname">textacy.io.json.</code><code class="descname">write_json</code><span class="sig-paren">(</span><em>data</em>, <em>fname</em>, <em>mode='wt'</em>, <em>encoding=None</em>, <em>make_dirs=False</em>, <em>lines=False</em>, <em>ensure_ascii=False</em>, <em>separators=('</em>, <em>'</em>, <em>':')</em>, <em>sort_keys=False</em>, <em>indent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/json.html#write_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.json.write_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Write JSON <code class="docutils literal notranslate"><span class="pre">data</span></code> to disk at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, either all at once
or streaming item-by-item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>JSON</em>) – <p>JSON data to write to disk, including any Python objects
encodable by default in <a class="reference external" href="https://docs.python.org/3.6/library/json.html#module-json" title="(in Python v3.6)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a>, as well as dates and datetimes.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Harrison Bergeron&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;The year was 2081, and everybody was finally equal.&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;2BR02B&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Everything was perfectly swell.&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Slaughterhouse-Five&quot;</span><span class="p">,</span> <span class="s2">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;All this happened, more or less.&quot;</span><span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is False, all of <code class="docutils literal notranslate"><span class="pre">data</span></code> is written as a single object;
if True, each item is written to a separate line in <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</p>
</li>
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk to which data will be written.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Mode with which <code class="docutils literal notranslate"><span class="pre">fname</span></code> is opened.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">fname</span></code>. Only applicable in text mode.</li>
<li><strong>make_dirs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, automatically create (sub)directories if
not already present in order to write <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</li>
<li><strong>lines</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If False, all data is written at once; otherwise, data is
written to disk one item at a time.</li>
<li><strong>ensure_ascii</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, all non-ASCII characters are escaped;
otherwise, non-ASCII characters are output as-is.</li>
<li><strong>separators</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – An (item_separator, key_separator) pair
specifying how items and keys are separated in output.</li>
<li><strong>sort_keys</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, each output dictionary is sorted by key;
otherwise, dictionary ordering is taken as-is.</li>
<li><strong>indent</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – If a non-negative integer or string, items are
pretty-printed with the specified indent level; if 0, negative, or “”,
items are separated by newlines; if None, the most compact representation
is used when storing <code class="docutils literal notranslate"><span class="pre">data</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.python.org/3/library/json.html#json.dump">https://docs.python.org/3/library/json.html#json.dump</a></p>
</div>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.csv"></span><div class="section" id="csv">
<h3>CSV<a class="headerlink" href="#csv" title="Permalink to this headline">¶</a></h3>
<p>Functions for reading from and writing to disk records in CSV format, where
CSVs may be delimited not only by commas (the default) but tabs, pipes, and
other valid one-char delimiters.</p>
<dl class="function">
<dt id="textacy.io.csv.read_csv">
<code class="descclassname">textacy.io.csv.</code><code class="descname">read_csv</code><span class="sig-paren">(</span><em>fname</em>, <em>encoding=None</em>, <em>fieldnames=None</em>, <em>dialect='excel'</em>, <em>delimiter='</em>, <em>'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/csv.html#read_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.csv.read_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a CSV file at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, streaming line-by-line,
where each line is a list of strings and/or floats whose values
are separated by <code class="docutils literal notranslate"><span class="pre">delimiter</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk from which data will be read.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</li>
<li><strong>fieldnames</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>] or </em><em>'infer'</em>) – If specified, gives names for columns
of values, which are used as keys in an ordered dictionary representation
of each line’s data. If ‘infer’, the first kB of data is analyzed
to make a guess about whether the first row is a header of column
names, and if so, those names are used as keys. If None, no column
names are used, and each line is returned as a list of strings/floats.</li>
<li><strong>dialect</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Grouping of formatting parameters that determine how
the data is parsed when reading/writing. If ‘infer’, the first kB
of data is analyzed to get a best guess for the correct dialect.</li>
<li><strong>delimiter</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – 1-character string used to separate fields in a row.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first"><em>List[obj]</em> – Next row, whose elements are strings and/or floats.
If <code class="docutils literal notranslate"><span class="pre">fieldnames</span></code> is None or ‘infer’ doesn’t detect a header row.</p>
<p><em>or</em></p>
<p class="last">Dict[str, obj]: Next row, as an ordered dictionary of (key, value) pairs,
where keys are column names and values are the corresponding strings
and/or floats. If <code class="docutils literal notranslate"><span class="pre">fieldnames</span></code> is a list of column names or ‘infer’
detects a header row.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.reader">https://docs.python.org/3/library/csv.html#csv.reader</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.io.csv.write_csv">
<code class="descclassname">textacy.io.csv.</code><code class="descname">write_csv</code><span class="sig-paren">(</span><em>data</em>, <em>fname</em>, <em>encoding=None</em>, <em>make_dirs=False</em>, <em>fieldnames=None</em>, <em>dialect='excel'</em>, <em>delimiter='</em>, <em>'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/csv.html#write_csv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.csv.write_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Write rows of <code class="docutils literal notranslate"><span class="pre">data</span></code> to disk at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, where each row is an iterable
or a dictionary of strings and/or numbers, written to one line with values
separated by <code class="docutils literal notranslate"><span class="pre">delimiter</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<em>Iterable</em><em>[</em><em>Iterable</em><em>] or </em><em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a><em>]</em>) – <p>If <code class="docutils literal notranslate"><span class="pre">fieldnames</span></code> is None,
an iterable of iterables of strings and/or numbers to write to disk;
for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[[</span><span class="s1">&#39;That was a great movie!&#39;</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;The movie was okay, I guess.&#39;</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span>
 <span class="p">[</span><span class="s1">&#39;Worst. Movie. Ever.&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">]]</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">fieldnames</span></code> is specified, an iterable of dictionaries with
string and/or number values to write to disk; for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;That was a great movie!&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;The movie was okay, I guess.&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">},</span>
 <span class="p">{</span><span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="s1">&#39;Worst. Movie. Ever.&#39;</span><span class="p">,</span> <span class="s1">&#39;score&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">}]</span>
</pre></div>
</div>
</li>
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk to which data will be written.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</li>
<li><strong>make_dirs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, automatically create (sub)directories if
not already present in order to write <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</li>
<li><strong>fieldnames</strong> (<em>List</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – <p>Sequence of keys that identify the order in which
values in each rows’ dictionary is written to <code class="docutils literal notranslate"><span class="pre">fname</span></code>. These are
included in <code class="docutils literal notranslate"><span class="pre">fname</span></code> as a header row of column names.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Only specify this if <code class="docutils literal notranslate"><span class="pre">data</span></code> is an iterable of dictionaries.</p>
</div>
</li>
<li><strong>dialect</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Grouping of formatting parameters that determine how
the data is parsed when reading/writing.</li>
<li><strong>delimiter</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – 1-character string used to separate fields in a row.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.python.org/3/library/csv.html#csv.writer">https://docs.python.org/3/library/csv.html#csv.writer</a></p>
</div>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.matrix"></span><div class="section" id="matrix">
<h3>Matrix<a class="headerlink" href="#matrix" title="Permalink to this headline">¶</a></h3>
<p>Functions for reading from and writing to disk CSC and CSR sparse matrices
in numpy binary format.</p>
<dl class="function">
<dt id="textacy.io.matrix.read_sparse_matrix">
<code class="descclassname">textacy.io.matrix.</code><code class="descname">read_sparse_matrix</code><span class="sig-paren">(</span><em>fname</em>, <em>kind='csc'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/matrix.html#read_sparse_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.matrix.read_sparse_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the data, indices, indptr, and shape arrays from a <code class="docutils literal notranslate"><span class="pre">.npz</span></code> file on disk
at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, and return an instantiated sparse matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk from which data will be read.</li>
<li><strong>kind</strong> (<em>{'csc'</em><em>, </em><em>'csr'}</em>) – Kind of sparse matrix to instantiate.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An instantiated sparse matrix, depending on the value of <code class="docutils literal notranslate"><span class="pre">kind</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csc_matrix.html#scipy.sparse.csc_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csc_matrix</span></code></a> or <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.io.html#numpy-binary-files-npy-npz">https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.io.html#numpy-binary-files-npy-npz</a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.io.matrix.write_sparse_matrix">
<code class="descclassname">textacy.io.matrix.</code><code class="descname">write_sparse_matrix</code><span class="sig-paren">(</span><em>data</em>, <em>fname</em>, <em>compressed=True</em>, <em>make_dirs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/matrix.html#write_sparse_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.matrix.write_sparse_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Write sparse matrix <code class="docutils literal notranslate"><span class="pre">data</span></code> to disk at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, optionally compressed,
into a single <code class="docutils literal notranslate"><span class="pre">.npz</span></code> file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csc_matrix.html#scipy.sparse.csc_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csc_matrix</span></code></a> or <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.sparse.csr_matrix.html#scipy.sparse.csr_matrix" title="(in SciPy v1.0.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.sparse.csr_matrix</span></code></a>) – </li>
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk to which data will be written.
If <code class="docutils literal notranslate"><span class="pre">fname</span></code> does not end in <code class="docutils literal notranslate"><span class="pre">.npz</span></code>, that extension is
automatically appended to the name.</li>
<li><strong>compressed</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, save arrays into a single file in compressed
numpy binary format.</li>
<li><strong>make_dirs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, automatically create (sub)directories if
not already present in order to write <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.io.html#numpy-binary-files-npy-npz">https://docs.scipy.org/doc/numpy-1.13.0/reference/routines.io.html#numpy-binary-files-npy-npz</a></p>
</div>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.spacy"></span><div class="section" id="id8">
<h3>spaCy<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>Functions for reading from and writing to disk spacy documents in pickle format.</p>
<dl class="function">
<dt id="textacy.io.spacy.read_spacy_docs">
<code class="descclassname">textacy.io.spacy.</code><code class="descname">read_spacy_docs</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/spacy.html#read_spacy_docs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.spacy.read_spacy_docs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the contents of a pickle file at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, all at once but then
streaming docs one at a time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk from which data will be read.</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code> – Next deserialized document.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The docs are pickled together, as a list, so they are all loaded into
memory when reading from disk. Mind your RAM usage!</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.io.spacy.write_spacy_docs">
<code class="descclassname">textacy.io.spacy.</code><code class="descname">write_spacy_docs</code><span class="sig-paren">(</span><em>data</em>, <em>fname</em>, <em>make_dirs=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/spacy.html#write_spacy_docs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.spacy.write_spacy_docs" title="Permalink to this definition">¶</a></dt>
<dd><p>Write one or more <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code> s to disk at <code class="docutils literal notranslate"><span class="pre">fname</span></code>, using pickle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data</strong> (<code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code> or Iterable[<code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>]) – A single <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>
or a sequence of <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code> s to write to disk.</li>
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk to which data will be written.</li>
<li><strong>make_dirs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, automatically create (sub)directories if
not already present in order to write <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The docs are pickled together, as a list, so they are all loaded
into memory when writing to disk. Mind your RAM usage!</p>
</div>
</dd></dl>

</div>
<span class="target" id="module-textacy.io.http"></span><div class="section" id="http">
<h3>HTTP<a class="headerlink" href="#http" title="Permalink to this headline">¶</a></h3>
<p>Functions for reading data from URLs via streaming HTTP requests and either
reading it into memory or writing it directly to disk.</p>
<dl class="function">
<dt id="textacy.io.http.read_http_stream">
<code class="descclassname">textacy.io.http.</code><code class="descname">read_http_stream</code><span class="sig-paren">(</span><em>url</em>, <em>lines=False</em>, <em>decode_unicode=False</em>, <em>chunk_size=1024</em>, <em>auth=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/http.html#read_http_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.http.read_http_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from <code class="docutils literal notranslate"><span class="pre">url</span></code> in a stream, either all at once or line-by-line.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – URL to which a GET request is made for data.</li>
<li><strong>lines</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If False, yield all of the data at once; otherwise, yield
data line-by-line.</li>
<li><strong>decode_unicode</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, yield data as unicode, where the encoding
is taken from the HTTP response headers; otherwise, yield bytes.</li>
<li><strong>chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Number of bytes read into memory per chunk. Because
decoding may occur, this is not necessarily the length of each chunk.</li>
<li><strong>auth</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – <p>(username, password) pair for simple HTTP
authentication required (if at all) to access the data at <code class="docutils literal notranslate"><span class="pre">url</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://docs.python-requests.org/en/master/user/authentication/">http://docs.python-requests.org/en/master/user/authentication/</a></p>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><p class="first last"><em>str or bytes</em> – If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is True, the next line in the response data,
which is bytes if <code class="docutils literal notranslate"><span class="pre">decode_unicode</span></code> is False or unicode otherwise.
If <code class="docutils literal notranslate"><span class="pre">lines</span></code> is False, yields the full response content, either as bytes
or unicode.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.io.http.write_http_stream">
<code class="descclassname">textacy.io.http.</code><code class="descname">write_http_stream</code><span class="sig-paren">(</span><em>url</em>, <em>fname</em>, <em>mode='wt'</em>, <em>encoding=None</em>, <em>make_dirs=False</em>, <em>chunk_size=1024</em>, <em>auth=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/io/http.html#write_http_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.io.http.write_http_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Download data from <code class="docutils literal notranslate"><span class="pre">url</span></code> in a stream, and write successive chunks
to disk at <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – URL to which a GET request is made for data.</li>
<li><strong>fname</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to file on disk to which data will be written.</li>
<li><strong>mode</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Mode with which <code class="docutils literal notranslate"><span class="pre">fname</span></code> is opened.</li>
<li><strong>encoding</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – <p>Name of the encoding used to decode or encode the data
in <code class="docutils literal notranslate"><span class="pre">fname</span></code>. Only applicable in text mode.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The encoding on the HTTP response is inferred from its
headers, or set to ‘utf-8’ as a fall-back in the case that no
encoding is detected. It is <em>not</em> set by <code class="docutils literal notranslate"><span class="pre">encoding</span></code>.</p>
</div>
</li>
<li><strong>make_dirs</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, automatically create (sub)directories if
not already present in order to write <code class="docutils literal notranslate"><span class="pre">fname</span></code>.</li>
<li><strong>chunk_size</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Number of bytes read into memory per chunk. Because
decoding may occur, this is not necessarily the length of each chunk.</li>
<li><strong>auth</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – <p>(username, password) pair for simple HTTP
authentication required (if at all) to access the data at <code class="docutils literal notranslate"><span class="pre">url</span></code>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://docs.python-requests.org/en/master/user/authentication/">http://docs.python-requests.org/en/master/user/authentication/</a></p>
</div>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-textacy.viz.termite">
<span id="visualization"></span><h2>Visualization<a class="headerlink" href="#module-textacy.viz.termite" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="textacy.viz.termite.draw_termite_plot">
<code class="descclassname">textacy.viz.termite.</code><code class="descname">draw_termite_plot</code><span class="sig-paren">(</span><em>values_mat</em>, <em>col_labels</em>, <em>row_labels</em>, <em>highlight_cols=None</em>, <em>highlight_colors=None</em>, <em>save=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/viz/termite.html#draw_termite_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.viz.termite.draw_termite_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a “termite” plot, typically used for assessing topic models with a tabular
layout that promotes comparison of terms both within and across topics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>values_mat</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">np.ndarray</span></code> or matrix) – matrix of values with shape
(# row labels, # col labels) used to size the dots on the grid</li>
<li><strong>col_labels</strong> (<em>seq</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – labels used to identify x-axis ticks on the grid</li>
<li><strong>row_labels</strong> (<em>seq</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – labels used to identify y-axis ticks on the grid</li>
<li><strong>highlight_cols</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em> or </em><em>seq</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – indices for columns
to visually highlight in the plot with contrasting colors</li>
<li><strong>highlight_colors</strong> (<em>tuple of 2-tuples</em>) – each 2-tuple corresponds to a pair
of (light/dark) matplotlib-friendly colors used to highlight a single
column; if not specified (default), a good set of 6 pairs are used</li>
<li><strong>save</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>, </em><em>optional</em>) – give the full /path/to/fname on disk to save figure</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Axis on which termite plot is plotted.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.axis.html#matplotlib.axes.Axes.axis" title="(in Matplotlib v2.2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.axis</span></code></a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if more columns are selected for highlighting than colors
or if any of the inputs’ dimensions don’t match</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>Chuang, Jason, Christopher D. Manning, and Jeffrey Heer. “Termite:
Visualization techniques for assessing textual topic models.”
Proceedings of the International Working Conference on Advanced
Visual Interfaces. ACM, 2012.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.tm.topic_model.TopicModel.termite_plot" title="textacy.tm.topic_model.TopicModel.termite_plot"><code class="xref py py-meth docutils literal notranslate"><span class="pre">TopicModel.termite_plot()</span></code></a></p>
</div>
</dd></dl>

<span class="target" id="module-textacy.viz.network"></span><dl class="function">
<dt id="textacy.viz.network.draw_semantic_network">
<code class="descclassname">textacy.viz.network.</code><code class="descname">draw_semantic_network</code><span class="sig-paren">(</span><em>graph</em>, <em>node_weights=None</em>, <em>spread=3.0</em>, <em>draw_nodes=False</em>, <em>base_node_size=300</em>, <em>node_alpha=0.25</em>, <em>line_width=0.5</em>, <em>line_alpha=0.1</em>, <em>base_font_size=12</em>, <em>save=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/viz/network.html#draw_semantic_network"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.viz.network.draw_semantic_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw a semantic network with nodes representing either terms or sentences,
edges representing coocurrence or similarity, and positions given by a force-
directed layout.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>graph</strong> (<code class="docutils literal notranslate"><span class="pre">networkx.Graph</span></code>) – </li>
<li><strong>node_weights</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)"><em>dict</em></a>) – mapping of node: weight, used to size node labels
(and, optionally, node circles) according to their weight</li>
<li><strong>spread</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – number that drives the spread of the network; higher
values give more spread-out networks</li>
<li><strong>draw_nodes</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, circles are drawn under the node labels</li>
<li><strong>base_node_size</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – if <cite>node_weights</cite> not given and <cite>draw_nodes</cite> is True,
this is the size of all nodes in the network; if <cite>node_weights</cite> _is_
given, node sizes will be scaled against this value based on their
weights compared to the max weight</li>
<li><strong>node_alpha</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – alpha of the circular nodes drawn behind labels if
<cite>draw_nodes</cite> is True</li>
<li><strong>line_width</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – width of the lines (edges) drawn between nodes</li>
<li><strong>line_alpha</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – alpha of the lines (edges) drawn between nodes</li>
<li><strong>base_font_size</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – if <cite>node_weights</cite> not given, this is the font size
used to draw all labels; otherwise, font sizes will be scaled against
this value based on the corresponding node weights compared to the max</li>
<li><strong>save</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – give the full /path/to/fname on disk to save figure (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Axis on which network plot is drawn.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://matplotlib.org/api/_as_gen/matplotlib.axes.Axes.axis.html#matplotlib.axes.Axes.axis" title="(in Matplotlib v2.2.2)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">matplotlib.axes.Axes.axis</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function requires <a class="reference external" href="https://matplotlib.org/">matplotlib</a>.</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-textacy.text_utils">
<span id="utilities"></span><h2>Utilities<a class="headerlink" href="#module-textacy.text_utils" title="Permalink to this headline">¶</a></h2>
<p>Set of small utility functions that take text strings as input.</p>
<dl class="function">
<dt id="textacy.text_utils.KWIC">
<code class="descclassname">textacy.text_utils.</code><code class="descname">KWIC</code><span class="sig-paren">(</span><em>text</em>, <em>keyword</em>, <em>ignore_case=True</em>, <em>window_width=50</em>, <em>print_only=True</em><span class="sig-paren">)</span><a class="headerlink" href="#textacy.text_utils.KWIC" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias of <a class="reference internal" href="#textacy.text_utils.keyword_in_context" title="textacy.text_utils.keyword_in_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">keyword_in_context</span></code></a>.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_utils.clean_terms">
<code class="descclassname">textacy.text_utils.</code><code class="descname">clean_terms</code><span class="sig-paren">(</span><em>terms</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_utils.html#clean_terms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_utils.clean_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Clean up a sequence of single- or multi-word strings: strip leading/trailing
junk chars, handle dangling parens and odd hyphenation, etc.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>terms</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – sequence of terms such as “presidency”, “epic failure”,
or “George W. Bush” that may be _unclean_ for whatever reason</td>
</tr>
<tr class="field-even field"><th class="field-name">Yields:</th><td class="field-body"><em>str</em> – next term in <cite>terms</cite> but with the cruft cleaned up, excluding terms
that were _entirely_ cruft</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Terms with (intentionally) unusual punctuation may get “cleaned”
into a form that changes or obscures the original meaning of the term.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.text_utils.detect_language">
<code class="descclassname">textacy.text_utils.</code><code class="descname">detect_language</code><span class="sig-paren">(</span><em>text</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_utils.html#detect_language"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_utils.detect_language" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect the most likely language of a text and return its 2-letter code
(see <a class="reference external" href="https://cloud.google.com/translate/v2/using_rest#language-params">https://cloud.google.com/translate/v2/using_rest#language-params</a>).
Uses the <a class="reference external" href="https://pypi.python.org/pypi/cld2-cffi">cld2-cffi</a> package;
to take advantage of optional params, call <code class="xref py py-func docutils literal notranslate"><span class="pre">cld2.detect()</span></code> directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.text_utils.is_acronym">
<code class="descclassname">textacy.text_utils.</code><code class="descname">is_acronym</code><span class="sig-paren">(</span><em>token</em>, <em>exclude=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_utils.html#is_acronym"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_utils.is_acronym" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass single token as a string, return True/False if is/is not valid acronym.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>token</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – single word to check for acronym-ness</li>
<li><strong>exclude</strong> (<em>Set</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – if technically valid but not actually good acronyms
are known in advance, pass them in as a set of strings; matching
tokens will return False</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.text_utils.keyword_in_context">
<code class="descclassname">textacy.text_utils.</code><code class="descname">keyword_in_context</code><span class="sig-paren">(</span><em>text</em>, <em>keyword</em>, <em>ignore_case=True</em>, <em>window_width=50</em>, <em>print_only=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_utils.html#keyword_in_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_utils.keyword_in_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for <code class="docutils literal notranslate"><span class="pre">keyword</span></code> in <code class="docutils literal notranslate"><span class="pre">text</span></code> via regular expression, return or print strings
spanning <code class="docutils literal notranslate"><span class="pre">window_width</span></code> characters before and after each occurrence of keyword.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – text in which to search for <code class="docutils literal notranslate"><span class="pre">keyword</span></code></li>
<li><strong>keyword</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – <p>technically, any valid regular expression string should work,
but usually this is a single word or short phrase: “spam”, “spam and eggs”;
to account for variations, use regex: “[Ss]pam (and|&amp;) [Ee]ggs?”</p>
<p>N.B. If keyword contains special characters, be sure to escape them!!!</p>
</li>
<li><strong>ignore_case</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, ignore letter case in <cite>keyword</cite> matching</li>
<li><strong>window_width</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – number of characters on either side of
<cite>keyword</cite> to include as “context”</li>
<li><strong>print_only</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, print out all results with nice
formatting; if False, return all (pre, kw, post) matches as generator
of raw strings</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">generator(Tuple[str, str, str]), or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-textacy.spacy_utils"></span><p>Set of small utility functions that take Spacy objects as input.</p>
<dl class="function">
<dt id="textacy.spacy_utils.get_main_verbs_of_sent">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">get_main_verbs_of_sent</code><span class="sig-paren">(</span><em>sent</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#get_main_verbs_of_sent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.get_main_verbs_of_sent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the main (non-auxiliary) verbs in a sentence.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.spacy_utils.get_objects_of_verb">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">get_objects_of_verb</code><span class="sig-paren">(</span><em>verb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#get_objects_of_verb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.get_objects_of_verb" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all objects of a verb according to the dependency parse,
including open clausal complements.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.spacy_utils.get_span_for_compound_noun">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">get_span_for_compound_noun</code><span class="sig-paren">(</span><em>noun</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#get_span_for_compound_noun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.get_span_for_compound_noun" title="Permalink to this definition">¶</a></dt>
<dd><p>Return document indexes spanning all (adjacent) tokens
in a compound noun.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.spacy_utils.get_span_for_verb_auxiliaries">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">get_span_for_verb_auxiliaries</code><span class="sig-paren">(</span><em>verb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#get_span_for_verb_auxiliaries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.get_span_for_verb_auxiliaries" title="Permalink to this definition">¶</a></dt>
<dd><p>Return document indexes spanning all (adjacent) tokens
around a verb that are auxiliary verbs or negations.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.spacy_utils.get_subjects_of_verb">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">get_subjects_of_verb</code><span class="sig-paren">(</span><em>verb</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#get_subjects_of_verb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.get_subjects_of_verb" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all subjects of a verb according to the dependency parse.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.spacy_utils.is_negated_verb">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">is_negated_verb</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#is_negated_verb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.is_negated_verb" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if verb is negated by one of its (dependency parse) children,
False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>token</strong> (<code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>) – parent document must have parse information</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>TODO: generalize to other parts of speech; rule-based is pretty lacking,
so will probably require training a model; this is an unsolved research problem</p>
</dd></dl>

<dl class="function">
<dt id="textacy.spacy_utils.is_plural_noun">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">is_plural_noun</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#is_plural_noun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.is_plural_noun" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if token is a plural noun, False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>token</strong> (<code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>) – parent document must have POS information</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.spacy_utils.merge_spans">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">merge_spans</code><span class="sig-paren">(</span><em>spans</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#merge_spans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.merge_spans" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge spans <em>in-place</em> within parent doc so that each takes up a single token.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>spans</strong> (Iterable[<code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>]) – </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.spacy_utils.normalized_str">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">normalized_str</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#normalized_str"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.normalized_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return as-is text for tokens that are proper nouns or acronyms, lemmatized
text for everything else.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>token</strong> (<code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> or <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>) – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.spacy_utils.preserve_case">
<code class="descclassname">textacy.spacy_utils.</code><code class="descname">preserve_case</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/spacy_utils.html#preserve_case"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.spacy_utils.preserve_case" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if <cite>token</cite> is a proper noun or acronym, False otherwise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>token</strong> (<code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>) – parent document must have POS information</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<span class="target" id="module-textacy.math_utils"></span><p>Set of small utility functions that do mathy stuff.</p>
<dl class="function">
<dt id="textacy.math_utils.cosine_similarity">
<code class="descclassname">textacy.math_utils.</code><code class="descname">cosine_similarity</code><span class="sig-paren">(</span><em>vec1</em>, <em>vec2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/math_utils.html#cosine_similarity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.math_utils.cosine_similarity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cosine similarity between two vectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>vec1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.array</span></code>) – </li>
<li><strong>vec2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.array</span></code>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">float</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-textacy.network">
<span id="other-stuff"></span><h2>Other Stuff!<a class="headerlink" href="#module-textacy.network" title="Permalink to this headline">¶</a></h2>
<div class="section" id="semantic-networks">
<h3>Semantic Networks<a class="headerlink" href="#semantic-networks" title="Permalink to this headline">¶</a></h3>
<p>Represent documents as semantic networks, where nodes are individual terms or
whole sentences and edges are weighted by the strength of their co-occurrence or
similarity, respectively.</p>
<dl class="function">
<dt id="textacy.network.sents_to_semantic_network">
<code class="descclassname">textacy.network.</code><code class="descname">sents_to_semantic_network</code><span class="sig-paren">(</span><em>sents</em>, <em>normalize='lemma'</em>, <em>edge_weighting='cosine'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/network.html#sents_to_semantic_network"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.network.sents_to_semantic_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform a list of sentences into a semantic network, where each sentence is
represented by a node with edges linking it to other sentences weighted by
the (cosine or jaccard) similarity of their constituent words.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sents</strong> (List[str] or List[<code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>]) – </li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Callable</em>) – <p>If ‘lemma’, lemmatize words in sents;
if ‘lower’, lowercase word in sents; if false-y, use the form of words
as they appear in sents; if a callable, must accept a <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>
and return a str, e.g. <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">textacy.spacy_utils.normalized_str()</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is applied to the elements of <code class="docutils literal notranslate"><span class="pre">sents</span></code> <em>only</em> if
it’s a list of <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>.</p>
</div>
</li>
<li><strong>edge_weighting</strong> (<em>{'cosine'</em><em>, </em><em>'jaccard'}</em>) – Similarity metric to use for
weighting edges between sentences. If ‘cosine’, use the cosine
similarity between sentences represented as tf-idf word vectors;
if ‘jaccard’, use the set intersection divided by the set union of
all words in a given sentence pair.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Nodes are the integer indexes of the sentences
in <code class="docutils literal notranslate"><span class="pre">sents</span></code>, <em>not</em> the actual text of the sentences! Edges connect
every node, with weights determined by <code class="docutils literal notranslate"><span class="pre">edge_weighting</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">networkx.Graph</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>If passing sentences as strings, be sure to filter out stopwords, punctuation,
certain parts of speech, etc. beforehand</li>
<li>Consider normalizing the strings so that like terms are counted together
(see <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">normalized_str()</span></code></a>)</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="textacy.network.terms_to_semantic_network">
<code class="descclassname">textacy.network.</code><code class="descname">terms_to_semantic_network</code><span class="sig-paren">(</span><em>terms</em>, <em>normalize='lemma'</em>, <em>window_width=10</em>, <em>edge_weighting='cooc_freq'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/network.html#terms_to_semantic_network"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.network.terms_to_semantic_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform an ordered list of non-overlapping terms into a semantic network,
where each term is represented by a node with weighted edges linking it to
other terms that co-occur within <code class="docutils literal notranslate"><span class="pre">window_width</span></code> terms of itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>terms</strong> (List[str] or List[<code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>]) – </li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Callable</em>) – <p>If ‘lemma’, lemmatize terms; if ‘lower’,
lowercase terms; if false-y, use the form of terms as they appear
in <code class="docutils literal notranslate"><span class="pre">terms</span></code>; if a callable, must accept a <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code> and return
a str, e.g. <a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">textacy.spacy_utils.normalized_str()</span></code></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is applied to the elements of <code class="docutils literal notranslate"><span class="pre">terms</span></code> <em>only</em> if
it’s a list of <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>.</p>
</div>
</li>
<li><strong>window_width</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a>) – Size of sliding window over <code class="docutils literal notranslate"><span class="pre">terms</span></code> that determines
which are said to co-occur. If 2, only immediately adjacent terms
have edges in the returned network.</li>
<li><strong>edge_weighting</strong> (<em>{'cooc_freq'</em><em>, </em><em>'binary'}</em>) – If ‘cooc_freq’, the nodes for
all co-occurring terms are connected by edges with weight equal to
the number of times they co-occurred within a sliding window;
if ‘binary’, all such edges have weight = 1.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Nodes in this network correspond to individual terms;
those that co-occur are connected by edges with weights determined
by <code class="docutils literal notranslate"><span class="pre">edge_weighting</span></code>.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">networkx.Graph</span></code></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<ul class="simple">
<li>Be sure to filter out stopwords, punctuation, certain parts of speech, etc.
from the terms list before passing it to this function</li>
<li>Multi-word terms, such as named entities and compound nouns, must be merged
into single strings or spacy.Tokens beforehand</li>
<li>If terms are already strings, be sure to have normalized them so that
like terms are counted together; for example, by applying
<a class="reference internal" href="#textacy.spacy_utils.normalized_str" title="textacy.spacy_utils.normalized_str"><code class="xref py py-func docutils literal notranslate"><span class="pre">normalized_str()</span></code></a></li>
</ul>
</dd></dl>

</div>
<span class="target" id="module-textacy.similarity"></span><div class="section" id="similarity">
<h3>Similarity<a class="headerlink" href="#similarity" title="Permalink to this headline">¶</a></h3>
<p>Collection of various semantic similarity metrics between docs, sequences of tokens,
and individual tokens, where tokens may either be spaCy objects or strings.</p>
<dl class="function">
<dt id="textacy.similarity.hamming">
<code class="descclassname">textacy.similarity.</code><code class="descname">hamming</code><span class="sig-paren">(</span><em>str1</em>, <em>str2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/similarity.html#hamming"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.similarity.hamming" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure the similarity between two strings using Hamming distance, which
simply gives the number of characters in the strings that are different i.e.
the number of substitution edits needed to change one string into the other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str1</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>str2</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">similarity between <cite>str1</cite> and <cite>str2</cite> in the interval [0.0, 1.0],
where larger values correspond to more similar strings</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This uses a <em>modified</em> Hamming distance in that it permits strings
of different lengths to be compared.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.similarity.jaccard">
<code class="descclassname">textacy.similarity.</code><code class="descname">jaccard</code><span class="sig-paren">(</span><em>obj1</em>, <em>obj2</em>, <em>fuzzy_match=False</em>, <em>match_threshold=0.8</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/similarity.html#jaccard"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.similarity.jaccard" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure the semantic similarity between two strings or sequences of strings
using Jaccard distance, with optional fuzzy matching of not-identical pairs
when <cite>obj1</cite> and <cite>obj2</cite> are sequences of strings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>obj1</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – </li>
<li><strong>obj2</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em> or </em><em>Sequence</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – if str, both inputs are treated as sequences
of <em>characters</em>, in which case fuzzy matching is not permitted</li>
<li><strong>fuzzy_match</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, allow for fuzzy matching in addition to the
usual identical matching of pairs between input vectors</li>
<li><strong>match_threshold</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – value in the interval [0.0, 1.0]; fuzzy comparisons
with a score &gt;= this value will be considered matches</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">similarity between <cite>obj1</cite> and <cite>obj2</cite> in the interval [0.0, 1.0],
where larger values correspond to more similar strings or sequences
of strings</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – if <cite>fuzzy_match</cite> is True but <cite>obj1</cite> and <cite>obj2</cite> are strings</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.similarity.jaro_winkler">
<code class="descclassname">textacy.similarity.</code><code class="descname">jaro_winkler</code><span class="sig-paren">(</span><em>str1</em>, <em>str2</em>, <em>prefix_weight=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/similarity.html#jaro_winkler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.similarity.jaro_winkler" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure the similarity between two strings using Jaro-Winkler similarity
metric, a modification of Jaro metric giving more weight to a shared prefix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str1</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>str2</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>prefix_weight</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – the inverse value of common prefix length needed
to consider the strings identical</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">similarity between <cite>str1</cite> and <cite>str2</cite> in the interval [0.0, 1.0],
where larger values correspond to more similar strings</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.similarity.levenshtein">
<code class="descclassname">textacy.similarity.</code><code class="descname">levenshtein</code><span class="sig-paren">(</span><em>str1</em>, <em>str2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/similarity.html#levenshtein"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.similarity.levenshtein" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure the similarity between two strings using Levenshtein distance, which
gives the minimum number of character insertions, deletions, and substitutions
needed to change one string into the other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str1</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>str2</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – if True, divide Levenshtein distance by the total number
of characters in the longest string; otherwise leave the distance as-is</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">similarity between <cite>str1</cite> and <cite>str2</cite> in the interval [0.0, 1.0],
where larger values correspond to more similar strings</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.similarity.token_sort_ratio">
<code class="descclassname">textacy.similarity.</code><code class="descname">token_sort_ratio</code><span class="sig-paren">(</span><em>str1</em>, <em>str2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/similarity.html#token_sort_ratio"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.similarity.token_sort_ratio" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure of similarity between two strings based on minimal edit distance,
where ordering of words in each string is normalized before comparing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>str1</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
<li><strong>str2</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">similarity between <code class="docutils literal notranslate"><span class="pre">str1</span></code> and <code class="docutils literal notranslate"><span class="pre">str2</span></code> in the interval [0.0, 1.0],
where larger values correspond to more similar strings.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.similarity.word2vec">
<code class="descclassname">textacy.similarity.</code><code class="descname">word2vec</code><span class="sig-paren">(</span><em>obj1</em>, <em>obj2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/similarity.html#word2vec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.similarity.word2vec" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure the semantic similarity between one Doc or spacy Doc, Span, Token,
or Lexeme and another like object using the cosine distance between the
objects’ (average) word2vec vectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>obj1</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>, or <code class="docutils literal notranslate"><span class="pre">spacy.Lexeme</span></code>) – </li>
<li><strong>obj2</strong> (<code class="docutils literal notranslate"><span class="pre">textacy.Doc</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Doc</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Span</span></code>, <code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>, or <code class="docutils literal notranslate"><span class="pre">spacy.Lexeme</span></code>) – </li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns</dt>
<dd>float: similarity between <cite>obj1</cite> and <cite>obj2</cite> in the interval [0.0, 1.0],
where larger values correspond to more similar objects</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="textacy.similarity.word_movers">
<code class="descclassname">textacy.similarity.</code><code class="descname">word_movers</code><span class="sig-paren">(</span><em>doc1</em>, <em>doc2</em>, <em>metric='cosine'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/similarity.html#word_movers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.similarity.word_movers" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure the semantic similarity between two documents using Word Movers
Distance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>doc2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">spacy.Doc</span></code>) – </li>
<li><strong>metric</strong> (<em>{'cosine'</em><em>, </em><em>'euclidean'</em><em>, </em><em>'l1'</em><em>, </em><em>'l2'</em><em>, </em><em>'manhattan'}</em>) – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Similarity between <code class="docutils literal notranslate"><span class="pre">doc1</span></code> and <code class="docutils literal notranslate"><span class="pre">doc2</span></code> in the interval [0.0, 1.0],
where larger values correspond to more similar documents.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)">float</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<ul class="simple">
<li>Ofir Pele and Michael Werman, “A linear time histogram metric for improved
SIFT matching,” in Computer Vision - ECCV 2008, Marseille, France, 2008.</li>
<li>Ofir Pele and Michael Werman, “Fast and robust earth mover’s distances,”
in Proc. 2009 IEEE 12th Int. Conf. on Computer Vision, Kyoto, Japan, 2009.</li>
<li>Kusner, Matt J., et al. “From word embeddings to document distances.”
Proceedings of the 32nd International Conference on Machine Learning
(ICML 2015). 2015. <a class="reference external" href="http://jmlr.org/proceedings/papers/v37/kusnerb15.pdf">http://jmlr.org/proceedings/papers/v37/kusnerb15.pdf</a></li>
</ul>
</dd></dl>

</div>
<span class="target" id="module-textacy.text_stats"></span><div class="section" id="text-statistics">
<h3>Text Statistics<a class="headerlink" href="#text-statistics" title="Permalink to this headline">¶</a></h3>
<p>Compute a variety of basic counts and readability statistics for documents.</p>
<dl class="class">
<dt id="textacy.text_stats.TextStats">
<em class="property">class </em><code class="descclassname">textacy.text_stats.</code><code class="descname">TextStats</code><span class="sig-paren">(</span><em>doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#TextStats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.TextStats" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a variety of basic counts and readability statistics for a given
document. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">textacy</span><span class="o">.</span><span class="n">datasets</span><span class="o">.</span><span class="n">CapitolWords</span><span class="p">()</span><span class="o">.</span><span class="n">texts</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span> <span class="o">=</span> <span class="n">textacy</span><span class="o">.</span><span class="n">Doc</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span> <span class="o">=</span> <span class="n">TextStats</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span><span class="o">.</span><span class="n">n_words</span>
<span class="go">136</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span><span class="o">.</span><span class="n">flesch_kincaid_grade_level</span>
<span class="go">11.817647058823532</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span><span class="o">.</span><span class="n">basic_counts</span>
<span class="go">{&#39;n_chars&#39;: 685,</span>
<span class="go"> &#39;n_long_words&#39;: 43,</span>
<span class="go"> &#39;n_monosyllable_words&#39;: 90,</span>
<span class="go"> &#39;n_polysyllable_words&#39;: 24,</span>
<span class="go"> &#39;n_sents&#39;: 6,</span>
<span class="go"> &#39;n_syllables&#39;: 214,</span>
<span class="go"> &#39;n_unique_words&#39;: 80,</span>
<span class="go"> &#39;n_words&#39;: 136}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span><span class="o">.</span><span class="n">readability_stats</span>
<span class="go">{&#39;automated_readability_index&#39;: 13.626495098039214,</span>
<span class="go"> &#39;coleman_liau_index&#39;: 12.509300816176474,</span>
<span class="go"> &#39;flesch_kincaid_grade_level&#39;: 11.817647058823532,</span>
<span class="go"> &#39;flesch_reading_ease&#39;: 50.707745098039254,</span>
<span class="go"> &#39;gulpease_index&#39;: 51.86764705882353,</span>
<span class="go"> &#39;gunning_fog_index&#39;: 16.12549019607843,</span>
<span class="go"> &#39;lix&#39;: 54.28431372549019,</span>
<span class="go"> &#39;smog_index&#39;: 14.554592549557764,</span>
<span class="go"> &#39;wiener_sachtextformel&#39;: 8.266410784313727}</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>doc</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">SpacyDoc</span></code>) – A text document processed
by spacy. Need only be tokenized.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.text_stats.TextStats.n_sents">
<code class="descname">n_sents</code><a class="headerlink" href="#textacy.text_stats.TextStats.n_sents" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Number of sentences in <code class="docutils literal notranslate"><span class="pre">doc</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.n_words">
<code class="descname">n_words</code><a class="headerlink" href="#textacy.text_stats.TextStats.n_words" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Number of words in <code class="docutils literal notranslate"><span class="pre">doc</span></code>, including numbers + stop words
but excluding punctuation.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.n_chars">
<code class="descname">n_chars</code><a class="headerlink" href="#textacy.text_stats.TextStats.n_chars" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Number of characters for all words in <code class="docutils literal notranslate"><span class="pre">doc</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.n_syllables">
<code class="descname">n_syllables</code><a class="headerlink" href="#textacy.text_stats.TextStats.n_syllables" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Number of syllables for all words in <code class="docutils literal notranslate"><span class="pre">doc</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.n_unique_words">
<code class="descname">n_unique_words</code><a class="headerlink" href="#textacy.text_stats.TextStats.n_unique_words" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Number of unique (lower-cased) words in <code class="docutils literal notranslate"><span class="pre">doc</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.n_long_words">
<code class="descname">n_long_words</code><a class="headerlink" href="#textacy.text_stats.TextStats.n_long_words" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Number of words in <code class="docutils literal notranslate"><span class="pre">doc</span></code> with 7 or more characters.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.n_monosyllable_words">
<code class="descname">n_monosyllable_words</code><a class="headerlink" href="#textacy.text_stats.TextStats.n_monosyllable_words" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Number of words in <code class="docutils literal notranslate"><span class="pre">doc</span></code> with 1 syllable only.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.n_polysyllable_words">
<code class="descname">n_polysyllable_words</code><a class="headerlink" href="#textacy.text_stats.TextStats.n_polysyllable_words" title="Permalink to this definition">¶</a></dt>
<dd><p><em>int</em> – Number of words in <code class="docutils literal notranslate"><span class="pre">doc</span></code> with 3 or more syllables.
Note: Since this excludes words with exactly 2 syllables, it’s likely
that <code class="docutils literal notranslate"><span class="pre">n_monosyllable_words</span> <span class="pre">+</span> <span class="pre">n_polysyllable_words</span> <span class="pre">!=</span> <span class="pre">n_words</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.flesch_kincaid_grade_level">
<code class="descname">flesch_kincaid_grade_level</code><a class="headerlink" href="#textacy.text_stats.TextStats.flesch_kincaid_grade_level" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – see <a class="reference internal" href="#textacy.text_stats.flesch_kincaid_grade_level" title="textacy.text_stats.flesch_kincaid_grade_level"><code class="xref py py-func docutils literal notranslate"><span class="pre">flesch_kincaid_grade_level()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.flesch_reading_ease">
<code class="descname">flesch_reading_ease</code><a class="headerlink" href="#textacy.text_stats.TextStats.flesch_reading_ease" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – see <a class="reference internal" href="#textacy.text_stats.flesch_reading_ease" title="textacy.text_stats.flesch_reading_ease"><code class="xref py py-func docutils literal notranslate"><span class="pre">flesch_reading_ease()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.smog_index">
<code class="descname">smog_index</code><a class="headerlink" href="#textacy.text_stats.TextStats.smog_index" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – see <a class="reference internal" href="#textacy.text_stats.smog_index" title="textacy.text_stats.smog_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">smog_index()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.gunning_fog_index">
<code class="descname">gunning_fog_index</code><a class="headerlink" href="#textacy.text_stats.TextStats.gunning_fog_index" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – see <a class="reference internal" href="#textacy.text_stats.gunning_fog_index" title="textacy.text_stats.gunning_fog_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">gunning_fog_index()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.coleman_liau_index">
<code class="descname">coleman_liau_index</code><a class="headerlink" href="#textacy.text_stats.TextStats.coleman_liau_index" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – see <a class="reference internal" href="#textacy.text_stats.coleman_liau_index" title="textacy.text_stats.coleman_liau_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">coleman_liau_index()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.automated_readability_index">
<code class="descname">automated_readability_index</code><a class="headerlink" href="#textacy.text_stats.TextStats.automated_readability_index" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – see <a class="reference internal" href="#textacy.text_stats.automated_readability_index" title="textacy.text_stats.automated_readability_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">automated_readability_index()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.lix">
<code class="descname">lix</code><a class="headerlink" href="#textacy.text_stats.TextStats.lix" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – see <a class="reference internal" href="#textacy.text_stats.lix" title="textacy.text_stats.lix"><code class="xref py py-func docutils literal notranslate"><span class="pre">lix()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.gulpease_index">
<code class="descname">gulpease_index</code><a class="headerlink" href="#textacy.text_stats.TextStats.gulpease_index" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – see <a class="reference internal" href="#textacy.text_stats.gulpease_index" title="textacy.text_stats.gulpease_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">gulpease_index()</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.wiener_sachtextformel">
<code class="descname">wiener_sachtextformel</code><a class="headerlink" href="#textacy.text_stats.TextStats.wiener_sachtextformel" title="Permalink to this definition">¶</a></dt>
<dd><p><em>float</em> – see <a class="reference internal" href="#textacy.text_stats.wiener_sachtextformel" title="textacy.text_stats.wiener_sachtextformel"><code class="xref py py-func docutils literal notranslate"><span class="pre">wiener_sachtextformel()</span></code></a>
Note: This always returns variant #1.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.basic_counts">
<code class="descname">basic_counts</code><a class="headerlink" href="#textacy.text_stats.TextStats.basic_counts" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[str, int]</em> – Mapping of basic count names to values,
where basic counts are the attributes listed above between <code class="docutils literal notranslate"><span class="pre">n_sents</span></code>
and <code class="docutils literal notranslate"><span class="pre">n_polysyllable_words</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="textacy.text_stats.TextStats.readability_stats">
<code class="descname">readability_stats</code><a class="headerlink" href="#textacy.text_stats.TextStats.readability_stats" title="Permalink to this definition">¶</a></dt>
<dd><p><em>Dict[str, float]</em> – Mapping of readability statistic
names to values, where readability stats are the attributes listed
above between <code class="docutils literal notranslate"><span class="pre">flesch_kincaid_grade_level</span></code> and <code class="docutils literal notranslate"><span class="pre">wiener_sachtextformel</span></code>.</p>
</dd></dl>

<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#ValueError" title="(in Python v3.6)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> – If <code class="docutils literal notranslate"><span class="pre">doc</span></code> is not a <code class="xref py py-class docutils literal notranslate"><span class="pre">textacy.Doc</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">SpacyDoc</span></code>.</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="textacy.text_stats.TextStats.flesch_readability_ease">
<code class="descname">flesch_readability_ease</code><a class="headerlink" href="#textacy.text_stats.TextStats.flesch_readability_ease" title="Permalink to this definition">¶</a></dt>
<dd><p>For backwards compatibility. Deprecated.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.automated_readability_index">
<code class="descclassname">textacy.text_stats.</code><code class="descname">automated_readability_index</code><span class="sig-paren">(</span><em>n_chars</em>, <em>n_words</em>, <em>n_sents</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#automated_readability_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.automated_readability_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Readability score whose value estimates the U.S. grade level required to
understand a text, most similarly to <a class="reference internal" href="#textacy.text_stats.flesch_kincaid_grade_level" title="textacy.text_stats.flesch_kincaid_grade_level"><code class="xref py py-func docutils literal notranslate"><span class="pre">flesch_kincaid_grade_level()</span></code></a>,
but using characters instead of syllables like <a class="reference internal" href="#textacy.text_stats.coleman_liau_index" title="textacy.text_stats.coleman_liau_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">coleman_liau_index()</span></code></a>.
Higher value =&gt; more difficult text.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Automated_readability_index">https://en.wikipedia.org/wiki/Automated_readability_index</a></p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.coleman_liau_index">
<code class="descclassname">textacy.text_stats.</code><code class="descname">coleman_liau_index</code><span class="sig-paren">(</span><em>n_chars</em>, <em>n_words</em>, <em>n_sents</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#coleman_liau_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.coleman_liau_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Readability score whose value estimates the number of years of education
required to understand a text, similar to <a class="reference internal" href="#textacy.text_stats.flesch_kincaid_grade_level" title="textacy.text_stats.flesch_kincaid_grade_level"><code class="xref py py-func docutils literal notranslate"><span class="pre">flesch_kincaid_grade_level()</span></code></a>
and <a class="reference internal" href="#textacy.text_stats.smog_index" title="textacy.text_stats.smog_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">smog_index()</span></code></a>, but using characters instead of syllables.
Higher value =&gt; more difficult text.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Coleman%E2%80%93Liau_index">https://en.wikipedia.org/wiki/Coleman%E2%80%93Liau_index</a></p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.flesch_kincaid_grade_level">
<code class="descclassname">textacy.text_stats.</code><code class="descname">flesch_kincaid_grade_level</code><span class="sig-paren">(</span><em>n_syllables</em>, <em>n_words</em>, <em>n_sents</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#flesch_kincaid_grade_level"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.flesch_kincaid_grade_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Readability score used widely in education, whose value estimates the U.S.
grade level / number of years of education required to understand a text.
Higher value =&gt; more difficult text.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests#Flesch.E2.80.93Kincaid_grade_level">https://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests#Flesch.E2.80.93Kincaid_grade_level</a></p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.flesch_readability_ease">
<code class="descclassname">textacy.text_stats.</code><code class="descname">flesch_readability_ease</code><span class="sig-paren">(</span><em>n_syllables</em>, <em>n_words</em>, <em>n_sents</em>, <em>lang=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#flesch_readability_ease"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.flesch_readability_ease" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#textacy.text_stats.flesch_reading_ease" title="textacy.text_stats.flesch_reading_ease"><code class="xref py py-func docutils literal notranslate"><span class="pre">flesch_reading_ease()</span></code></a>, for backwards compatibility.</p>
<p>Deprecated!</p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.flesch_reading_ease">
<code class="descclassname">textacy.text_stats.</code><code class="descname">flesch_reading_ease</code><span class="sig-paren">(</span><em>n_syllables</em>, <em>n_words</em>, <em>n_sents</em>, <em>lang=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#flesch_reading_ease"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.flesch_reading_ease" title="Permalink to this definition">¶</a></dt>
<dd><p>Readability score usually in the range [0, 100], related (inversely) to
<a class="reference internal" href="#textacy.text_stats.flesch_kincaid_grade_level" title="textacy.text_stats.flesch_kincaid_grade_level"><code class="xref py py-func docutils literal notranslate"><span class="pre">flesch_kincaid_grade_level()</span></code></a>. Higher value =&gt; easier text.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Constant weights in this formula are language-dependent;
if <code class="docutils literal notranslate"><span class="pre">lang</span></code> is null, the English-language formulation is used.</p>
</div>
<p class="rubric">References</p>
<p>English: <a class="reference external" href="https://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests#Flesch_reading_ease">https://en.wikipedia.org/wiki/Flesch%E2%80%93Kincaid_readability_tests#Flesch_reading_ease</a>
German: <a class="reference external" href="https://de.wikipedia.org/wiki/Lesbarkeitsindex#Flesch-Reading-Ease">https://de.wikipedia.org/wiki/Lesbarkeitsindex#Flesch-Reading-Ease</a>
Spanish: ?
French: ?
Italian: <a class="reference external" href="https://it.wikipedia.org/wiki/Formula_di_Flesch">https://it.wikipedia.org/wiki/Formula_di_Flesch</a>
Dutch: ?
Russian: <a class="reference external" href="https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D0%B4%D0%B5%D0%BA%D1%81_%D1%83%D0%B4%D0%BE%D0%B1%D0%BE%D1%87%D0%B8%D1%82%D0%B0%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D0%B8">https://ru.wikipedia.org/wiki/%D0%98%D0%BD%D0%B4%D0%B5%D0%BA%D1%81_%D1%83%D0%B4%D0%BE%D0%B1%D0%BE%D1%87%D0%B8%D1%82%D0%B0%D0%B5%D0%BC%D0%BE%D1%81%D1%82%D0%B8</a></p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.gulpease_index">
<code class="descclassname">textacy.text_stats.</code><code class="descname">gulpease_index</code><span class="sig-paren">(</span><em>n_chars</em>, <em>n_words</em>, <em>n_sents</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#gulpease_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.gulpease_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Readability score for Italian-language texts, whose value is in the range
[0, 100] similar to <a class="reference internal" href="#textacy.text_stats.flesch_reading_ease" title="textacy.text_stats.flesch_reading_ease"><code class="xref py py-func docutils literal notranslate"><span class="pre">flesch_reading_ease()</span></code></a>. Higher value =&gt;
easier text.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://it.wikipedia.org/wiki/Indice_Gulpease">https://it.wikipedia.org/wiki/Indice_Gulpease</a></p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.gunning_fog_index">
<code class="descclassname">textacy.text_stats.</code><code class="descname">gunning_fog_index</code><span class="sig-paren">(</span><em>n_words</em>, <em>n_polysyllable_words</em>, <em>n_sents</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#gunning_fog_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.gunning_fog_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Readability score whose value estimates the number of years of education
required to understand a text, similar to <a class="reference internal" href="#textacy.text_stats.flesch_kincaid_grade_level" title="textacy.text_stats.flesch_kincaid_grade_level"><code class="xref py py-func docutils literal notranslate"><span class="pre">flesch_kincaid_grade_level()</span></code></a>
and <a class="reference internal" href="#textacy.text_stats.smog_index" title="textacy.text_stats.smog_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">smog_index()</span></code></a>. Higher value =&gt; more difficult text.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Gunning_fog_index">https://en.wikipedia.org/wiki/Gunning_fog_index</a></p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.lix">
<code class="descclassname">textacy.text_stats.</code><code class="descname">lix</code><span class="sig-paren">(</span><em>n_words</em>, <em>n_long_words</em>, <em>n_sents</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#lix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.lix" title="Permalink to this definition">¶</a></dt>
<dd><p>Readability score commonly used in Sweden, whose value estimates the
difficulty of reading a foreign text. Higher value =&gt; more difficult text.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/LIX">https://en.wikipedia.org/wiki/LIX</a></p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.smog_index">
<code class="descclassname">textacy.text_stats.</code><code class="descname">smog_index</code><span class="sig-paren">(</span><em>n_polysyllable_words</em>, <em>n_sents</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#smog_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.smog_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Readability score commonly used in healthcare, whose value estimates the
number of years of education required to understand a text, similar to
<a class="reference internal" href="#textacy.text_stats.flesch_kincaid_grade_level" title="textacy.text_stats.flesch_kincaid_grade_level"><code class="xref py py-func docutils literal notranslate"><span class="pre">flesch_kincaid_grade_level()</span></code></a> and intended as a substitute for
<a class="reference internal" href="#textacy.text_stats.gunning_fog_index" title="textacy.text_stats.gunning_fog_index"><code class="xref py py-func docutils literal notranslate"><span class="pre">gunning_fog_index()</span></code></a>. Higher value =&gt; more difficult text.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/SMOG">https://en.wikipedia.org/wiki/SMOG</a></p>
</dd></dl>

<dl class="function">
<dt id="textacy.text_stats.wiener_sachtextformel">
<code class="descclassname">textacy.text_stats.</code><code class="descname">wiener_sachtextformel</code><span class="sig-paren">(</span><em>n_words</em>, <em>n_polysyllable_words</em>, <em>n_monosyllable_words</em>, <em>n_long_words</em>, <em>n_sents</em>, <em>variant=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/text_stats.html#wiener_sachtextformel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.text_stats.wiener_sachtextformel" title="Permalink to this definition">¶</a></dt>
<dd><p>Readability score for German-language texts, whose value estimates the grade
level required to understand a text. Higher value =&gt; more difficult text.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://de.wikipedia.org/wiki/Lesbarkeitsindex#Wiener_Sachtextformel">https://de.wikipedia.org/wiki/Lesbarkeitsindex#Wiener_Sachtextformel</a></p>
</dd></dl>

</div>
<span class="target" id="module-textacy.cache"></span><div class="section" id="cache">
<h3>Cache<a class="headerlink" href="#cache" title="Permalink to this headline">¶</a></h3>
<p>Functions to load and cache language data and other NLP resources. Loading data
from disk can be slow; let’s just do it once and forget about it. :)</p>
<dl class="data">
<dt id="textacy.cache.LRU_CACHE">
<code class="descclassname">textacy.cache.</code><code class="descname">LRU_CACHE</code><em class="property"> = LRUCache([], maxsize=2147483648, currsize=0)</em><a class="headerlink" href="#textacy.cache.LRU_CACHE" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="xref py py-class docutils literal notranslate"><span class="pre">cachetools.LRUCache</span></code> – Least Recently Used (LRU) cache for loaded data.</p>
<p>The max cache size may be set by the <cite>TEXTACY_MAX_CACHE_SIZE</cite> environment variable,
where the value must be an integer (in bytes). Otherwise, the max size is 2GB.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.cache.clear">
<code class="descclassname">textacy.cache.</code><code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/cache.html#clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.cache.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear textacy’s cache of loaded data.</p>
</dd></dl>

<dl class="function">
<dt id="textacy.cache.load_depechemood">
<code class="descclassname">textacy.cache.</code><code class="descname">load_depechemood</code><span class="sig-paren">(</span><em>data_dir=None</em>, <em>weighting='normfreq'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/cache.html#load_depechemood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.cache.load_depechemood" title="Permalink to this definition">¶</a></dt>
<dd><p>Load DepecheMood lexicon text file from disk, munge into nested dictionary
for convenient lookup by lemma#POS. NB: English only!</p>
<p>Each version of DepecheMood is built starting from word-by-document matrices
either using raw frequencies (DepecheMood_freq.txt), normalized frequencies
(DepecheMood_normfreq.txt) or tf-idf (DepecheMood_tfidf.txt). The files are
tab-separated; each row contains one Lemma#PoS followed by the scores for the
following emotions: AFRAID, AMUSED, ANGRY, ANNOYED, DONT_CARE, HAPPY, INSPIRED, SAD.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data_dir</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Directory on disk where DepecheMood lexicon text fields,
i.e. the location of the ‘DepecheMood_V1.0’ directory created when
unzipping the DM dataset.</li>
<li><strong>weighting</strong> (<em>{'freq'</em><em>, </em><em>'normfreq'</em><em>, </em><em>'tfidf'}</em>) – Type of word
weighting used in building DepecheMood matrix.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Top-level keys are Lemma#POS strings, values are nested dicts
with emotion names as keys and weights as floats.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Dict[<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a>]</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>Staiano, J., &amp; Guerini, M. (2014). “DepecheMood: a Lexicon for Emotion
Analysis from Crowd-Annotated News”. Proceedings of ACL-2014. (arXiv:1405.1605)
Data available at https://github.com/marcoguerini/DepecheMood/releases .</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.lexicon_methods.download_depechemood" title="textacy.lexicon_methods.download_depechemood"><code class="xref py py-func docutils literal notranslate"><span class="pre">download_depechemood</span></code></a></p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.cache.load_hyphenator">
<code class="descclassname">textacy.cache.</code><code class="descname">load_hyphenator</code><span class="sig-paren">(</span><em>lang</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/cache.html#load_hyphenator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.cache.load_hyphenator" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an object that hyphenates words at valid points, as used in LaTex typesetting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lang</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – <p>Standard 2-letter language abbreviation. To get a list of
valid values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyphen</span><span class="p">;</span> <span class="n">pyphen</span><span class="o">.</span><span class="n">LANGUAGES</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyphen.Pyphen()</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While hyphenation points always fall on syllable divisions,
not all syllable divisions are valid hyphenation points. But it’s decent.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="textacy.cache.load_spacy">
<code class="descclassname">textacy.cache.</code><code class="descname">load_spacy</code><span class="sig-paren">(</span><em>name</em>, <em>disable=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/cache.html#load_spacy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.cache.load_spacy" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a spaCy pipeline (model weights as binary data, ordered sequence of
component functions, and language-specific data) for tokenizing and annotating
text. An LRU cache saves pipelines in memory, up to 2GB.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (str or <a class="reference external" href="https://docs.python.org/3.6/library/pathlib.html#pathlib.Path" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">pathlib.Path</span></code></a>) – spaCy model to load, i.e. a shortcut
link, full package name, or path to model directory.</li>
<li><strong>disable</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>]</em>) – <p>Names of pipeline components to disable, if any.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Although spaCy’s API specifies this argument as a list,
here we require a tuple. Pipelines are stored in the LRU cache
with unique identifiers generated from the hash of the function
name and args, and lists aren’t hashable.</p>
</div>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A Language object with the loaded model.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="docutils literal notranslate"><span class="pre">spacy.&lt;lang&gt;.&lt;Language&gt;</span></code></p>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://spacy.io/api/top-level#spacy.load">https://spacy.io/api/top-level#spacy.load</a></p>
</div>
</dd></dl>

</div>
<span class="target" id="module-textacy.lexicon_methods"></span><div class="section" id="lexicon-methods">
<h3>Lexicon Methods<a class="headerlink" href="#lexicon-methods" title="Permalink to this headline">¶</a></h3>
<p>Collection of lexicon-based methods for characterizing texts by sentiment,
emotional valence, etc.</p>
<p>This module is a bit of an orphan right now…</p>
<dl class="function">
<dt id="textacy.lexicon_methods.download_depechemood">
<code class="descclassname">textacy.lexicon_methods.</code><code class="descname">download_depechemood</code><span class="sig-paren">(</span><em>data_dir=None</em>, <em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/lexicon_methods.html#download_depechemood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.lexicon_methods.download_depechemood" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the DepecheMood dataset from GitHub, save to disk as .txt files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>data_dir</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – Path to directory on disk where data files are to be saved.</li>
<li><strong>force</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#bool" title="(in Python v3.6)"><em>bool</em></a>) – If True, download the data, even if it already exists
on disk under <code class="docutils literal notranslate"><span class="pre">data_dir</span></code>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="textacy.lexicon_methods.emotional_valence">
<code class="descclassname">textacy.lexicon_methods.</code><code class="descname">emotional_valence</code><span class="sig-paren">(</span><em>words</em>, <em>threshold=0.0</em>, <em>dm_data_dir=None</em>, <em>dm_weighting='normfreq'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/textacy/lexicon_methods.html#emotional_valence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#textacy.lexicon_methods.emotional_valence" title="Permalink to this definition">¶</a></dt>
<dd><p>Get average emotional valence over all words for the following emotions –
AFRAID, AMUSED, ANGRY, ANNOYED, DONT_CARE, HAPPY, INSPIRED, SAD – using
the <a class="reference internal" href="#depechemood" id="id9">[DepecheMood]</a> dataset.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>words</strong> (List[<code class="docutils literal notranslate"><span class="pre">spacy.Token</span></code>]) – list of words for which to get
average emotional valence; note that only nouns, adjectives, adverbs,
and verbs will be counted</li>
<li><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#float" title="(in Python v3.6)"><em>float</em></a>) – minimum emotional valence score for which to
count a given word for a given emotion; value must be in [0.0, 1.0)</li>
<li><strong>dm_data_dir</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a>) – full path to directory where DepecheMood data
is saved on disk</li>
<li><strong>dm_weighting</strong> (<em>{'freq'</em><em>, </em><em>'normfreq'</em><em>, </em><em>'tfidf'}</em>) – type of word
weighting used in building DepecheMood matrix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">mapping of emotion (str) to average valence score (float)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#dict" title="(in Python v3.6)">dict</a></p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="depechemood" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id9">[DepecheMood]</a></td><td>Staiano and Guerini. DepecheMood: a Lexicon for Emotion
Analysis from Crowd-Annotated News. 2014.
Data available at <a class="reference external" href="https://github.com/marcoguerini/DepecheMood/releases">https://github.com/marcoguerini/DepecheMood/releases</a></td></tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#textacy.cache.load_depechemood" title="textacy.cache.load_depechemood"><code class="xref py py-func docutils literal notranslate"><span class="pre">cache.load_depechemood()</span></code></a></p>
</div>
</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="changelog.html" class="btn btn-neutral float-right" title="Changelog" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting_started/quickstart.html" class="btn btn-neutral" title="Quickstart" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 Chartbeat, Inc..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.6.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>